{"version":3,"sources":["helpers/CryptoHelper.js","serviceWorker.js","connectors.ts","hooks.ts","config/index.js","helpers/EPNSCoreHelper.js","components/NotificationToast.js","components/AliasVerificationModal.js","components/ViewInfoItem.js","segments/Info.tsx","redux/slices/spamSlice.js","api/index.js","components/DisplayNotice.js","redux/slices/notificationSlice.js","segments/spam.tsx","segments/Feedbox.tsx","assets/Device.js","singletons/ChannelsDataStore.js","redux/slices/channelSlice.js","components/ViewChannelItem.js","components/Faucets.js","segments/ViewChannels.tsx","assets/icons/index.js","components/SendNotifications.tsx","components/AddDelegateModal.js","components/RemoveDelegateModal.js","components/ActivateChannelModal.js","redux/slices/adminSlice.js","components/ChannelSettingsDropdown.tsx","components/ChannelSettings.jsx","components/ChannelDetails.js","segments/ChannelOwnerDashboard.js","segments/ChannelCreationDashboard.js","singletons/UsersDataStore.js","redux/slices/contractSlice.js","pages/Home.js","components/BlockiesIdenticon.js","components/Profile.tsx","components/Bell.js","segments/Header.tsx","config/countdown.js","components/TimerItem.js","segments/TimerComponent.js","App.tsx","redux/store.js","index.js","../../contracts/src/config.js","../../contracts/src/addresses.js","../../contracts/src/index.js","components/CreateChannel.js","components/SharedStyling.js","components/blockies.js"],"names":["CryptoJS","require","CryptoHelper","encryptWithAES","message","key","AES","encrypt","toString","decryptWithAES","decrypt","enc","Utf8","encryptWithECIES","publicKey","a","compressedKey","EthCrypto","compress","this","encryptWithPublicKey","encryptedSecret","decryptWithECIES","privateKey","decryptWithPrivateKey","pubKeyUint8Array","Uint8Array","from","Buffer","convertedKeyAsUint8Array","publicKeyConvert","convertedPublicKeyHex","pubKey","then","encryptedBuffers","cipher","iv","ephemPublicKey","ciphertext","mac","input","keyConvert","concat","buf","encrypted","length","keyConvertBuffer","uncompressedKey","twoStripped","substring","encryptedBuffer","decryptedBuffer","encryptionDecryptionPublicToPrivateTest","startTime","Date","console","log","publicKeyByPrivateKey","msg","encryptionTime","getTime","decryptMsg","decryptionTime","outputMsgPayload","secret","subject","calltoaction","imageurl","pkey","secretEncrypted","asubE","amsgE","actaE","aimgE","makeid","result","toISOString","characters","charactersLength","i","charAt","Math","floor","random","Boolean","window","location","hostname","match","config","SUPPORTED_CHAIN_IDS","envConfig","allowedNetworks","CORE_CHAIN_ID","coreContractChain","CORE_RPC","coreRPC","RPC_URLS","injected","InjectedConnector","supportedChainIds","walletconnect","WalletConnectConnector","rpc","bridge","qrcode","pollingInterval","portis","LedgerConnector","chainId","url","TrezorConnector","manifestEmail","manifestAppUrl","PortisConnector","dAppId","networks","dotenv","etherscanToken","process","EPNSCoreHelper","getOwnerInfo","contract","Promise","resolve","reject","governance","response","catch","err","getUserInfo","user","users","mappings","addr","getChannelAddressFromID","channelID","channelById","getChannelInfo","channel","channels","getChannelEvent","startBlock","updateBlock","filter","filters","AddChannel","block","UpdateChannel","queryFilter","filteredResponse","forEach","item","args","ethers","utils","toUtf8String","identity","getJsonFileFromIdentity","ids","split","fetch","json","getChannelJsonFromChannelAddress","channelStartBlock","toNumber","channelUpdateBlock","hash","getChannelJsonFromUserAddress","getTotalNumberOfChannels","channelsCount","getChannelsMetaLatestToOldest","atIndex","numChannels","channelsInfo","channelArrays","assignedChannelID","push","promises","map","all","getTotalNumberOfUsers","usersCount","getPublicKey","address","getSubscribedStatus","isUserSubscribed","getTotalSubscribedChannels","subscribedCount","getFairShareOfUserAtBlock","userActivated","calcAllChannelsRatio","getPoolFunds","poolFunds","formatBigNumberToMetric","bignumber","convertToCurrency","div","metricFormatter","e","num","digits","si","value","symbol","toFixed","replace","NotificationWrapper","styled","Toaster","NotificationToast","notification","clearToast","LoaderToast","color","notificationTitle","notificationBody","toast","dark","onClick","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","AliasVerificationModal","onClose","onSuccess","verificationStatus","useWeb3React","account","active","error","library","signer","getSigner","modalRef","useRef","polygonCommsContract","Contract","addresses","epnsPolyComm","abis","epnsComm","useState","mainAdress","setMainAddress","loading","setLoading","useClickAway","Overlay","AliasModal","ref","align","textTransform","spacing","weight","bg","padding","CustomInput","required","placeholder","radius","border","onChange","target","margin","flex","self","disabled","verifyChannelAlias","tx","setTimeout","type","height","width","StyledInput","cursor","size","Input","Container","ChannelTitleLink","AppLink","AppLinkText","ChannelInfo","ChannelTitle","ViewInfoItem","href","rel","REACT_APP_HOW_TO_GUIDE","ContainerInfo","InfoBox","Info","React","controlAt","initialState","page","notifications","finishedFetching","toggler","contractSlice","createSlice","name","reducers","toggleToggler","state","resetState","addPaginatedNotifications","action","payload","incrementPage","addNewNotification","setFinishedFetching","updateTopNotifications","notifs","slice","pageSize","sn","actions","BASE_URL","apiUrl","postReq","path","obj","axios","post","headers","Notice","span","props","theme","css","DisplayNotice","title","useEffect","animationIn","animationOut","durationOut","pp","CenteredContainerInfo","Items","SpamBox","currentTab","dispatch","useDispatch","epnsCommReadProvider","useSelector","contracts","spam","EPNS_DOMAIN","toggle","verifyingContract","bgUpdateLoading","setBgUpdateLoading","loadNotifications","api","fetchSpamNotifications","count","results","parsedResponsePromise","parseApiResponse","elem","op","subscribers","data","parsedResponse","fetchLatestNotifications","handlePagination","onSubscribeToChannel","channelAddress","Subscribe","subscriber","_signTypedData","signature","contractAddress","isSubscribedFn","toLowerCase","includes","style","marginTop","id","oneNotification","index","cta","app","icon","image","Number","showWayPoint","onEnter","subscribeFn","stopPropagation","isSpam","FullWidth","Wrapper","Feedbox","fetchNotifications","Device","mobileS","mobileM","mobileL","tablet","laptop","laptopL","desktop","desktopL","ChannelEvents","ChannelsDataStore","channelsMeta","channelsJson","callbacks","epnsReadProvider","init","resetChannelsListeners","initChannelsListenersAsync","getChannelsCountAsync","removeAllListeners","listenForAddChannelAnyAsync","listenForAddChannelSelfAsync","listenForUpdateChannelAnyAsync","listenForUpdateChannelSelfAsync","listenForSubscribeAnyAsync","listenForSubscribeSelfAsync","listenForUnsubscribeAnyAsync","listenForUnsubscribeSelfAsync","on","ipfs","incrementChannelsCountAsync","Object","entries","callback","Unsubscribe","addCallbacks","callbackType","callbackID","removeCallbacks","incrementCount","getChannelFromApi","startIndex","pageCount","ceil","getChannelsMetaAsync","stopIndex","channelIDs","getChannelMetaAsync","channelMetaData","getChannelMetaViaAddressAsync","getChannelSubscribers","cachedSubscribers","subs","getChannelJsonAsync","instance","CHANNNEL_DEACTIVATED_STATE","CHANNEL_BLOCKED_STATE","CHANNEL_ACTIVE_STATE","CHANNEL_BLACKLIST","channelsCache","setChannelMeta","cacheChannelInfo","meta","FlexBox","ColumnFlex","SkeletonWrapper","atW","atH","borderRadius","marginBottom","marginRight","ChannelLogo","ChannelLogoOuter","ChannelLogoInner","ChannelLogoImg","img","VerifiedBy","VerifierIcon","VerifierName","ChannelDesc","ChannelDescLabel","label","ChannelMeta","ChannelMetaBox","Subscribers","SubscribersCount","LineBreak","ChannelActions","ChannelActionButton","button","ActionTitle","hideit","ActionLoader","SkeletonButton","SubscribeButton","UnsubscribeButton","OwnerButton","ToasterMsg","ViewChannelItem","channelObjectProp","epnsWriteProvider","pushAdminAddress","ZERO_ADDRESS","canVerify","admin","isOwner","channelObject","setChannelObject","channelJson","setChannelJson","subscribed","setSubscribed","memberCount","setMemberCount","isPushAdmin","setIsPushAdmin","isVerified","setIsVerified","isBlocked","setIsBlocked","vLoading","setvLoading","bLoading","setBLoading","txInProgress","setTxInProgress","canUnverify","setCanUnverify","verifierDetails","setVerifierDetails","copyText","setCopyText","isChannelBlacklisted","showToast","verifiedBy","fetchChannelJson","alert","channelState","addressText","channelSubscribers","find","sub","subscribe","subscribeAction","notificationToast","toaster","txToast","res","update","render","TYPE","SUCCESS","ERROR","unsubscribeAction","unsubscriber","finally","src","display","marginLeft","info","navigator","clipboard","writeText","el","document","createElement","body","appendChild","select","execCommand","removeChild","copyToClipboard","onMouseEnter","onMouseLeave","blockChannel","INFO","verifyChannel","unverifyChannel","wait","Faucets","overflow","pos","top","right","direction","textAlign","Header","InputWrapper","SearchBar","CenterContainer","SearchIconImage","ViewChannels","moreLoading","setMoreLoading","search","setSearch","channelToShow","setChannelToShow","loadingChannel","setLoadingChannel","trialCount","setTrialCount","channelsVisited","isMainnet","fetchInitialsChannelMeta","updateCurrentPage","loadMoreChannelMeta","newPageNumber","startingPoint","moreChannels","searchForChannel","query","t","timeout","clearTimeout","minHeight","className","alt","CloseIcon","xmlns","viewBox","data-name","transform","x2","fill","stroke","stroke-linecap","stroke-width","y2","NFTypes","LIMITER_KEYS","DropdownStyledParent","MultiRecipientsContainer","ModifiedContent","Content","DropdownHeader","DropdownStyled","Dropdown","DropdownStyledWhite","DropdownStyledParentWhite","CustomDropdownItem","SendNotifications","epnsCommWriteProvider","channelDetails","delegatees","nfProcessing","setNFProcessing","setChannelAddress","nfRecipient","setNFRecipient","multipleRecipients","setMultipleRecipients","tempRecipeint","setTempRecipient","nfType","setNFType","nfSub","setNFSub","nfSubEnabled","setNFSubEnabled","nfMsg","setNFMsg","nfCTA","setNFCTA","nfCTAEnabled","setNFCTAEnabled","nfMedia","setNFMedia","nfMediaEnabled","setNFMediaEnabled","nfInfo","setNFInfo","delegateeOptions","setDelegateeOptions","isChannelDeactivated","cannotDisplayDelegatees","oneDelegatee","bodyValidated","validated","handleSendMessage","preventDefault","nsub","nmsg","asub","amsg","acta","aimg","k","publickey","storagePointer","isEmpty","jsonPayload","JSON","stringify","at","add","toUtf8Bytes","Data","recipient","deployedContract","field","trim","justify","onSubmit","minWidth","options","option","d","Switch","checked","z","oneRecipient","recipientAddress","filteredRecipients","rec","removeRecipient","onKeyPress","oldRecipients","Array","Set","text","borderBottom","rows","autocomplete","AddDelegateModal","addDelegate","RemoveDelegateModal","removeDelegate","ActivateChannelModal","activateChannel","setChannelStakeFees","channelStakeFees","popupRef","PopupOverlay","PopupSlider","Slider","defaultValue","onChangeCommitted","_","aria-labelledby","valueLabelDisplay","step","marks","min","max","setUserChannelDetails","setCanVerify","setDelegatees","DropdownWrapper","ActiveChannelWrapper","inactive","DeactivateButton","ChannelSettings","onCoreNetwork","ALLOWED_CORE_NETWORK","showActivateChannelPopup","setShowActivateChannelPopup","poolContrib","setPoolContrib","addDelegateLoading","setAddDelegateLoading","addModalOpen","setAddModalOpen","removeDelegateLoading","setRemoveDelegateLoading","removeModalOpen","setRemoveModalOpen","isChannelBlocked","channelInactive","poolContribution","daiContract","dai","erc20","fees","parseUnits","sendTransactionPromise","approve","epnscore","waitForTransaction","reactivateChannel","deactivateChannel","amountToBeConverted","parseInt","pushValue","quote","PUSH","price","pow","walletAddress","setActive","SettingsWrapper","ChannelSettingsDropdown","Settings","ChannelDetails","verifyingChannel","setVerifyingChannel","creationDate","setCreationDate","channelIsActive","channelIsDeactivated","bn","getBlock","date","moment","timestamp","format","ChannelDetailsWrapper","SectionTop","ImageSection","Details","ChannelName","VerifyImage","ChanneStateText","SectionDes","SectionDate","Verified","VerifyingIcon","VerifyingName","ChannelOwnerDashboard","CreateChannel","ChannelCreationDashboard","UsersDataStore","userMeta","ownerMeta","resetUsersListeners","initUsersListenersAsync","getOwnerMetaAsync","getUsersCountAsync","getUserMetaAsync","listenForSubscribedAsync","listenForUnsubscribedAsync","publicKeyRegistered","listenForPublicKeyBroadcastAsync","incrementUsersCountAsync","setCoreReadProvider","setCoreWriteProvider","setCommunicatorReadProvider","setCommunicatorWriteProvider","setPushAdmin","Controls","ControlButton","ControlImage","ControlText","ControlChannelContainer","ControlChannelImage","ControlChannelText","Interface","Home","ReactGA","pageview","setControlAt","modalOpen","setModalOpen","adminStatusLoaded","setAdminStatusLoaded","aliasEthAccount","setAliasEthAccount","aliasVerified","setAliasVerified","channelAdmin","setChannelAdmin","coreProvider","getDefaultProvider","etherscan","aliasAddress","ethAddress","status","coreContractInstance","commAddress","epnsEthComm","commContractInstance","coreSignerInstance","communicatorSignerInstance","userClickedAt","pushChannelAdmin","checkUserForChannelOwnership","fetchDelegators","controlIndex","delegateAddress","delegators","channelOwners","channelInformationPromise","channelInformation","ownerAccount","getChannelVerfication","BlockiesIdenticon","seed","opts","bgcolor","scale","spotcolor","draw","prevProps","blockies","canvas","Component","Blocky","BlockyInner","Wallet","Profile","setAddress","ens","setENS","ensFetched","setENSFetched","lookupAddress","tadaaa","keyframes","BellImage","ringme","BellImageAbs","Badge","Bell","badgeCount","bellPressedCB","badge","setBadge","ring","setRing","setResetRinger","HeaderContainer","Section","Logo","PrimaryTheme","ThirdTheme","Connection","phase","context","deactivate","showLoginControls","setShowLoginControls","NoEthereumProviderError","UnsupportedChainIdError","UserRejectedRequestErrorInjected","getErrorMessage","countdown","countdownEpoch","buttonTitle","buttonText","hide","h2","TimerItem","timeRemaining","setTimeRemaining","ticker","setTicker","hours","mins","secs","time","setTime","hhTheme","mmTheme","ssTheme","now","calculateTimeLeft","epochInSecs","hh","mm","ss","hhf","mmf","ssf","justifyContent","alignItems","family","showListing","TimerComponent","web3Connectors","Injected","logo","WalletConnect","Portis","App","connector","activate","activatingConnector","setActivatingConnector","currentTime","setcurrentTime","triedEager","tried","setTried","isAuthorized","useEagerConnect","suppress","ethereum","handleConnect","handleChainChanged","handleAccountsChanged","accounts","handleNetworkChanged","networkId","removeListener","useInactiveListener","initialize","ParentContainer","HomeContainer","ProviderLogo","srcSet","maxWidth","keys","currentConnector","ProviderButton","ProviderImage","StyledItem","newestOnTop","rtl","pauseOnFocusLoss","Item","header","ToastContainer","attrs","rootReducer","combineReducers","contractReducer","channelReducer","adminReducer","notificationReducer","spamReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","immutableCheck","client","ApolloClient","uri","cache","InMemoryCache","ReactDOM","ApolloProvider","getLibrary","provider","gottenProvider","providers","Web3Provider","oldNetwork","reload","getElementById","serviceWorker","ready","registration","unregister","ceaErc20","aDai","staking","yieldFarmPUSH","yieldFarmLP","epnsToken","epnsLPToken","rockstar","batchMintNFT","NFTRewards","distributor","erc20Abi","ownable","ownableAbi","epnscoreAbi","epnsCommAbi","daiAbi","epnsTokenAbi","stakingAbi","yieldFarming","yieldFarmingAbi","rockstarAbi","erc721","ec721Abi","MerkleDistributorAbi","ALIAS_CHAINS","Step","activeBG","Line","h1","Minter","textarea","Pool","PoolShare","processing","setProcessing","processingInfo","setProcessingInfo","uploadDone","setUploadDone","stakeFeesChoosen","setStakeFeesChoosen","channelInfoDone","setChannelInfoDone","chainDetails","setChainDetails","channelName","setChannelName","channelAlias","setChannelAlias","channelInfo","setChannelInfo","channelURL","setChannelURL","channelFile","setChannelFile","stepFlow","setStepFlow","handleLogoSizeLimitation","base64","sizeOf","base64Data","pop","dimensions","success","handleCreateChannel","chainDetailsSplit","blockchain","chain_id","identityBytes","anotherSendTxPromise","createChannelWithFees","mintDai","amount","mintTransactionPromise","mint","onChangeStatus","file","files","allFiles","f","reader","FileReader","readAsDataURL","onloadend","onDrop","maxFiles","multiple","accept","event","maxlength","classNamePrefix","colors","primary25","primary","selectedOption","paddingLeft","section","gradient","ItemBreak","wrap","filterHover","hover","tabletAlign","tabletTextAlign","ItemH","H2","bottom","arcRGB","H3","h3","P","p","Span","left","B","Anchor","ul","li","hoverBG","A","C","Button","FormSubmision","opacity","tabletRight","tabletLeft","tabletTop","tabletBottom","tabletTransform","tabletOpacity","form","outline","hand","TextField","randseed","rand","createColor","buildOpts","newOpts","charCodeAt","seedrand","renderIcon","imageData","dataWidth","mirrorWidth","y","row","x","r","reverse","createImageData","sqrt","cc","getContext","fillStyle","fillRect","col","create","module","exports"],"mappings":"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","file":"static/js/main.5a214d65.chunk.js","sourcesContent":["import EthCrypto from 'eth-crypto';\nimport {encrypt, decrypt} from 'eccrypto';\nimport { publicKeyConvert, publicKeyVerify } from 'secp256k1-v4';\n\nvar CryptoJS = require(\"crypto-js\");\n\nconst CryptoHelper = {\n  // To Encrypt with AES\n  encryptWithAES: function(message, key) {\n    return CryptoJS.AES.encrypt(message, key).toString();\n  },\n  // To Decrypt with AES\n  decryptWithAES: function(message, key) {\n    let bytes  = CryptoJS.AES.decrypt(message, key);\n    return bytes.toString(CryptoJS.enc.Utf8);\n  },\n  // To Form Encryted Secret, no more than 15 characters supported\n  encryptWithECIES: async function(message, publicKey) {\n    const compressedKey = EthCrypto.publicKey.compress(publicKey);\n\n    const encryptedSecret = await this.encryptWithPublicKey(message, compressedKey);\n\n    // Not using it since sqlite2 has some error with this\n    // const compressedEncryptedSecret = EthCrypto.hex.compress(encryptedSecret);\n\n    return encryptedSecret;\n  },\n  // To Form Decrypted Secret, no more than 15 characters supported\n  decryptWithECIES: async function(message, privateKey) {\n    // Message is always compressed, not using because sqlite2 has some error with this\n    //const uncompressedMessage = EthCrypto.hex.decompress(message).substr(2); // to remove 0x\n\n    return await this.decryptWithPrivateKey(message, privateKey);\n  },\n  // Encryption with public key\n  encryptWithPublicKey: async function(message, publicKey) {\n    // Convert compressed public key, starts with 03 or 04\n    const pubKeyUint8Array = Uint8Array.from(\n      new Buffer(publicKey, 'hex')\n    );\n    //console.log(\"[ENCRYPTION] Public Key Uint8Array: \" + pubKeyUint8Array);\n\n    const convertedKeyAsUint8Array = publicKeyConvert(pubKeyUint8Array, false);\n    //console.log(\"[ENCRYPTION] Public Key Converted: \" + convertedKeyAsUint8Array);\n\n    const convertedPublicKeyHex = new Buffer(convertedKeyAsUint8Array);\n    //console.log(\"[ENCRYPTION] Converted Public Key Buffer: \" + convertedPublicKeyHex);\n\n    const pubKey = new Buffer(convertedPublicKeyHex, 'hex');\n    //console.log(\"[ENCRYPTION] pubkey getting sentout for encrypt: \" + pubKey);\n\n    return encrypt(\n        pubKey,\n        Buffer(message)\n    ).then(encryptedBuffers => {\n      const cipher = {\n          iv: encryptedBuffers.iv.toString('hex'),\n          ephemPublicKey: encryptedBuffers.ephemPublicKey.toString('hex'),\n          ciphertext: encryptedBuffers.ciphertext.toString('hex'),\n          mac: encryptedBuffers.mac.toString('hex')\n      };\n      // use compressed key because it's smaller\n      // const compressedKey = new Buffer.from(publicKeyConvert(Web3Helper.getUint8ArrayFromHexStr(cipher.ephemPublicKey), true)).toString('hex')\n      const input = Uint8Array.from(\n        new Buffer(cipher.ephemPublicKey, 'hex')\n      );\n      const keyConvert = publicKeyConvert(input, true)\n      // console.log(\"[ENCRYPTION] Coverted key: \" + keyConvert);\n\n      const keyConvertBuffer = new Buffer(keyConvert);\n      // console.log(\"[ENCRYPTION] Coverted key in buffer : \" + keyConvertBuffer);\n      // console.log(keyConvertBuffer);\n\n      //console.log(keyConvert);\n      const compressedKey = keyConvertBuffer.toString('hex')\n      // console.log(\"[ENCRYPTION] Compressed key in buffer : \");\n      // console.log(compressedKey);\n\n      const ret = Buffer.concat([\n        new Buffer(cipher.iv, 'hex'), // 16bit\n        new Buffer(compressedKey, 'hex'), // 33bit\n        new Buffer(cipher.mac, 'hex'), // 32bit\n        new Buffer(cipher.ciphertext, 'hex') // var bit\n      ]).toString('hex')\n\n      return ret\n    });\n  },\n  // Decryption with public key\n  decryptWithPrivateKey: async function(message, privateKey) {\n    let encrypted = message;\n    const buf = new Buffer(encrypted, 'hex');\n    // console.log(\"[DECRYPTION] Buffer Passed: \" + buf);\n\n    encrypted = {\n      iv: buf.toString('hex', 0, 16),\n      ephemPublicKey: buf.toString('hex', 16, 49),\n      mac: buf.toString('hex', 49, 81),\n      ciphertext: buf.toString('hex', 81, buf.length)\n    };\n    // decompress publicKey\n    // encrypted.ephemPublicKey = new Buffer.from(publicKeyConvert(Web3Helper.getUint8ArrayFromHexStr(encrypted.ephemPublicKey), true)).toString('hex')\n    const input = Uint8Array.from(new Buffer(encrypted.ephemPublicKey, 'hex'));\n    const keyConvert = publicKeyConvert(input, false)\n    // console.log(\"[DECRYPTION] Coverted key: \" + keyConvert);\n\n    const keyConvertBuffer = new Buffer(keyConvert);\n    // console.log(\"[DECRYPTION] Coverted key in buffer : \" + keyConvertBuffer);\n    // console.log(keyConvertBuffer);\n\n    //console.log(keyConvert);\n    const uncompressedKey = keyConvertBuffer.toString('hex')\n    // console.log(\"[DECRYPTION] Uncompressed key in buffer : \");\n    // console.log(uncompressedKey);\n\n    encrypted.ephemPublicKey = uncompressedKey;\n    const twoStripped = privateKey.substring(2)\n\n    const encryptedBuffer = {\n      iv: new Buffer(encrypted.iv, 'hex'),\n      ephemPublicKey: new Buffer(encrypted.ephemPublicKey, 'hex'),\n      ciphertext: new Buffer(encrypted.ciphertext, 'hex'),\n      mac: new Buffer(encrypted.mac, 'hex')\n    };\n\n    return decrypt(\n      new Buffer(twoStripped, 'hex'),\n      encryptedBuffer\n    ).then(decryptedBuffer => decryptedBuffer.toString());\n  },\n  // Testing of Encryption and Decryption from Public to Private key\n  encryptionDecryptionPublicToPrivateTest: async function(privateKey) {\n    const startTime = new Date();\n    console.log(\"[ENCRYPTION / DECRYPTION TEST STARTED] - \" + startTime);\n\n    const publicKey = EthCrypto.publicKeyByPrivateKey(privateKey);\n    const compressedKey = EthCrypto.publicKey.compress(publicKey); // is String\n    //console.log(compressedKey);\n\n    // const bytesCompKey = Uint8Array.from(compressedKey);\n    //console.log(bytesCompKey);\n\n    const msgToEncrypt = \"PartialStringAS\";\n    const msg = await this.encryptWithPublicKey(msgToEncrypt, compressedKey);\n    console.log(\"Encryped Message With compressed public key:\" + msg);\n\n    const encryptionTime = new Date().getTime() - startTime.getTime();\n    console.log(\"[ENCRYPTION / DECRYPTION ENCRYPTION DONE] - \" + encryptionTime / 1000 + \" secs\");\n\n    // Decrypt this message\n    const decryptMsg = await this.decryptWithPrivateKey(msg, privateKey);\n    console.log(\"[ENCRYPTION / DECRYPTION DECRYPTED MESSAGE] - '\" + decryptMsg + \"'\");\n\n    const decryptionTime = new Date().getTime() - startTime.getTime() - encryptionTime;\n    console.log(\"[ENCRYPTION / DECRYPTION DECRYPTION DONE] - \" + decryptionTime / 1000 + \" secs\");\n  },\n  // To output messge payload if required\n  outputMsgPayload: async function(secret, subject, message, calltoaction, imageurl, pkey) {\n    // Output AES\n    console.log(\"[AES ENCRYTED FORMAT (\" + new Date() + \")\");\n    console.log(\"---------------------\");\n    console.log(\"secret --> \");\n    const secretEncrypted = await this.encryptWithECIES(secret, pkey);\n    const asubE = this.encryptWithAES(subject, secret);\n    const amsgE = this.encryptWithAES(message, secret);\n    const actaE = this.encryptWithAES(calltoaction, secret);\n    const aimgE = this.encryptWithAES(imageurl, secret);\n\n    console.log(secretEncrypted);\n    console.log(\"asub --> \");\n    console.log(asubE);\n    console.log(\"amsg --> \");\n    console.log(amsgE);\n    console.log(\"acta --> \");\n    console.log(actaE);\n    console.log(\"aimg --> \");\n    console.log(aimgE);\n    console.log(\"decrypted secret --> \");\n    console.log(await this.decryptWithECIES(secretEncrypted, pkey));\n    console.log(\"decrypted asub --> \");\n    console.log(this.decryptWithAES(asubE, secret));\n    console.log(\"decrypted amsg --> \");\n    console.log(this.decryptWithAES(amsgE, secret));\n    console.log(\"decrypted acta --> \");\n    console.log(this.decryptWithAES(actaE, secret));\n    console.log(\"decrypted aimg --> \");\n    console.log(this.decryptWithAES(aimgE, secret));\n  },\n  makeid: function (length) {\n     var result           = '[' + new Date().toISOString() + '] ';\n     var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n     var charactersLength = characters.length;\n     for ( var i = 0; i < length; i++ ) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n     }\n     return result;\n  }\n};\n\nexport default CryptoHelper;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { InjectedConnector } from '@web3-react/injected-connector'\nimport { envConfig } from \"@project/contracts\";\nimport { PortisConnector } from '@web3-react/portis-connector'\n// import { NetworkConnector } from '@web3-react/network-connector'\nimport { WalletConnectConnector } from '@web3-react/walletconnect-connector'\n// import { WalletLinkConnector } from '@web3-react/walletlink-connector'\nimport { LedgerConnector } from '@web3-react/ledger-connector'\nimport { TrezorConnector } from '@web3-react/trezor-connector'\n// import { FrameConnector } from '@web3-react/frame-connector'\n// import { AuthereumConnector } from '@web3-react/authereum-connector'\n// import { FortmaticConnector } from '@web3-react/fortmatic-connector'\n// import { SquarelinkConnector } from '@web3-react/squarelink-connector'\n// import { TorusConnector } from '@web3-react/torus-connector'\n\nrequire('dotenv').config();\nconst SUPPORTED_CHAIN_IDS = [...envConfig.allowedNetworks];\nconst POLLING_INTERVAL = 12000;\nconst CORE_CHAIN_ID = envConfig.coreContractChain;\nconst CORE_RPC = envConfig.coreRPC;\n\nconst RPC_URLS: { [chainId: number]: string } = {\n  [CORE_CHAIN_ID]: envConfig.coreRPC\n}\n\nexport const injected = new InjectedConnector({ supportedChainIds: SUPPORTED_CHAIN_IDS })\n\n\nexport const walletconnect = new WalletConnectConnector({\n  rpc: { ...RPC_URLS },\n  bridge: 'https://bridge.walletconnect.org',\n  qrcode: true,\n  pollingInterval: POLLING_INTERVAL\n})\n//\n// export const walletlink = new WalletLinkConnector({\n//   url: RPC_URLS[1],\n//   appName: 'web3-react example'\n// })\n//\nexport const ledger = new LedgerConnector({ chainId: CORE_CHAIN_ID, url: CORE_RPC, pollingInterval: POLLING_INTERVAL })\n\nexport const trezor = new TrezorConnector({\n  chainId: CORE_CHAIN_ID,\n  url: CORE_RPC,\n  pollingInterval: POLLING_INTERVAL,\n  manifestEmail: 'support@epns.io',\n  manifestAppUrl: 'https://staging-app.epns.io'\n})\n\n//\n// export const frame = new FrameConnector({ supportedChainIds: [1] })\n//\n// export const authereum = new AuthereumConnector({ chainId: 42 })\n//\n// export const fortmatic = new FortmaticConnector({ apiKey: process.env.FORTMATIC_API_KEY as string, chainId: 4 })\n\nexport const portis = new PortisConnector({ dAppId: 'e7ab8b33-73b1-4911-a483-dcca2762a9be' as string, networks: [CORE_CHAIN_ID] })\n\n// export const squarelink = new SquarelinkConnector({\n//   clientId: process.env.SQUARELINK_CLIENT_ID as string,\n//   networks: [1, 100]\n// })\n\n// export const torus = new TorusConnector({ chainId: 1 })\n","import { useState, useEffect } from 'react'\nimport { useWeb3React } from '@web3-react/core'\n\nimport { injected } from './connectors'\n\nrequire('dotenv').config();\n\nexport function useEagerConnect() {\n  const { activate, active } = useWeb3React()\n\n  const [tried, setTried] = useState(false)\n\n  useEffect(() => {\n    injected.isAuthorized().then((isAuthorized: boolean) => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true)\n        })\n      } else {\n        setTried(true)\n      }\n    })\n  }, []) // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (!tried && active) {\n      setTried(true)\n    }\n  }, [tried, active])\n\n  return tried\n}\n\nexport function useInactiveListener(suppress: boolean = false) {\n  const { active, error, activate } = useWeb3React()\n\n  useEffect((): any => {\n    const { ethereum } = window as any\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleConnect = () => {\n        console.log(\"Handling 'connect' event\")\n        activate(injected)\n      }\n      const handleChainChanged = (chainId: string | number) => {\n        console.log(\"Handling 'chainChanged' event with payload\", chainId)\n        activate(injected)\n      }\n      const handleAccountsChanged = (accounts: string[]) => {\n        console.log(\"Handling 'accountsChanged' event with payload\", accounts)\n        if (accounts.length > 0) {\n          activate(injected)\n        }\n      }\n      const handleNetworkChanged = (networkId: string | number) => {\n        console.log(\"Handling 'networkChanged' event with payload\", networkId)\n        activate(injected)\n      }\n\n      ethereum.on('connect', handleConnect)\n      ethereum.on('chainChanged', handleChainChanged)\n      ethereum.on('accountsChanged', handleAccountsChanged)\n      ethereum.on('networkChanged', handleNetworkChanged)\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener('connect', handleConnect)\n          ethereum.removeListener('chainChanged', handleChainChanged)\n          ethereum.removeListener('accountsChanged', handleAccountsChanged)\n          ethereum.removeListener('networkChanged', handleNetworkChanged)\n        }\n      }\n    }\n  }, [active, error, suppress, activate])\n}\n","import dotenv from \"dotenv\";\ndotenv.config();\n\nexport default  {\n    etherscanToken: process.env.REACT_APP_INFURA_API_KEY || \"\"\n}","import React from \"react\";\n\nimport { addresses, abis } from \"@project/contracts\";\nimport { ethers } from \"ethers\";\n//import { parseEther, bigNumber } from 'ethers/utils'\n\nconst COINDESK_CHANNEL_ADDR = \"0xe56f1D3EDFFF1f25855aEF744caFE7991c224FFF\";\nconst COINDESK_HASH = \"1+bafkreif643vf3cteadznccivnsk5uj26e3ls7onbshnldb3aej3omrxsau\"\nconst ENS_CHANNEL_ADDR = \"0x983110309620D911731Ac0932219af06091b6744\";\nconst ENS_HASH = \"1+bafkreiekigkyezwrspignt7l7vsrjefjmogwmigy4eqtts277cu2p23ilm\";\n// FeedDB Helper Function\nconst EPNSCoreHelper = {\n  // To get owner info\n  getOwnerInfo: async (contract) => {\n    const enableLogs = 0;\n\n    return new Promise ((resolve, reject) => {\n      // Get User Info from EPNS Core\n      contract.governance()\n        .then(response => {\n          if (enableLogs) console.log(\"getOwnerInfo() --> %o\", response);\n          resolve(response);\n        })\n        .catch(err => {\n          console.log(\"!!!Error, getOwnerInfo() --> %o\", err);\n          reject(err);\n        });\n    })\n  },\n  // To get user info\n  getUserInfo: async (user, contract) => {\n    const enableLogs = 0;\n\n    return new Promise ((resolve, reject) => {\n      // Get User Info from EPNS Core\n      contract.users(user)\n        .then(response => {\n          const mappings = { ...response };\n          mappings.addr = user;\n\n          if (enableLogs) console.log(\"getUserInfo() --> %o\", mappings);\n          resolve(mappings);\n        })\n        .catch(err => {\n          console.log(\"!!!Error, getUserInfo() --> %o\", err);\n          reject(err);\n        });\n    })\n  },\n  // To retrieve a channel address from it's id\n  getChannelAddressFromID: async (channelID, contract) => {\n    return new Promise ((resolve, reject) => {\n      // To get channel info from a channel address\n      contract.channelById(channelID)\n        .then(response => {\n          // console.log(\"getChannelAddressFromID() --> %o\", response.toString());\n          resolve(response.toString());\n        })\n        .catch(err => { console.log(\"!!!Error, getChannelAddressFromID() --> %o\", err); reject(err); });\n    })\n  },\n  // To retrieve a channel's Info from channel address\n  getChannelInfo: async (channel, contract) => {\n    const enableLogs = 0;\n    return new Promise ((resolve, reject) => {\n      // To get channel info from a channel address\n      contract.channels(channel)\n        .then(response => {\n          // Add an extra field for future info\n          const mappings = { ...response };\n          mappings.addr = channel;\n\n          if (enableLogs) console.log(\"getChannelInfo() --> %o\", mappings);\n          resolve(mappings);\n        })\n        .catch(err => {\n          console.log(\"!!!Error, getChannelInfo() --> %o\", err);\n          reject(err);\n        });\n    })\n  },\n  // To retrieve a channel's AddChannel event\n  getChannelEvent: async (channel, startBlock, updateBlock, contract) => {\n    const enableLogs = 0;\n\n    return new Promise ((resolve, reject) => {\n\n      // To get channel ipfs hash from channel info\n      let filter = contract.filters.AddChannel(channel);\n      let block = startBlock;\n      if (startBlock != updateBlock) {\n        filter = contract.filters.UpdateChannel(channel);\n        block = updateBlock;\n      }\n\n      contract.queryFilter(filter, block, block)\n        .then(response => {\n          let filteredResponse;\n\n          if (enableLogs) console.log(\"getChannelEvent() --> Finding: %s in | %o |\", channel, response );\n\n          response.forEach(function (item) {\n            if (item.args.channel.toString() == channel.toString()) {\n              if (enableLogs) console.log(\"getChannelEvent() --> Selected Channel %o: \", item);\n              filteredResponse = ethers.utils.toUtf8String(item.args.identity);\n            }\n          });\n\n          if (enableLogs) console.log(\"getChannelEvent() --> Filtered Channel: %o\", filteredResponse);\n          resolve(filteredResponse);\n        })\n        .catch(err => {\n          console.log(\"!!!Error, getChannelEvent() --> %o\", err);\n          reject(err);\n        });\n    })\n  },\n  // Retrive IPFS File from ipfshash\n  getJsonFileFromIdentity: async(identity, channel) => {\n    const enableLogs = 0;\n\n\n    return new Promise ((resolve, reject) => {\n      // Split Channel Identity, delimeter of identity is \"+\"\n      if(!identity){\n        reject(\"There is no identity file for channel:\",channel);\n      }\n      const ids = identity?.split(\"+\") || []; // First segment is storage type, second is the pointer to it\n\n      if (ids[0] == 1) {\n        // IPFS HASH\n        // Form Gateway URL\n        const url = \"https://ipfs.io/ipfs/\" + ids[1];\n        fetch(url)\n          .then(response => response.json())\n          .then(response => {\n            if (enableLogs) console.log(\"getJsonFileFromIdentity() --> %o\", response);\n            resolve(response);\n          })\n          .catch(err => {\n            console.log(\"!!!Error, getJsonFileFromIdentity() --> %o\", err);\n            reject(err);\n          });\n      }\n\n    });\n  },\n  // Helper to get Channel from Channel's address\n  getChannelJsonFromChannelAddress: async (channel, contract) => {\n    const enableLogs = 0;\n\n    return new Promise ((resolve, reject) => {\n      // To get channel info from a channel address\n      EPNSCoreHelper.getChannelInfo(channel, contract)\n        .then(response => EPNSCoreHelper.getChannelEvent(channel, response.channelStartBlock.toNumber(), response.channelUpdateBlock.toNumber(), contract))\n        .then(response => {\n          // add little hack for now to change coindesk's descriptioon\n          const hash = channel === COINDESK_CHANNEL_ADDR ? COINDESK_HASH  : (channel === ENS_CHANNEL_ADDR ? ENS_HASH : response);\n          return EPNSCoreHelper.getJsonFileFromIdentity(hash, channel)\n          // return EPNSCoreHelper.getJsonFileFromIdentity(response, channel)\n        })\n        .then(response => {\n          if (enableLogs) console.log(\"getChannelJsonFromChannelAddress() --> %o\", response);\n          resolve(response);\n        })\n        .catch(err => {\n          console.log(\"!!!Error, getChannelJsonFromChannelAddress() --> %o\", err);\n          reject(err);\n        });\n    });\n  },\n  // Helper to get Channel from User's address\n  getChannelJsonFromUserAddress: async (user, contract) => {\n    const enableLogs = 0;\n\n    return new Promise ((resolve, reject) => {\n      // To get channel info from a channel address\n      // EPNSCoreHelper.getUserInfo(user, contract)\n      //   .then(response => EPNSCoreHelper.getChannelJsonFromChannelAddress(user, contract))\n        EPNSCoreHelper.getChannelJsonFromChannelAddress(user, contract)\n        .then(response => {\n          if (enableLogs) console.log(\"getChannelJsonFromUserAddress() --> %o\", response);\n          resolve(response);\n        })\n        .catch(err => {\n          console.log(\"!!!Error, getChannelJsonFromUserAddress() --> %o\", err);\n          reject(err);\n        });\n    });\n  },\n  // Get Total Number of Channels\n  getTotalNumberOfChannels: async (contract) => {\n    const enableLogs = 0;\n\n    return new Promise ((resolve, reject) => {\n      // Get User Info from EPNS Core\n      contract.channelsCount()\n        .then(response => {\n          if (enableLogs) console.log(\"getTotalNumberOfChannels() --> %o\", response.toNumber());\n          resolve(response.toNumber());\n        })\n        .catch(err => {\n          console.log(\"!!!Error, getTotalNumberOfChannels() --> %o\", err);\n          reject(err);\n        });\n    })\n  },\n  // Get channels address given number of channels, , atIndex: -1 is start from latest, numChannels: -1 is return all\n  getChannelsMetaLatestToOldest: async (atIndex, numChannels, contract) => {\n    const enableLogs = 0;\n\n    return new Promise ((resolve, reject) => {\n      EPNSCoreHelper.getTotalNumberOfChannels(contract)\n        .then(async (response) => {\n          let channelsInfo = [];\n          const channelsCount = response;\n\n          if (atIndex > channelsCount || atIndex == -1) {\n            atIndex = channelsCount - 1;\n          }\n\n          if (numChannels == -1) {\n            numChannels = channelsCount;\n          }\n\n          // Get channels\n          let channelArrays = [];\n\n          // prefil and then refil\n          let count = 0;\n          for (let i = numChannels - 1; i >= 0; i--) {\n            const assignedChannelID = atIndex - i;\n            channelArrays.push(assignedChannelID);\n          }\n\n          const promises = channelArrays.map(async (channelID) => {\n            await EPNSCoreHelper.getChannelAddressFromID(channelID, contract)\n              .then(response => EPNSCoreHelper.getChannelInfo(response, contract))\n              .then(response => {\n                if (enableLogs) console.log(\"getChannelsMetaLatestToOldest(%d, %d) --> %o\", channelID, numChannels, channelsInfo);\n                channelsInfo = [response, ...channelsInfo];\n              })\n              .catch(err => console.log(\"Error in channel: %d | skipping...\", channelID))\n          });\n\n          // wait until all promises are resolved\n          await Promise.all(promises);\n\n          if (enableLogs) console.log(\"getChannelsMetaLatestToOldest(Index: %d, Number: %d) --> %o\", atIndex, numChannels, channelsInfo);\n          resolve(channelsInfo);\n        })\n        .catch(err => {\n          console.log(\"!!!Error, getChannelsMetaLatestToOldest() --> %o\", err);\n          reject(err);\n        })\n    });\n  },\n  // Get Total Number of Users\n  getTotalNumberOfUsers: async (contract) => {\n    return new Promise ((resolve, reject) => {\n      // Get User Info from EPNS Core\n      contract.usersCount()\n        .then(response => {\n          console.log(\"getTotalNumberOfUsers() --> %o\", response.toNumber());\n          resolve(response.toNumber());\n        })\n        .catch(err => { console.log(\"!!!Error, getTotalNumberOfUsers() --> %o\", err); reject(err); });\n    })\n  },\n  // To retrieve public key of a user\n  getPublicKey: async (address, contract) => {\n    const enableLogs = 0;\n\n    return new Promise ((resolve, reject) => {\n      // To get channel ipfs hash from channel info\n      let filteredResponse;\n      contract.queryFilter('PublicKeyRegistered')\n        .then(response => {\n\n          response.forEach(function (item) {\n            if (item.args[0] == address) {\n              filteredResponse = item;\n            }\n          });\n\n          if (enableLogs) console.log(\"Public Key Registry Response: \" + response);\n          if (enableLogs) console.log(\"Public Key Registry Filtered: \" + filteredResponse);\n\n          if (!filteredResponse || filteredResponse.length == 0) {\n            resolve(null)\n          }\n          else {\n            resolve(filteredResponse.args[1]);\n          }\n\n        })\n        .catch((err) => {\n          console.log(err);\n          reject(err);\n        });\n    })\n  },\n  // Get Total Subsbribed Channels\n  getSubscribedStatus: async (user, channel, contract) => {\n\n    return new Promise ((resolve, reject) => {\n      // Get User Info from EPNS Core\n      contract.isUserSubscribed(channel, user)\n        .then(response => {\n          // console.log(\"getSubscribedStatus() --> %o\", {response, user, channel});\n          resolve(response);\n        })\n        .catch(err => { console.log(\"!!!Error, getSubscribedStatus() --> %o\", err); reject(err); });\n    })\n  },\n  // Get Total Subsbribed Channels\n  getTotalSubscribedChannels: async (user, contract) => {\n    return new Promise ((resolve, reject) => {\n      // Get User Info from EPNS Core\n      contract.users[user].subscribedCount()\n        .then(response => {\n          console.log(\"getTotalSubscribedChannels() --> %o\", response.toNumber());\n          resolve(response.toNumber());\n        })\n        .catch(err => { console.log(\"!!!Error, getTotalSubscribedChannels() --> %o\", err); reject(err); });\n    })\n  },\n  // Get Fair Share\n  getFairShareOfUserAtBlock: async(user, block, contract) => {\n    const enableLogs = 0;\n\n    return new Promise ((resolve, reject) => {\n      // Get User Info from EPNS Core\n      contract.users(user)\n        .then((response) => {\n          if (response.userActivated) {\n            contract.calcAllChannelsRatio(user, block)\n              .then(response => {\n                if (enableLogs) console.log(\"calcAllChannelsRatio() --> %o\", response);\n                resolve(response);\n              })\n              .catch(err => {\n                console.log(\"!!!Error, calcAllChannelsRatio() --> %o\", err);\n                reject(err);\n              });\n          }\n          else {\n            if (enableLogs) console.log(\"!!!Warning, calcAllChannelsRatio() --> User not activated\");\n            reject(\"User not activated\");\n          }\n        })\n        .catch(err => {\n          console.log(\"!!!Error, calcAllChannelsRatio() --> %o\", err);\n          reject(err);\n        });\n    })\n  },\n  // Get Pool Funds\n  getPoolFunds: async(contract) => {\n    const enableLogs = 0;\n\n    return new Promise ((resolve, reject) => {\n      contract.poolFunds()\n        .then(response => {\n          if (enableLogs) console.log(\"getPoolFunds() --> %o\", response);\n          resolve(response);\n        })\n        .catch(err => {\n          console.log(\"!!!Error, getPoolFunds() --> %o\", err);\n          reject(err);\n        });\n    })\n  },\n  // Helper Functions\n  // To format Big Number\n  formatBigNumberToMetric: (bignumber, convertToCurrency) => {\n    try {\n      if (convertToCurrency) {\n        bignumber = bignumber.div(100000000000000);\n        bignumber = bignumber.div(10000);\n      }\n      bignumber = bignumber.toNumber();\n      return EPNSCoreHelper.metricFormatter(bignumber, 2);\n    }\n    catch (e) {\n      console.log(e);\n      return \"---\";\n    }\n  },\n  // Metric Formatter, thanks: https://stackoverflow.com/questions/9461621/format-a-number-as-2-5k-if-a-thousand-or-more-otherwise-900\n  metricFormatter: (num, digits) => {\n    var si = [\n      { value: 1, symbol: \"\" },\n      { value: 1E3, symbol: \"k\" },\n      { value: 1E6, symbol: \"M\" },\n      { value: 1E9, symbol: \"G\" },\n      { value: 1E12, symbol: \"T\" },\n      { value: 1E15, symbol: \"P\" },\n      { value: 1E18, symbol: \"E\" }\n    ];\n    var rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n    var i;\n    for (i = si.length - 1; i > 0; i--) {\n      if (num >= si[i].value) {\n        break;\n      }\n    }\n    return (num / si[i].value).toFixed(digits).replace(rx, \"$1\") + si[i].symbol;\n  },\n\n}\n\nexport default EPNSCoreHelper;\n","import React from \"react\";\nimport styled, { css } from 'styled-components';\n\nimport { useWeb3React } from '@web3-react/core'\nimport { addresses, abis } from \"@project/contracts\";\nimport EPNSCoreHelper from 'helpers/EPNSCoreHelper';\nimport { ethers } from \"ethers\";\nimport { toast } from 'react-toastify';\nimport moment from 'moment';\n\nfunction NotificationToast({ notification, clearToast }) {\n\n  // toast customize\n  const LoaderToast = ({color }) => (\n      <Toaster>\n      <div>{notification.notificationTitle}</div>\n      <div>{notification.notificationBody}</div>\n      </Toaster>\n  )\n \n  // Render\n  return (\n    <NotificationWrapper>{\n    toast.dark(<LoaderToast onClick={clearToast} color=\"#35c5f3\"/>, {\n          position: \"bottom-right\",\n          autoClose: false,\n          hideProgressBar: true,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        })\n    }\n    </NotificationWrapper>\n  );\n}\n\nconst NotificationWrapper = styled.div`\n  display: none;\n`;\n\nconst Toaster = styled.div`\n  align-items: center;\n  margin: 0px 10px;\n`\n\nconst ToasterMsg = styled.div`\n  margin: 0px 10px;\n`\n\nconst Items = styled.div`\n  display: block;\n  align-self: stretch;\n  padding: 10px 20px;\n  overflow-y: scroll;\n  background: #fafafa;\n`\n\n\n\n// Export Default\nexport default NotificationToast;\n","import React, {useRef, useState} from 'react';\nimport { useClick, useClickAway } from 'react-use';\nimport styled from 'styled-components';\nimport { useWeb3React } from '@web3-react/core';\nimport { addresses, abis } from \"@project/contracts\";\nimport Loader from 'react-loader-spinner';\n\nimport {Item, H2, H3, Span, Button, Input} from 'components/SharedStyling';\n\nconst ethers = require('ethers');\n\n\nexport default function AliasVerificationModal({\n    onClose,onSuccess, verificationStatus\n}) {\n    const { active, error, account, library, chainId } = useWeb3React();\n    const signer = library.getSigner(account);\n\n    const modalRef = useRef(null);\n    const polygonCommsContract = new ethers.Contract(addresses.epnsPolyComm, abis.epnsComm, signer);\n    const [mainAdress, setMainAddress] = useState('');\n    const [loading, setLoading] = useState('');\n\n    // Form signer and contract connection\n    useClickAway(modalRef, onClose);\n\n    const submitAlias = () => {\n        setLoading('loading')\n        const anotherSendTxPromise = polygonCommsContract.verifyChannelAlias(mainAdress);\n        anotherSendTxPromise\n        .then(async (tx) => {\n            console.log(tx);\n            setLoading(\"Transaction Sent!\");\n\n            setTimeout(() => {\n                onSuccess();\n                onClose();\n            }, 2000);\n\n            // await tx.wait(1);\n            // setLoading(\"Transaction Mined!\");\n        })\n        .catch(() => {\n            setLoading('There was an error');\n            setTimeout(() => {\n                setLoading('')\n            }, 2000)\n        })\n    };\n    \n\n    return (\n        <Overlay>\n            <AliasModal ref={modalRef}>\n                <Item align=\"flex-start\">\n                    <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\n                    <Span weight=\"200\">Verify </Span><Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Alias</Span>\n                    </H2>\n                    {\n                        verificationStatus === null ?\n                        (\n                            <H3>There has been an error in the verification of your alias, Please contact the admin</H3>\n                        ) : (\n                            <H3>Before you can use this channel on this chain, you first need to verify your Alias.</H3>\n                        )\n                    }\n                </Item>\n                {\n                    verificationStatus !== null && (\n                        <>\n                            <Item align=\"flex-start\">\n                                <CustomInput\n                                    required\n                                    placeholder=\"Enter ethereum wallet address of this channel\"\n                                    radius=\"4px\"\n                                    padding=\"12px\"\n                                    border=\"1px solid #674c9f\"\n                                    bg=\"#fff\"\n                                    value={mainAdress}\n                                    onChange={(e) => {setMainAddress(e.target.value)}}\n                                />\n                            </Item>\n                            <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\n                                <Button\n                                    bg='#e20880'\n                                    color='#fff'\n                                    flex=\"1\"\n                                    radius=\"0px\"\n                                    padding=\"20px 10px\"\n                                    disabled={mainAdress.length !== 42}\n                                    onClick={submitAlias}\n                                >\n                                    { loading && <Loader\n                                        type=\"Oval\"\n                                        color=\"#FFF\"\n                                        height={16}\n                                        width={16}\n                                        />\n                                    }\n                                    <StyledInput\n                                        cursor=\"hand\"\n                                        textTransform=\"uppercase\"\n                                        color=\"#fff\" weight=\"400\"\n                                        size=\"0.8em\" spacing=\"0.2em\"\n                                        value={loading ? loading : \"Verify Alias\"}\n                                    />\n                                </Button>\n                            </Item>\n                        </>\n                    )\n                }\n            </AliasModal>\n        </Overlay>\n    )\n}\n\nconst StyledInput = styled(Input)`\n    width: 100%;\n    text-align: center;\n    caret-color: transparent;\n`\n\nconst CustomInput = styled(Input)`\n    box-sizing: border-box;\n    width: 100%;\n    margin: 20px 0px;\n`;\n\nconst Overlay = styled.div`\n    top: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0,0,0,0.85);\n    height: 100%;\n    width: 100%;\n    z-index: 1000;\n    position: fixed;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow-y: scroll;\n`;\n\nconst AliasModal = styled.div`\n    padding: 20px 30px;\n    background: white;\n`;","import React from \"react\";\nimport styled, { css } from 'styled-components';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport Loader from 'react-loader-spinner';\n\nimport { useWeb3React } from '@web3-react/core';\n\n\n// Other Information URLs\nfunction ViewInfoItem() {\n  // render\n  return (\n    <>\n    <Container >\n      <ChannelInfo>\n        <ChannelTitle>\n          <>\n          <AppLinkText>\n            <AppLink href={`${process.env.REACT_APP_BROWSER_EXTENSION_URL}`} target=\"_blank\" rel=\"nofollow\">\n              Download EPNS Browser Extension\n            </AppLink>\n          </AppLinkText>\n          \n          </>\n        </ChannelTitle>\n      </ChannelInfo>\n    </Container>\n    <Container >\n      <ChannelInfo>\n        <ChannelTitle>\n          <>\n          <AppLinkText>\n            <AppLink href={`${process.env.REACT_APP_IOS_STAGING_DAPP_URL}`} target=\"_blank\" rel=\"nofollow\">\n              Download EPNS App (iOS)\n            </AppLink>\n          </AppLinkText>\n           For iOS Users\n          </>\n        </ChannelTitle>\n      </ChannelInfo>\n    </Container>\n    <Container >\n      <ChannelInfo>\n        <ChannelTitle>\n          <>\n          <AppLinkText>\n            <AppLink href={`${process.env.REACT_APP_ANDROID_STAGING_DAPP_URL}`} target=\"_blank\" rel=\"nofollow\">\n              Download EPNS App (Android)\n            </AppLink>\n          </AppLinkText>\n           For Android Users\n          </>\n        </ChannelTitle>\n      </ChannelInfo>\n    </Container>\n    <Container >\n      <ChannelInfo>\n        <ChannelTitle>\n          <ChannelTitleLink href={`${process.env.REACT_APP_HOW_TO_GUIDE}`} target=\"_blank\" rel=\"nofollow\">\n            Click here for our How to Guides\n          </ChannelTitleLink>\n        </ChannelTitle>\n      </ChannelInfo>\n    </Container>\n    </>\n  );\n}\n\n// css styles\nconst Container = styled.div`\n  flex: 1;\n  // display: flex;\n  // flex-wrap: wrap;\n\n  background: #fff;\n  border-radius: 10px;\n  border: 1px solid rgb(237, 237, 237);\n\n  margin: 15px 0px;\n  justify-content: center;\n  padding: 10px;\n`\n\nconst ChannelTitleLink = styled.a`\n  text-decoration: none;\n  font-weight: 600;\n  color: #e20880;\n  font-size: 20px;\n  &:hover {\n    text-decoration: underline;\n    cursor: pointer;\n    pointer: hand;\n  }\n`\nconst AppLink = styled.a`\n  text-decoration: none;\n  font-weight: 600;\n  color: #e20880;\n  font-size: 20px;\n  &:hover {\n    text-decoration: underline;\n    cursor: pointer;\n    pointer: hand;\n  }\n`\nconst AppLinkText = styled.div`\n  text-decoration: none;\n  font-weight: 600;\n  color: #e20880;\n  font-size: 20px;\n`\nconst ChannelInfo = styled.div`\n  flex: 1;\n  margin: 5px 10px;\n  min-width: 120px;\n  flex-grow: 4;\n  flex-direction: column;\n  display: flex;\n`\n\nconst ChannelTitle = styled.div`\n  margin-bottom: 5px;\n`\n\n// Export Default\nexport default ViewInfoItem;\n","import React from \"react\";\nimport styled, { css } from 'styled-components';\nimport Loader from 'react-loader-spinner'\n\nimport { useWeb3React } from '@web3-react/core'\n\nimport ViewInfoItem from \"components/ViewInfoItem\";\n\nimport * as dotenv from \"dotenv\";\ndotenv.config();\n\n// Other Information section\nfunction  Info() {\n  const { account, library } = useWeb3React();\n\n  const [controlAt, setControlAt] = React.useState(0);\n  const [loading, setLoading] = React.useState(false);\n\n  return (\n    <Container>\n      {loading &&\n        <ContainerInfo>\n          <Loader\n           type=\"Oval\"\n           color=\"#35c5f3\"\n           height={40}\n           width={40}\n          />\n        </ContainerInfo>\n      }\n\n      {!loading && controlAt == 0 && \n      <>\n        <InfoBox>\n          <ViewInfoItem/>\n        </InfoBox>\n      </>\n      }\n    </Container>\n  );\n}\n\n// css styles\nconst Container = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n\n  font-weight: 200;\n  align-content: center;\n  align-items: center;\n  justify-content: center;\n\n  max-height: 80vh;\n`\n\nconst ContainerInfo = styled.div`\n  padding: 20px;\n`\nconst InfoBox = styled.div`\n  padding: 10px 20px;\n  display: block;\n  align-self: stretch;\n  background: #fafafa;\n`\n\n\n// Export Default\nexport default  Info;\n","/**\n * This file helps us maintain the spamnotifications fetched in state, so when tabs are switched we can retain the notification information\n */\nimport { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n    page: 1, //the current page\n    notifications: [],// the actual notifications\n    finishedFetching: false,\n    toggler: false\n}\n\nexport const contractSlice = createSlice({\n    name: \"spam\",\n    initialState,\n    reducers: {\n        toggleToggler: (state) => {\n            state.toggler = !state.toggler;\n        },\n        resetState: (state) => {\n            state.page = initialState.page;\n            state.notifications = initialState.notifications;\n            state.finishedFetching = initialState.finishedFetching;\n        },\n        addPaginatedNotifications: (state, action) => {\n            state.notifications = [ ...state.notifications, ...action.payload ];\n            state.page += 1;\n        },\n        incrementPage: (state) => {\n            state.page += 1;\n        },\n        addNewNotification: (state, action) => {\n            state.notifications = [{...action.payload}, ...state.notifications]\n        },\n        setFinishedFetching: (state) => {\n            state.finishedFetching = true;\n        },\n        updateTopNotifications: (state, action) => {\n            state.notifications = [...action.payload.notifs, ...state.notifications.slice(action.payload.pageSize)];\n            console.log({sn: state.notifications});\n        }\n    }\n});\n\nexport const {\n    toggleToggler,\n    addPaginatedNotifications,\n    incrementPage,\n    addNewNotification,\n    setFinishedFetching,\n    resetState,\n    updateTopNotifications\n} = contractSlice.actions;\n\nexport default contractSlice.reducer;","import axios from \"axios\";\nimport { envConfig } from \"@project/contracts\";\n\n\n// const BASE_URL = \"https://backend-staging.epns.io/apis\";\nconst BASE_URL = envConfig.apiUrl// \"https://backend-kovan.epns.io/apis\";\n// const BASE_URL = \"http://localhost:4000/apis\"; //for local push node\n\n/**\n * A function used to make get requests throughout the entire application\n * @param {String} path e.g /feeds/get_feeds, this represents the route of the enpoint to call\n * @returns {Promise}\n */\nexport const getReq = async (path) => {\n    try {\n      const response = await axios.get(BASE_URL + path);\n      return response;\n    } catch (error) {\n      throw error;\n    }\n  };\n\n/**\n * A function used to make post requests to the backend\n * @param {String} path e.g /feeds/get_feeds, this represents the route of the enpoint to call\n * @param {Object} obj \n * @returns {Promise}\n */\nexport const postReq = async (path, obj) => {\n  try {\n    const response = await axios.post(BASE_URL + path, obj, {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n};\n","import React from \"react\";\nimport styled, { css } from 'styled-components';\nimport { AnimateOnChange } from 'react-animation';\n\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\n\n// Create Header\nfunction DisplayNotice({ title, theme }) {\n  React.useEffect(() => {\n\n  }, [title, theme]);\n\n  // to create blockies\n\n  return (\n    <Container>\n      <AnimateOnChange\n        animationIn=\"fadeIn\"\n        animationOut=\"fadeOut\"\n        durationOut={200}\n      >\n        <Notice theme={theme}>{title}</Notice>\n      </AnimateOnChange>\n    </Container>\n  );\n}\n\n// css styles\nconst Container = styled.div`\n\n`\n\nconst Notice = styled.span`\n  border: 0;\n  outline: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 8px 15px;\n  margin: 10px;\n  color: #fff;\n  border-radius: 20px;\n  font-size: 14px;\n  font-weight: 400;\n\n  ${props => props.theme === 'primary' && css`\n    background: #e20880;\n  `};\n\n  ${props => props.theme === 'secondary' && css`\n    background: #35c5f3;\n  `};\n\n  ${props => props.theme === 'third' && css`\n    background: #674c9f;\n  `};\n`\n\n// Export Default\nexport default DisplayNotice;\n","/**\n * This file helps us maintain the notifications fetched in state, so when tabs are switched we can retain the notification information\n */\nimport { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n    page: 1, //the current page\n    notifications: [],// the actual notifications\n    finishedFetching: false,\n    toggler: false\n}\n\nexport const contractSlice = createSlice({\n    name: \"notifications\",\n    initialState,\n    reducers: {\n        toggleToggler: (state) => {\n            state.toggler = !state.toggler;\n        },\n        resetState: (state) => {\n            state.page = initialState.page;\n            state.notifications = initialState.notifications;\n            state.finishedFetching = initialState.finishedFetching;\n        },\n        addPaginatedNotifications: (state, action) => {\n            state.notifications = [ ...state.notifications, ...action.payload ];\n            state.page += 1;\n        },\n        incrementPage: (state) => {\n            state.page += 1;\n        },\n        addNewNotification: (state, action) => {\n            state.notifications = [{...action.payload}, ...state.notifications]\n        },\n        setFinishedFetching: (state) => {\n            state.finishedFetching = true;\n        },\n        updateTopNotifications: (state, action) => {\n            console.log({pp: action.payload});\n            state.notifications = [...action.payload.notifs, ...state.notifications.slice(action.payload.pageSize)];\n            console.log({sn: state.notifications});\n        }\n    }\n});\n\nexport const {\n    toggleToggler,\n    addPaginatedNotifications,\n    incrementPage,\n    addNewNotification,\n    setFinishedFetching,\n    resetState,\n    updateTopNotifications\n} = contractSlice.actions;\n\nexport default contractSlice.reducer;","import React from \"react\";\nimport styled from \"styled-components\";\nimport Loader from \"react-loader-spinner\";\nimport { Waypoint } from \"react-waypoint\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { envConfig } from \"@project/contracts\";\nimport {\n  api,\n  utils,\n  NotificationItem,\n} from \"@epnsproject/frontend-sdk-staging\";\nimport {\n  addPaginatedNotifications,\n  incrementPage,\n  setFinishedFetching,\n} from \"redux/slices/spamSlice\";\nimport { postReq } from \"api\";\nimport DisplayNotice from \"components/DisplayNotice\";\nimport { updateTopNotifications } from \"redux/slices/notificationSlice\";\n\nconst NOTIFICATIONS_PER_PAGE = 10;\n// Create Header\nfunction SpamBox({ currentTab }) {\n  const dispatch = useDispatch();\n  const { account, chainId, library } = useWeb3React();\n  const { epnsCommReadProvider } = useSelector(\n    (state: any) => state.contracts\n  );\n\n  const { notifications, page, finishedFetching } = useSelector((state: any) => state.spam);\n  const { toggle } = useSelector(\n    (state: any) => state.notifications\n  );\n  const EPNS_DOMAIN = {\n    name: \"EPNS COMM V1\",\n    chainId: chainId,\n    verifyingContract: epnsCommReadProvider?.address,\n  };\n\n  const [bgUpdateLoading, setBgUpdateLoading] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n\n  const loadNotifications = async () => {\n    if (loading || finishedFetching) return;\n    setLoading(true);\n    try {\n      const { count, results } = await api.fetchSpamNotifications(\n        account,\n        NOTIFICATIONS_PER_PAGE,\n        page,\n        envConfig.apiUrl\n      );\n      const parsedResponsePromise = utils\n        .parseApiResponse(results)\n        .map(async (elem: any, i: any) => {\n          elem.channel = results[i].channel;\n          const {\n            data: { subscribers },\n          } = await postReq(\"/channels/get_subscribers\", {\n            channel: results[i].channel,\n            op: \"read\",\n          });\n          elem.subscribers = subscribers;\n          return { ...elem };\n        });\n      const parsedResponse = await Promise.all(parsedResponsePromise);\n      // get all the subsc\n      dispatch(addPaginatedNotifications(parsedResponse));\n      if (count === 0) {\n        dispatch(setFinishedFetching());\n      }\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchLatestNotifications = async () => {\n    if (loading || bgUpdateLoading) return;\n    setBgUpdateLoading(true);\n    setLoading(true);\n\n    try {\n      const { count, results } = await api.fetchSpamNotifications(\n        account,\n        NOTIFICATIONS_PER_PAGE,\n        1,\n        envConfig.apiUrl\n      );\n      if (!notifications.length) {\n        dispatch(incrementPage());\n      }\n      const parsedResponsePromise = utils\n        .parseApiResponse(results)\n        .map(async (elem: any, i: any) => {\n          elem.channel = results[i].channel;\n          const {\n            data: { subscribers },\n          } = await postReq(\"/channels/get_subscribers\", {\n            channel: results[i].channel,\n            op: \"read\",\n          });\n          elem.subscribers = subscribers;\n          return { ...elem };\n        });\n      const parsedResponse = await Promise.all(parsedResponsePromise);\n      dispatch(\n        updateTopNotifications({\n          notifs: parsedResponse,\n          pageSize: NOTIFICATIONS_PER_PAGE,\n        })\n      );\n      if (count === 0) {\n        dispatch(setFinishedFetching());\n      }\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setBgUpdateLoading(false);\n      setLoading(false);\n    }\n  };\n\n  React.useEffect(() => {\n    if (account && currentTab === \"spambox\") {\n      fetchLatestNotifications();\n    }\n  }, [account, currentTab]);\n\n  React.useEffect(() => {\n    if (epnsCommReadProvider) {\n      loadNotifications();\n    }\n  }, [epnsCommReadProvider, account]);\n\n  //function to query more notifications\n  const handlePagination = async () => {\n    loadNotifications();\n    dispatch(incrementPage());\n  };\n\n  const showWayPoint = (index: any) => {\n    return (\n      Number(index) === notifications.length - 1 &&\n      !finishedFetching &&\n      !bgUpdateLoading\n    );\n  };\n\n  const onSubscribeToChannel = async (channelAddress) => {\n    let txToast;\n    const type = {\n      Subscribe: [\n        { name: \"channel\", type: \"address\" },\n        { name: \"subscriber\", type: \"address\" },\n        { name: \"action\", type: \"string\" },\n      ],\n    };\n    const message = {\n      channel: channelAddress,\n      subscriber: account,\n      action: \"Subscribe\",\n    };\n\n    const signature = await library\n      .getSigner(account)\n      ._signTypedData(EPNS_DOMAIN, type, message);\n\n    return postReq(\"/channels/subscribe_offchain\", {\n      signature,\n      message,\n      op: \"write\",\n      chainId,\n      contractAddress: epnsCommReadProvider.address,\n    });\n  };\n\n  const isSubscribedFn = async (subscribers: any) => {\n    return subscribers\n      .map((a) => a.toLowerCase())\n      .includes(account.toLowerCase());\n  };\n\n  // Render\n  return (\n    <>\n      <Container>\n        {bgUpdateLoading && (\n          <div style={{ marginTop: \"10px\" }}>\n            <Loader type=\"Oval\" color=\"#35c5f3\" height={40} width={40} />\n          </div>\n        )}\n        {notifications && (\n          <Items id=\"scrollstyle-secondary\">\n            {notifications.map((oneNotification, index) => {\n              const {\n                cta,\n                title,\n                message,\n                app,\n                icon,\n                image,\n                channel,\n                subscribers,\n              } = oneNotification;\n              // render the notification item\n              return (\n                <div key={`${message}+${title}`}>\n                  {showWayPoint(index) && !loading && (\n                    <Waypoint onEnter={() => handlePagination()} />\n                  )}\n                  <NotificationItem\n                    notificationTitle={title}\n                    notificationBody={message}\n                    cta={cta}\n                    app={app}\n                    icon={icon}\n                    image={image}\n                    subscribeFn={(e) => {\n                      e?.stopPropagation();\n                      onSubscribeToChannel(channel);\n                    }}\n                    isSpam\n                    isSubscribedFn={async () => isSubscribedFn(subscribers)}\n                  />\n                </div>\n              );\n            })}\n          </Items>\n        )}\n        {loading && !bgUpdateLoading && (\n          <Loader type=\"Oval\" color=\"#35c5f3\" height={40} width={40} />\n        )}\n        {!loading && !notifications.length && (\n          <CenteredContainerInfo>\n            <DisplayNotice\n              title=\"You currently have no spam notifications.\"\n              theme=\"third\"\n            />\n          </CenteredContainerInfo>\n        )}\n      </Container>\n    </>\n  );\n}\n\nconst CenteredContainerInfo = styled.div`\n  padding: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Items = styled.div`\n  display: block;\n  align-self: stretch;\n  padding: 10px 20px;\n  overflow-y: scroll;\n  background: #fafafa;\n`;\n// css styles\nconst Container = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n\n  font-weight: 200;\n  align-content: center;\n  align-items: center;\n  justify-content: center;\n  max-height: 100vh;\n\n  // padding: 20px;\n  // font-size: 16px;\n  // display: flex;\n  // font-weight: 200;\n  // align-content: center;\n  // align-items: center;\n  // justify-content: center;\n  // width: 100%;\n  // min-height: 40vh;\n`;\n\n// Export Default\nexport default SpamBox;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport Loader from \"react-loader-spinner\";\nimport { Waypoint } from \"react-waypoint\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { envConfig } from \"@project/contracts\";\nimport DisplayNotice from \"components/DisplayNotice\";\nimport SpamBox from \"./spam\";\nimport {\n  api,\n  utils,\n  NotificationItem,\n} from \"@epnsproject/frontend-sdk-staging\";\nimport {\n  addPaginatedNotifications,\n  incrementPage,\n  setFinishedFetching,\n  resetState,\n  updateTopNotifications,\n} from \"redux/slices/notificationSlice\";\n\nconst NOTIFICATIONS_PER_PAGE = 10;\n// Create Header\nfunction Feedbox() {\n  const dispatch = useDispatch();\n  const { account } = useWeb3React();\n  const { epnsCommReadProvider } = useSelector((state: any) => state.contracts);\n  const { notifications, page, finishedFetching, toggle } = useSelector(\n    (state: any) => state.notifications\n  );\n\n  const [bgUpdateLoading, setBgUpdateLoading] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  const [currentTab, setCurrentTab] = React.useState(\"inbox\");\n\n  const loadNotifications = async () => {\n    if (loading || finishedFetching) return;\n    setLoading(true);\n    try {\n      const { count, results } = await api.fetchNotifications(\n        account,\n        NOTIFICATIONS_PER_PAGE,\n        page,\n        envConfig.apiUrl\n      );\n      const parsedResponse = utils.parseApiResponse(results);\n      dispatch(addPaginatedNotifications(parsedResponse));\n      if (count === 0) {\n        dispatch(setFinishedFetching());\n      }\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchLatestNotifications = async () => {\n    if (loading || bgUpdateLoading) return;\n    setBgUpdateLoading(true);\n    setLoading(true);\n    try {\n      const { count, results } = await api.fetchNotifications(\n        account,\n        NOTIFICATIONS_PER_PAGE,\n        1,\n        envConfig.apiUrl\n      );\n      if (!notifications.length) {\n        dispatch(incrementPage());\n      }\n      const parsedResponse = utils.parseApiResponse(results);\n      // replace the first 20 notifications with these\n      dispatch(\n        updateTopNotifications({\n          notifs: parsedResponse,\n          pageSize: NOTIFICATIONS_PER_PAGE,\n        })\n      );\n      if (count === 0) {\n        dispatch(setFinishedFetching());\n      }\n    } catch (err) {\n      console.log(err);\n    } finally {\n      setBgUpdateLoading(false);\n      setLoading(false);\n    }\n  };\n\n  React.useEffect(() => {\n    if (account && currentTab === \"inbox\") {\n      fetchLatestNotifications();\n    }\n  }, [account, currentTab]);\n\n  React.useEffect(() => {\n    fetchLatestNotifications();\n  }, [toggle]);\n\n  //function to query more notifications\n  const handlePagination = async () => {\n    loadNotifications();\n    dispatch(incrementPage());\n  };\n\n  const showWayPoint = (index: any) => {\n    return (\n      Number(index) === notifications.length - 1 &&\n      !finishedFetching &&\n      !bgUpdateLoading\n    );\n  };\n\n  // Render\n  return (\n    <FullWidth>\n      <Wrapper>\n        {/* <Button active={currentTab == \"inbox\"} onClick={() => setCurrentTab(\"inbox\")}>Inbox</Button> */}\n        {/* <Button active={currentTab == \"spambox\"} onClick={() => setCurrentTab(\"spambox\")} spam>\n          Spam\n        </Button> */}\n      </Wrapper>\n      {currentTab == \"spambox\" ? (\n        <SpamBox currentTab={currentTab} />\n      ) : (\n        <Container>\n          {bgUpdateLoading && (\n            <div style={{ marginTop: \"10px\" }}>\n              <Loader type=\"Oval\" color=\"#35c5f3\" height={40} width={40} />\n            </div>\n          )}\n          {notifications && (\n            <Items id=\"scrollstyle-secondary\">\n              {notifications.map((oneNotification, index) => {\n                const {\n                  cta,\n                  title,\n                  message,\n                  app,\n                  icon,\n                  image,\n                } = oneNotification;\n\n                // render the notification item\n                return (\n                  <div key={`${message}+${title}`}>\n                    {showWayPoint(index) && (\n                      <Waypoint onEnter={() => handlePagination()} />\n                    )}\n                    <NotificationItem\n                      notificationTitle={title}\n                      notificationBody={message}\n                      cta={cta}\n                      app={app}\n                      icon={icon}\n                      image={image}\n                    />\n                  </div>\n                );\n              })}\n            </Items>\n          )}\n          {loading && !bgUpdateLoading && (\n            <Loader type=\"Oval\" color=\"#35c5f3\" height={40} width={40} />\n          )}\n          {!notifications.length && !loading && (\n            <CenteredContainerInfo>\n              <DisplayNotice\n                title=\"You currently have no notifications, try subscribing to some channels.\"\n                theme=\"third\"\n              />\n            </CenteredContainerInfo>\n          )}\n        </Container>\n      )}\n    </FullWidth>\n  );\n}\n\nconst FullWidth = styled.div`\n  width: 100%;\n`;\nconst Wrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: 10px;\n  margin-bottom: 10px;\n  justify-content: space-between;\n`;\n\nconst Button = styled.div`\n  border: 0;\n  outline: 0;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-align-items: center;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n  padding: 8px 15px;\n  margin: 10px;\n  color: #fff;\n  border-radius: 5px;\n  font-size: 14px;\n  font-weight: 400;\n  position: relative;\n  background: ${(props: any) => (props.spam ? \"#e20880\" : \"#674C9F\")};\n  min-width: 100px;\n  width: 45%;\n  cursor: ${(props: any) => (props.active ? \"not-allowed\" : \"pointer\")};\n  opacity: ${(props: any) => (props.active ? 0.5 : 1)};\n\n  &:hover {\n    opacity: ${(props: any) => (props.active ? 0.5 : 0.8)};\n  }\n`;\n\nconst EmptyWrapper = styled.div`\n  padding-top: 50px;\n  padding-bottom: 50px;\n`;\nconst CenteredContainerInfo = styled.div`\n  padding: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Items = styled.div`\n  display: block;\n  align-self: stretch;\n  padding: 10px 20px;\n  overflow-y: scroll;\n  background: #fafafa;\n`;\n// css styles\nconst Container = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n\n  font-weight: 200;\n  align-content: center;\n  align-items: center;\n  justify-content: center;\n  max-height: 100vh;\n\n  // padding: 20px;\n  // font-size: 16px;\n  // display: flex;\n  // font-weight: 200;\n  // align-content: center;\n  // align-items: center;\n  // justify-content: center;\n  // width: 100%;\n  // min-height: 40vh;\n`;\n\n// Export Default\nexport default Feedbox;\n","const size = {\n  mobileS: '320px',\n  mobileM: '375px',\n  mobileL: '425px',\n  tablet: '768px',\n  laptop: '1024px',\n  laptopL: '1440px',\n  desktop: '2560px'\n}\n\nexport const Device = {\n  mobileS: `(max-width: ${size.mobileS})`,\n  mobileM: `(max-width: ${size.mobileM})`,\n  mobileL: `(max-width: ${size.mobileL})`,\n  tablet: `(max-width: ${size.tablet})`,\n  laptop: `(max-width: ${size.laptop})`,\n  laptopL: `(max-width: ${size.laptopL})`,\n  desktop: `(max-width: ${size.desktop})`,\n  desktopL: `(max-width: ${size.desktop})`\n};\n","import EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\nimport { ethers } from \"ethers\";\n\nimport { addresses, abis } from \"@project/contracts\";\nimport { postReq } from \"api\";\n\n// STATIC SINGLETON\nexport const ChannelEvents = {\n  ADD_CHANNEL_ANY: \"AddChannelAny\",\n  ADD_CHANNEL_SELF: \"AddChannelSelf\",\n  UPDATE_CHANNEL_ANY: \"UpdateChannelAny\",\n  UPDATE_CHANNEL_SELF: \"UpdateChannelSelf\",\n  SUBSCRIBER_ANY_CHANNEL: \"SubscriberAnyChannel\",\n  SUBSCRIBER_SELF_CHANNEL: \"SubscriberSelfChannel\",\n  UNSUBSCRIBER_ANY_CHANNEL: \"UnsubscriberAnyChannel\",\n  UNSUBSCRIBER_SELF_CHANNEL: \"UnsubscriberSelfChannel\",\n};\n\nexport default class ChannelsDataStore {\n  static instance = ChannelsDataStore.instance || new ChannelsDataStore();\n\n  state = {\n    channelsCount: -1,\n    channelsMeta: {},\n    channelsJson: {},\n    subscribers: {},\n\n    callbacks: [],\n\n    account: null,\n    epnsReadProvider: null,\n    epnsCommReadProvider: null,\n  };\n\n  // init\n  init = (account, epnsReadProvider, epnsCommReadProvider) => {\n    // set account\n    this.state.account = account;\n\n    // First attach listeners then overwrite the old one if any\n    this.resetChannelsListeners();\n    this.state.epnsReadProvider = epnsReadProvider;\n    this.state.epnsCommReadProvider = epnsCommReadProvider;\n    this.initChannelsListenersAsync();\n\n    // next get store channels count\n    this.getChannelsCountAsync();\n  };\n\n  // RESET LISTENERS\n  resetChannelsListeners = () => {\n    // only proceed if a read provider is attached\n    if (this.state.epnsReadProvider) {\n      this.state.epnsReadProvider.removeAllListeners(\"AddChannel\");\n      this.state.epnsReadProvider.removeAllListeners(\"UpdateChannel\");\n      this.state.epnsCommReadProvider.removeAllListeners(\"Subscribe\");\n      this.state.epnsCommReadProvider.removeAllListeners(\"Unsubscribe\");\n    }\n  };\n\n  // init LISTENERS\n  initChannelsListenersAsync = async () => {\n    // Add Listeners\n    await this.listenForAddChannelAnyAsync();\n    await this.listenForAddChannelSelfAsync();\n\n    await this.listenForUpdateChannelAnyAsync();\n    await this.listenForUpdateChannelSelfAsync();\n\n    // use the communicator contract for the below\n    await this.listenForSubscribeAnyAsync();\n    await this.listenForSubscribeSelfAsync();\n    await this.listenForUnsubscribeAnyAsync();\n    await this.listenForUnsubscribeSelfAsync();\n  };\n\n  // 1. Add Any Channel Listeners\n  listenForAddChannelAnyAsync = async () => {\n    const contract = this.state.epnsReadProvider;\n    let filter = contract.filters.AddChannel(null, null);\n\n    contract.on(filter, async (channel, ipfs) => {\n      // Do own stuff\n      await this.incrementChannelsCountAsync(1);\n\n      // then perform callbacks\n      if (this.state.callbacks[ChannelEvents.ADD_CHANNEL_ANY]) {\n        for (let [callbackID, callback] of Object.entries(\n          this.state.callbacks[ChannelEvents.ADD_CHANNEL_ANY]\n        )) {\n          if (callback) {\n            callback(channel, ipfs);\n          }\n        }\n      }\n    });\n  };\n\n  // 2. Add Self Channel Listener\n  listenForAddChannelSelfAsync = async () => {\n    const contract = this.state.epnsReadProvider;\n    let filter = contract.filters.AddChannel(this.state.account, null);\n\n    contract.on(filter, async (channel, ipfs) => {\n      // Do own stuff\n      // Nothing to do, just do callback\n\n      // then perform callbacks\n      if (this.state.callbacks[ChannelEvents.ADD_CHANNEL_SELF]) {\n        for (let [callbackID, callback] of Object.entries(\n          this.state.callbacks[ChannelEvents.ADD_CHANNEL_SELF]\n        )) {\n          if (callback) {\n            callback(channel, ipfs);\n          }\n        }\n      }\n    });\n  };\n\n  // 3. Update Any Channel Listener\n  listenForUpdateChannelAnyAsync = async () => {\n    const contract = this.state.epnsReadProvider;\n    let filter = contract.filters.UpdateChannel(null, null);\n\n    contract.on(filter, async (channel, ipfs) => {\n      // then perform callbacks\n      if (this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_ANY]) {\n        for (let [callbackID, callback] of Object.entries(\n          this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_ANY]\n        )) {\n          if (callback) {\n            callback(channel, ipfs);\n          }\n        }\n      }\n    });\n  };\n\n  // 4. Update Self Channel Listener\n  listenForUpdateChannelSelfAsync = async () => {\n    const contract = this.state.epnsReadProvider;\n    let filter = contract.filters.UpdateChannel(this.state.account, null);\n\n    contract.on(filter, async (channel, ipfs) => {\n      // then perform callbacks\n      if (this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_SELF]) {\n        for (let [callbackID, callback] of Object.entries(\n          this.state.callbacks[ChannelEvents.UPDATE_CHANNEL_SELF]\n        )) {\n          if (callback) {\n            callback(channel, ipfs);\n          }\n        }\n      }\n    });\n  };\n\n  // 5. Subscriber Any\n  listenForSubscribeAnyAsync = async () => {\n    const contract = this.state.epnsCommReadProvider;\n    let filter = contract.filters.Subscribe(null, null);\n\n    contract.on(filter, async (channel, user) => {\n      //   // Do own stuff\n      //   if (this.state.channelsMeta[channel]) {\n      //     const channelID = this.state.channelsMeta[channel];\n      //     let count = this.state.channelsMeta[channelID].memberCount.toNumber();\n      //     count = count + 1;\n      //     this.state.channelsMeta[channelID].memberCount = bigNumberify(count);\n      //   }\n\n      // then perform callbacks\n      if (this.state.callbacks[ChannelEvents.SUBSCRIBER_ANY_CHANNEL]) {\n        for (let [callbackID, callback] of Object.entries(\n          this.state.callbacks[ChannelEvents.SUBSCRIBER_ANY_CHANNEL]\n        )) {\n          if (callback) {\n            callback(channel, user);\n          }\n        }\n      }\n    });\n  };\n\n  // 6. Subscriber Self\n  listenForSubscribeSelfAsync = async () => {\n    const contract = this.state.epnsCommReadProvider;\n    let filter = contract.filters.Subscribe(this.state.account, null);\n\n    contract.on(filter, async (channel, user) => {\n      // then perform callbacks\n      if (this.state.callbacks[ChannelEvents.SUBSCRIBER_SELF_CHANNEL]) {\n        for (let [callbackID, callback] of Object.entries(\n          this.state.callbacks[ChannelEvents.SUBSCRIBER_SELF_CHANNEL]\n        )) {\n          if (callback) {\n            callback(channel, user);\n          }\n        }\n      }\n    });\n  };\n\n  // 7. Unsubscribe Any\n  listenForUnsubscribeAnyAsync = async () => {\n    const contract = this.state.epnsCommReadProvider;\n    let filter = contract.filters.Unsubscribe(null, null);\n\n    contract.on(filter, async (channel, user) => {\n      // Do own stuff\n      // if (this.state.channelsMeta[channel]) {\n      //   const channelID = this.state.channelsMeta[channel];\n      //   let count = this.state.channelsMeta[channelID].memberCount.toNumber();\n      //   count = count - 1;\n      //   this.state.channelsMeta[channelID].memberCount = bigNumberify(count);\n      // }\n\n      // then perform callbacks\n      if (this.state.callbacks[ChannelEvents.UNSUBSCRIBER_ANY_CHANNEL]) {\n        for (let [callbackID, callback] of Object.entries(\n          this.state.callbacks[ChannelEvents.UNSUBSCRIBER_ANY_CHANNEL]\n        )) {\n          if (callback) {\n            callback(channel, user);\n          }\n        }\n      }\n    });\n  };\n\n  // 8. Unsubscribe Self\n  listenForUnsubscribeSelfAsync = async () => {\n    const contract = this.state.epnsCommReadProvider;\n    let filter = contract.filters.Unsubscribe(this.state.account, null);\n\n    contract.on(filter, async (channel, user) => {\n      // then perform callbacks\n      if (this.state.callbacks[ChannelEvents.UNSUBSCRIBER_SELF_CHANNEL]) {\n        for (let [callbackID, callback] of Object.entries(\n          this.state.callbacks[ChannelEvents.UNSUBSCRIBER_SELF_CHANNEL]\n        )) {\n          if (callback) {\n            callback(channel, user);\n          }\n        }\n      }\n    });\n  };\n\n  // FOR CALLBACKS\n  addCallbacks = (callbackType, callbackID, callback) => {\n    // first check if callback already exists\n    if (!this.state.callbacks[callbackType]) {\n      this.state.callbacks[callbackType] = {};\n    }\n\n    if (!this.state.callbacks[callbackType][callbackID]) {\n      this.state.callbacks[callbackType][callbackID] = callback;\n    }\n  };\n\n  removeCallbacks = (callbackType, callbackID) => {\n    // first check if callback already exists\n    if (this.state.callbacks[callbackType][callbackID]) {\n      this.state.callbacks[callbackType][callbackID] = null;\n    }\n  };\n\n  // CHANNELS COUNT\n  getChannelsCountAsync = async () => {\n    const enableLogs = 0;\n\n    return new Promise(async (resolve, reject) => {\n      if (this.state.channelsCount == -1) {\n        // Count not set, get and set it first\n        const count = EPNSCoreHelper.getTotalNumberOfChannels(\n          this.state.epnsReadProvider\n        )\n          .then((response) => {\n            this.state.channelsCount = response;\n\n            if (enableLogs)\n              console.log(\"getChannelsCountAsync() --> %o\", response);\n            resolve(this.state.channelsCount);\n          })\n          .catch((err) => {\n            console.log(\"!!!Error, getChannelsCountAsync() --> %o\", err);\n            reject(err);\n          });\n      } else {\n        resolve(this.state.channelsCount);\n      }\n    });\n  };\n\n  incrementChannelsCountAsync = async (incrementCount) => {\n    return new Promise((resolve, reject) => {\n      this.getChannelsCountAsync()\n        .then((response) => {\n          this.state.channelsCount = response + incrementCount;\n          console.log(\n            \"incrementChannelsCountAsync() --> %d\",\n            this.state.channelsCount\n          );\n          resolve(this.state.channelsCount);\n        })\n        .catch((err) => {\n          console.log(\"!!!Error, incrementChannelsCountAsync() --> %o\", err);\n          reject(err);\n        });\n    });\n  };\n  /**\n   * Get paginated channel information\n   * @param {Number} startIndex the number of channels viewed so far e.g 50\n   * @param {Number} pageCount the number of items per page we want\n   * @returns \n   */\n  getChannelFromApi = async (startIndex, pageCount) => {\n    return postReq(\"/channels/fetch_channels\", {\n      page: Math.ceil(startIndex / pageCount) || 1,\n      pageSize: pageCount,\n      op: \"write\",\n    }).then((response) => {\n      const output = response.data.results.map(({channel}) => ({addr: channel}));\n      return output;\n    });\n  };\n  // CHANNELS META FUNCTIONS\n  // To get channels meta\n  // get channels meta in a paginated format\n  // by passing in the starting index and the number of items per page\n  getChannelsMetaAsync = async (startIndex, pageCount) => {\n    this.getChannelFromApi(startIndex, pageCount)\n    return new Promise(async (resolve, reject) => {\n      // get total number of channels\n      const channelsCount = await this.getChannelsCountAsync();\n      let stopIndex = startIndex + pageCount;\n\n      // if the stop index is -1 then get all channels\n      if (stopIndex == -1 || stopIndex > channelsCount) {\n        stopIndex = channelsCount;\n      }\n\n      // initialise an array with the values from 0 to the length of the number of channels\n      let channelIDs = [];\n\n      for (let i = startIndex; i < stopIndex; i++) {\n        channelIDs.push(i);\n      }\n      console.log({ channelIDs });\n\n      const promises = channelIDs.map(async (channelID) => {\n        // Match the cache\n        return this.getChannelMetaAsync(channelID)\n          .then((response) => response)\n          .catch((err) =>\n            console.log(\n              \"!!!Error (but skipping), getChannelMetaAsync() --> %o\",\n              err\n            )\n          );\n      });\n\n      // wait until all promises are resolved\n      const channelMetaData = await Promise.all(promises);\n\n      // return channels meta\n      // console.log(\"getChannelsMetaAsync(From %d to %d) --> %o\", startIndex, stopIndex, channelMetaData);\n      resolve(channelMetaData);\n    });\n  };\n\n  // To get a single channel meta via id\n  getChannelMetaAsync = async (channelID) => {\n    return new Promise(async (resolve, reject) => {\n      if (this.state.channelsMeta[channelID]) {\n        console.log(\n          \"getChannelMetaAsync() [CACHED] --> %o\",\n          this.state.channelsMeta[channelID]\n        );\n        resolve(this.state.channelsMeta[channelID]);\n      } else {\n        let channelAddress;\n\n        await EPNSCoreHelper.getChannelAddressFromID(\n          channelID,\n          this.state.epnsReadProvider\n        )\n          .then(async (response) => {\n            channelAddress = response;\n            await this.getChannelMetaViaAddressAsync(channelAddress).then(\n              (response) => {\n                // update the channel cache before resolving\n                this.state.channelsMeta[channelID] = response;\n                this.state.channelsMeta[channelAddress] = channelID;\n\n                // resolve\n                // console.log(\"getChannelMetaAsync() [Address: %s] --> %o\", channelAddress, response);\n                resolve(response);\n              }\n            );\n          })\n          .catch((err) => {\n            console.log(\"!!!Error, getChannelMetaAsync() --> %o\", err);\n            reject(err);\n          });\n      }\n    });\n  };\n\n  // To get a single channel meta via address\n  getChannelMetaViaAddressAsync = async (channelAddress) => {\n    return new Promise(async (resolve, reject) => {\n      if (this.state.channelsMeta[channelAddress]) {\n        const channelID = this.state.channelsMeta[channelAddress];\n\n        console.log(\n          \"getChannelMetaViaAddressAsync() [CACHED] --> %o\",\n          this.state.channelsMeta[channelID]\n        );\n        resolve(this.state.channelsMeta[channelID]);\n      } else {\n        // Can't cache this :(, no way to know channel id\n        await EPNSCoreHelper.getChannelInfo(\n          channelAddress,\n          this.state.epnsReadProvider\n        )\n          .then((response) => {\n            // resolve\n            // console.log(\"getChannelMetaViaAddressAsync() [Address: %s] --> %o\", channelAddress, response);\n            resolve(response);\n          })\n          .catch((err) => {\n            console.log(\n              \"!!!Error, getChannelMetaViaAddressAsync() --> %o\",\n              err\n            );\n            reject(err);\n          });\n      }\n    });\n  };\n\n  getChannelSubscribers = async (channelAddress) => {\n    const cachedSubscribers = this.state.subscribers[channelAddress];\n    if (cachedSubscribers) {\n      return cachedSubscribers;\n    }\n    return postReq(\"/channels/get_subscribers\", {\n      channel: channelAddress,\n      op: \"read\",\n    })\n      .then(({ data }) => {\n        const subs = data.subscribers;\n        this.state.subscribers[channelAddress] = subs;\n        return subs;\n      })\n      .catch((err) => {\n        console.log(`getChannelSubscribers => ${err.message}`);\n        return [];\n      });\n  };\n\n  // CHANNELS INFO FUNCTIONS\n  // To get a single channel meta via id\n  getChannelJsonAsync = async (channelAddress) => {\n    return new Promise(async (resolve, reject) => {\n      if (this.state.channelsJson[channelAddress]) {\n        // console.log(\"getChannelJsonAsync() [CACHED] --> %o\", this.state.channelsJson[channelAddress]);\n        resolve(this.state.channelsJson[channelAddress]);\n      } else {\n        await EPNSCoreHelper.getChannelJsonFromChannelAddress(\n          channelAddress,\n          this.state.epnsReadProvider\n        )\n          .then((response) => {\n            // First set the cache\n            this.state.channelsJson[channelAddress] = response;\n\n            // resolve\n            // console.log(\"getChannelJsonAsync() [Address: %s] --> %o\", channelAddress, response);\n            resolve(response);\n          })\n          .catch((err) => {\n            console.log(\"!!!Error, getChannelJsonAsync() --> %o\", err);\n            reject(err);\n          });\n      }\n    });\n  };\n}\n","/**\n * This file helps us maintain the channels fetched in state, such that when we leave the tab, the channels can be fetched from memory\n */\nimport { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  CHANNNEL_DEACTIVATED_STATE: 2,\n  CHANNEL_BLOCKED_STATE: 3,\n  CHANNEL_ACTIVE_STATE: 1,\n  CHANNEL_BLACKLIST: [], //a list of channels\n  page: 0,\n  channels: [], // the channels meta-data\n  channelsCache: {}, // a mapping of channel address to channel details\n};\n\nexport const contractSlice = createSlice({\n  name: \"channels\",\n  initialState,\n  reducers: {\n    setChannelMeta: (state, action) => {\n      state.channels = action.payload;\n    },\n    incrementPage: (state) => {\n      state.page += 1;\n    },\n    cacheChannelInfo: (state, action) => {\n      const { address, meta } = action.payload;\n      state.channelsCache[address] = meta;\n    },\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const {\n  setChannelMeta,\n  incrementPage,\n  cacheChannelInfo,\n} = contractSlice.actions;\n\nexport default contractSlice.reducer;\n","import React from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { Device } from \"assets/Device\";\n\nimport { toast as toaster } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport Loader from \"react-loader-spinner\";\nimport Skeleton from \"@yisheng90/react-loading\";\nimport { IoMdPeople } from \"react-icons/io\";\nimport { GoVerified } from \"react-icons/go\";\nimport { FaRegAddressCard } from \"react-icons/fa\";\nimport { AiTwotoneCopy } from \"react-icons/ai\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { postReq } from \"api\";\nimport NotificationToast from \"components/NotificationToast\";\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\nimport { cacheChannelInfo } from \"redux/slices/channelSlice\";\n\n// Create Header\nfunction ViewChannelItem({ channelObjectProp }) {\n  const dispatch = useDispatch();\n  const {\n    epnsReadProvider,\n    epnsWriteProvider,\n    epnsCommReadProvider,\n    pushAdminAddress,\n    ZERO_ADDRESS,\n  } = useSelector((state) => state.contracts);\n  const { canVerify } = useSelector((state) => state.admin);\n  const { channelsCache, CHANNEL_BLACKLIST } = useSelector(\n    (state) => state.channels\n  );\n  const { account, library, chainId } = useWeb3React();\n  const isOwner = channelObjectProp.addr === account;\n\n  const [channelObject, setChannelObject] = React.useState({});\n  const [channelJson, setChannelJson] = React.useState({});\n  const [subscribed, setSubscribed] = React.useState(true);\n  const [loading, setLoading] = React.useState(true);\n  const [memberCount, setMemberCount] = React.useState(0);\n  const [isPushAdmin, setIsPushAdmin] = React.useState(false);\n  const [isVerified, setIsVerified] = React.useState(false);\n  const [isBlocked, setIsBlocked] = React.useState(false);\n  const [vLoading, setvLoading] = React.useState(false);\n  const [bLoading, setBLoading] = React.useState(false);\n  const [txInProgress, setTxInProgress] = React.useState(false);\n  const [canUnverify, setCanUnverify] = React.useState(false);\n  const [verifierDetails, setVerifierDetails] = React.useState(null);\n  const [copyText, setCopyText] = React.useState(null);\n\n  // ------ toast related section\n  const isChannelBlacklisted = CHANNEL_BLACKLIST.includes(channelObject.addr);\n  const [toast, showToast] = React.useState(null);\n  const clearToast = () => showToast(null);\n\n  //clear toast variable after it is shown\n  React.useEffect(() => {\n    if (toast) {\n      clearToast();\n    }\n  }, [toast]);\n  // ------ toast related section\n\n  React.useEffect(() => {\n    if (!channelObject.addr) return;\n    if (channelObject.verifiedBy) {\n      // procced as usual\n      fetchChannelJson().catch((err) => alert(err.message));\n      setIsBlocked(\n        channelObject.channelState === 3 || channelObject.channelState === 2 //dont display channel if blocked //dont display channel if deactivated\n      );\n    } else {\n      // if this key (verifiedBy) is not present it means we are searching and should fetch the channel object from chain again\n      epnsReadProvider.channels(channelObject.addr).then((response) => {\n        setChannelObject({ ...response, addr: channelObject.addr });\n        fetchChannelJson();\n      });\n    }\n  }, [account, channelObject, chainId]);\n\n  React.useEffect(() => {\n    if (!channelObjectProp) return;\n    setChannelObject(channelObjectProp);\n  }, [channelObjectProp]);\n\n  React.useEffect(() => {\n    if (!isVerified || channelObject?.verifiedBy === ZERO_ADDRESS) return;\n    ChannelsDataStore.instance\n      .getChannelJsonAsync(channelObject.verifiedBy)\n      .then((verifierDetails) => {\n        setVerifierDetails(verifierDetails);\n      })\n      .catch((err) => {\n        console.log(channelObject.verifiedBy, err);\n      });\n  }, [isVerified, channelObject]);\n\n  const EPNS_DOMAIN = {\n    name: \"EPNS COMM V1\",\n    chainId: chainId,\n    verifyingContract: epnsCommReadProvider.address,\n  };\n  // to fetch channels\n  const fetchChannelJson = async () => {\n    try {\n      let channelJson = {};\n      setCopyText(channelObject.addr);\n      if (channelsCache[channelObject.addr]) {\n        channelJson = channelsCache[channelObject.addr];\n      } else {\n        channelJson = await ChannelsDataStore.instance.getChannelJsonAsync(\n          channelObject.addr\n        );\n        dispatch(\n          cacheChannelInfo({\n            address: channelObject.addr,\n            meta: channelJson,\n          })\n        );\n      }\n      const channelSubscribers = await postReq(\"/channels/get_subscribers\", {\n        channel: channelObject.addr,\n        op: \"read\",\n      })\n        .then(({ data }) => {\n          const subs = data.subscribers;\n\n          return subs;\n        })\n        .catch((err) => {\n          console.log(`getChannelSubscribers => ${err.message}`);\n          return [];\n        });\n      const subscribed = channelSubscribers.find((sub) => {\n        return sub.toLowerCase() === account.toLowerCase();\n      });\n\n      setIsPushAdmin(pushAdminAddress === account);\n      setMemberCount(channelSubscribers.length);\n      setSubscribed(subscribed);\n      setIsVerified(\n        Boolean(\n          channelObject && channelObject.verifiedBy &&\n            (channelObject.verifiedBy !== ZERO_ADDRESS ||\n              channelObject.addr === pushAdminAddress)\n        )\n      );\n      setCanUnverify(channelObject.verifiedBy == account);\n      setChannelJson({ ...channelJson, addr: channelObject.addr });\n      setLoading(false);\n    } catch (err) {\n      setIsBlocked(true);\n    }\n  };\n\n  // toast customize\n  const LoaderToast = ({ msg, color }) => (\n    <Toaster>\n      <Loader type=\"Oval\" color={color} height={30} width={30} />\n      <ToasterMsg>{msg}</ToasterMsg>\n    </Toaster>\n  );\n\n  // to subscribe\n  const subscribe = async () => {\n    subscribeAction(false);\n  };\n  const formatAddress = (addressText) => {\n    return addressText.length > 40\n      ? `${addressText.slice(0, 4)}....${addressText.slice(36)}`\n      : addressText;\n  };\n\n  // Toastify\n  let notificationToast = () =>\n    toaster.dark(<LoaderToast msg=\"Preparing Notification\" color=\"#fff\" />, {\n      position: \"bottom-right\",\n      autoClose: false,\n      hideProgressBar: true,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    });\n\n  const verifyChannel = () => {\n    setvLoading(true);\n    // post op\n    epnsWriteProvider\n      .verifyChannel(channelObject.addr)\n      .then(async (tx) => {\n        console.log(tx);\n        console.log(\"Transaction Sent!\");\n\n        toaster.update(notificationToast(), {\n          render: \"Transaction sent\",\n          type: toaster.TYPE.INFO,\n          autoClose: 5000,\n        });\n\n        // await tx.wait(1);\n        // console.log (\"Transaction Mined!\");\n        setIsVerified(true);\n      })\n      .catch((err) => {\n        console.log(\"!!!Error verifyChannel() --> %o\", err);\n        toaster.update(notificationToast(), {\n          render: \"Transacion Failed: \" + err.error?.message || \"Unknown Error\",\n          type: toaster.TYPE.ERROR,\n          autoClose: 5000,\n        });\n      })\n      .finally(() => {\n        setvLoading(false);\n      });\n  };\n\n  const unverifyChannel = () => {\n    setvLoading(true);\n    epnsWriteProvider\n      .unverifyChannel(channelObject.addr)\n      .then(async (tx) => {\n        console.log(tx);\n        console.log(\"Transaction Sent!\");\n\n        toaster.update(notificationToast(), {\n          render: \"Transaction sent\",\n          type: toaster.TYPE.INFO,\n          autoClose: 5000,\n        });\n\n        await tx.wait(1);\n        console.log(\"Transaction Mined!\");\n        setIsVerified(false);\n      })\n      .catch((err) => {\n        console.log(\"!!!Error handleSendMessage() --> %o\", err);\n        toaster.update(notificationToast(), {\n          render: \"Transacion Failed: \" + err.error?.message || \"Unknown Error\",\n          type: toaster.TYPE.ERROR,\n          autoClose: 5000,\n        });\n      });\n    setvLoading(false);\n  };\n  const blockChannel = () => {\n    setBLoading(true);\n    epnsWriteProvider\n      .blockChannel(channelObject.addr)\n      .then(async (tx) => {\n        console.log(tx);\n        console.log(\"Transaction Sent!\");\n\n        toaster.update(notificationToast(), {\n          render: \"Transaction Sent\",\n          type: toaster.TYPE.INFO,\n          autoClose: 5000,\n        });\n\n        // await tx.wait(1);\n        // console.log (\"Transaction Mined!\");\n      })\n      .catch((err) => {\n        console.log(\"!!!Error handleSendMessage() --> %o\", err);\n        toaster.update(notificationToast(), {\n          render: \"Transacion Failed: \" + err.error.message,\n          type: toaster.TYPE.ERROR,\n          autoClose: 5000,\n        });\n      })\n      .finally(() => {\n        // post op\n        setBLoading(false);\n        setIsBlocked(true);\n      });\n  };\n\n  const subscribeAction = async () => {\n    setTxInProgress(true);\n    let txToast;\n    try {\n      const type = {\n        Subscribe: [\n          { name: \"channel\", type: \"address\" },\n          { name: \"subscriber\", type: \"address\" },\n          { name: \"action\", type: \"string\" },\n        ],\n      };\n      const message = {\n        channel: channelObject.addr,\n        subscriber: account,\n        action: \"Subscribe\",\n      };\n\n      const signature = await library\n        .getSigner(account)\n        ._signTypedData(EPNS_DOMAIN, type, message);\n      txToast = toaster.dark(\n        <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\n        {\n          position: \"bottom-right\",\n          autoClose: false,\n          hideProgressBar: true,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        }\n      );\n\n      postReq(\"/channels/subscribe_offchain\", {\n        signature,\n        message,\n        op: \"write\",\n        chainId,\n        contractAddress: epnsCommReadProvider.address,\n      }).then((res) => {\n        setSubscribed(true);\n        setMemberCount(memberCount + 1);\n        toaster.update(txToast, {\n          render: \"Sucesfully opted into channel !\",\n          type: toaster.TYPE.SUCCESS,\n          autoClose: 5000,\n        });\n        console.log(res);\n        setTxInProgress(false);\n      });\n    } catch (err) {\n      toaster.update(txToast, {\n        render: \"There was an error opting into channel (\" + err.message + \")\",\n        type: toaster.TYPE.ERROR,\n        autoClose: 5000,\n      });\n      console.log(err);\n    } finally {\n      setTxInProgress(false);\n    }\n  };\n\n  const copyToClipboard = (url) => {\n    // fallback for non navigator browser support\n    if (navigator && navigator.clipboard) {\n      navigator.clipboard.writeText(url);\n    } else {\n      const el = document.createElement(\"textarea\");\n      el.value = url;\n      document.body.appendChild(el);\n      el.select();\n      document.execCommand(\"copy\");\n      document.body.removeChild(el);\n    }\n  };\n\n  const unsubscribeAction = async () => {\n    let txToast;\n    try {\n      const type = {\n        Unsubscribe: [\n          { name: \"channel\", type: \"address\" },\n          { name: \"unsubscriber\", type: \"address\" },\n          { name: \"action\", type: \"string\" },\n        ],\n      };\n      const message = {\n        channel: channelObject.addr,\n        unsubscriber: account,\n        action: \"Unsubscribe\",\n      };\n      const signature = await library\n        .getSigner(account)\n        ._signTypedData(EPNS_DOMAIN, type, message);\n\n      txToast = toaster.dark(\n        <LoaderToast msg=\"Waiting for Confirmation...\" color=\"#35c5f3\" />,\n        {\n          position: \"bottom-right\",\n          autoClose: false,\n          hideProgressBar: true,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        }\n      );\n\n      postReq(\"/channels/unsubscribe_offchain\", {\n        signature,\n        message,\n        op: \"write\",\n        chainId,\n        contractAddress: epnsCommReadProvider.address,\n      })\n        .then((res) => {\n          setSubscribed(false);\n          setMemberCount(memberCount + 1);\n          toaster.update(txToast, {\n            render: \"Sucesfully opted out of channel !\",\n            type: toaster.TYPE.SUCCESS,\n            autoClose: 5000,\n          });\n          console.log(res);\n        })\n        .catch((err) => {\n          toaster.update(txToast, {\n            render:\n              \"There was an error opting into channel (\" + err.message + \")\",\n            type: toaster.TYPE.ERROR,\n            autoClose: 5000,\n          });\n          console.log(err);\n        })\n        .finally(() => {\n          setTxInProgress(false);\n        });\n    } finally {\n      setTxInProgress(false);\n    }\n  };\n\n  if (isBlocked) return <></>;\n  if (isChannelBlacklisted) return <></>;\n\n  // render\n  return (\n    <Container key={channelObject.addr}>\n      <ChannelLogo>\n        <ChannelLogoOuter>\n          <ChannelLogoInner>\n            {loading ? (\n              <Skeleton color=\"#eee\"  height=\"100%\" />\n            ) : (\n              <ChannelLogoImg src={`${channelJson.icon}`} />\n            )}\n          </ChannelLogoInner>\n        </ChannelLogoOuter>\n      </ChannelLogo>\n\n      <ChannelInfo>\n        <ChannelTitle>\n          {loading ? (\n            <Skeleton color=\"#eee\" width=\"50%\" height={24} />\n          ) : (\n            <ChannelTitleLink\n              href={channelJson.url}\n              target=\"_blank\"\n              rel=\"nofollow\"\n            >\n              {channelJson.name}\n              {isVerified && (\n                <Subscribers style={{ display: \"inline\", marginLeft: \"8px\" }}>\n                  <GoVerified size={18} color=\"#35c4f3\" />\n                </Subscribers>\n              )}\n            </ChannelTitleLink>\n          )}\n        </ChannelTitle>\n\n        <ChannelDesc>\n          {loading ? (\n            <>\n              <SkeletonWrapper atH={5} atW={100}>\n                <Skeleton color=\"#eee\" width=\"100%\" height={5} />\n              </SkeletonWrapper>\n\n              <SkeletonWrapper atH={5} atW={100}>\n                <Skeleton color=\"#eee\" width=\"100%\" height={5} />\n              </SkeletonWrapper>\n\n              <SkeletonWrapper atH={5} atW={100}>\n                <Skeleton color=\"#eee\" width=\"40%\" height={5} />\n              </SkeletonWrapper>\n            </>\n          ) : (\n            <ChannelDescLabel>{channelJson.info}</ChannelDescLabel>\n          )}\n        </ChannelDesc>\n\n        <ChannelMeta>\n          {loading ? (\n            <>\n              <SkeletonWrapper atH={10} atW={30} marginBottom=\"0\">\n                <Skeleton />\n              </SkeletonWrapper>\n            </>\n          ) : (\n            <ColumnFlex>\n              <FlexBox style={{ marginBottom: \"5px\" }}>\n                <Subscribers>\n                  <IoMdPeople size={20} color=\"#ccc\" />\n                  <SubscribersCount>{memberCount}</SubscribersCount>\n                </Subscribers>\n\n                <Subscribers style={{ marginLeft: \"10px\" }}>\n                  <FaRegAddressCard size={20} color=\"#ccc\" />\n                  <SubscribersCount\n                    onClick={() => {\n                      copyToClipboard(channelJson.addr);\n                      setCopyText(\"copied\");\n                    }}\n                    onMouseEnter={() => {\n                      setCopyText(\"click to copy\");\n                    }}\n                    onMouseLeave={() => {\n                      setCopyText(channelJson.addr);\n                    }}\n                    style={{ cursor: \"pointer\" }}\n                  >\n                    <AiTwotoneCopy />\n                    {formatAddress(copyText)}\n                  </SubscribersCount>\n                </Subscribers>\n              </FlexBox>\n              {verifierDetails && (\n                <Subscribers>\n                  <VerifiedBy>Verified by:</VerifiedBy>\n                  <VerifierIcon src={verifierDetails.icon} />\n                  <VerifierName>{verifierDetails.name}</VerifierName>\n                </Subscribers>\n              )}\n            </ColumnFlex>\n          )}\n        </ChannelMeta>\n      </ChannelInfo>\n      {!!account && !!library && (\n        <>\n          <LineBreak />\n          <ChannelActions>\n            {loading && (\n              <SkeletonButton>\n                <Skeleton />\n              </SkeletonButton>\n            )}\n            {!loading && isPushAdmin && (\n              <SubscribeButton onClick={blockChannel} disabled={bLoading}>\n                {bLoading && (\n                  <ActionLoader>\n                    <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\n                  </ActionLoader>\n                )}\n                <ActionTitle hideit={bLoading}>Block channel</ActionTitle>\n              </SubscribeButton>\n            )}\n            {!loading && (isPushAdmin || canVerify) && !isVerified && (\n              <SubscribeButton onClick={verifyChannel} disabled={vLoading}>\n                {vLoading && (\n                  <ActionLoader>\n                    <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\n                  </ActionLoader>\n                )}\n                <ActionTitle hideit={vLoading}>Verify Channel</ActionTitle>\n              </SubscribeButton>\n            )}\n            {!loading && (isPushAdmin || canUnverify) && isVerified && (\n              <UnsubscribeButton onClick={unverifyChannel} disabled={vLoading}>\n                {vLoading && (\n                  <ActionLoader>\n                    <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\n                  </ActionLoader>\n                )}\n                <ActionTitle hideit={vLoading}>Unverify Channel</ActionTitle>\n              </UnsubscribeButton>\n            )}\n            {!loading && !subscribed && (\n              <SubscribeButton onClick={subscribe} disabled={txInProgress}>\n                {txInProgress && (\n                  <ActionLoader>\n                    <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\n                  </ActionLoader>\n                )}\n                <ActionTitle hideit={txInProgress}>Opt-In</ActionTitle>\n              </SubscribeButton>\n            )}\n            {!loading && subscribed && (\n              <>\n                {isOwner && <OwnerButton disabled>Owner</OwnerButton>}\n                {!isOwner && (\n                  <UnsubscribeButton\n                    onClick={unsubscribeAction}\n                    disabled={txInProgress}\n                  >\n                    {txInProgress && (\n                      <ActionLoader>\n                        <Loader\n                          type=\"Oval\"\n                          color=\"#FFF\"\n                          height={16}\n                          width={16}\n                        />\n                      </ActionLoader>\n                    )}\n                    <ActionTitle hideit={txInProgress}>Opt-Out</ActionTitle>\n                  </UnsubscribeButton>\n                )}\n              </>\n            )}\n          </ChannelActions>\n        </>\n      )}\n      {toast && (\n        <NotificationToast notification={toast} clearToast={clearToast} />\n      )}\n    </Container>\n  );\n}\n\nconst FlexBox = styled.div`\n  display: flex;\n`;\n\nconst ColumnFlex = styled(FlexBox)`\n  flex-direction: column;\n`;\n// css styles\nconst Container = styled.div`\n  flex: 1;\n  display: flex;\n  flex-wrap: wrap;\n\n  background: #fff;\n  border-radius: 10px;\n  border: 1px solid rgb(237, 237, 237);\n\n  margin: 15px 0px;\n  justify-content: center;\n  padding: 10px;\n`;\n\nconst SkeletonWrapper = styled.div`\n  overflow: hidden;\n  width: ${(props) => props.atW + \"%\" || \"100%\"};\n  height: ${(props) => props.atH}px;\n  border-radius: ${(props) => props.borderRadius || 10}px;\n  margin-bottom: ${(props) => props.marginBottom || 5}px;\n  margin-right: ${(props) => props.marginRight || 0}px;\n`;\n\nconst ChannelLogo = styled.div`\n  max-width: 100px;\n  min-width: 32px;\n  flex: 1;\n  margin: 5px;\n  padding: 10px;\n  border: 2px solid #fafafa;\n  overflow: hidden;\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-self: flex-start;\n`;\n\nconst ChannelLogoOuter = styled.div`\n  padding-top: 100%;\n  position: relative;\n`;\n\nconst ChannelLogoInner = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  border-radius: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ChannelLogoImg = styled.img`\n  object-fit: contain;\n  width: 100%;\n  border-radius: 20px;\n  overflow: hidden;\n`;\n\nconst ChannelInfo = styled.div`\n  flex: 1;\n  margin: 5px 10px;\n  min-width: 120px;\n  flex-grow: 4;\n  flex-direction: column;\n  display: flex;\n`;\n\nconst ChannelTitle = styled.div`\n  margin-bottom: 5px;\n`;\n\nconst ChannelTitleLink = styled.a`\n  text-decoration: none;\n  font-weight: 600;\n  color: #e20880;\n  font-size: 20px;\n  &:hover {\n    text-decoration: underline;\n    cursor: pointer;\n    pointer: hand;\n  }\n`;\n\nconst VerifiedBy = styled.span`\n  color: #ec008c;\n  font-size: 16px;\n  line-height: 20px;\n  letter-spacing: 0.05em;\n  font-weight: 600;\n  display: inline-block;\n`;\n\nconst VerifierIcon = styled.img`\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  margin-left: 6px;\n  margin-right: 4px;\n`;\nconst VerifierName = styled.span`\n  font-weight: 400;\n  color: black;\n  font-size: 16px;\n  letter-spacing: 0em;\n`;\n\nconst ChannelDesc = styled.div`\n  flex: 1;\n  display: flex;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.75);\n  font-weight: 400;\n  flex-direction: column;\n`;\n\nconst ChannelDescLabel = styled.label`\n  flex: 1;\n`;\n\nconst ChannelMeta = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  font-size: 13px;\n`;\n\nconst ChannelMetaBox = styled.label`\n  margin: 0px 5px;\n  color: #fff;\n  font-weight: 600;\n  padding: 5px 10px;\n  display: flex;\n  border-radius: 10px;\n  font-size: 11px;\n  gap: 3px;\n`;\n\nconst Subscribers = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  align-items: center;\n`;\n\nconst SubscribersCount = styled(ChannelMetaBox)`\n  background: #35c4f3;\n  transition: 300ms;\n`;\n\nconst Pool = styled.div`\n  margin: 0px 10px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n\nconst PoolShare = styled(ChannelMetaBox)`\n  background: #674c9f;\n`;\n\nconst LineBreak = styled.div`\n  display: none;\n  flex-basis: 100%;\n  height: 0;\n\n  @media ${Device.tablet} {\n    display: block;\n  }\n`;\n\nconst ChannelActions = styled.div`\n  margin: 5px;\n  flex-grow: 1;\n  // max-width: 250px;\n  display: flex;\n  justify-content: flex-end;\n  // justify-content: center;\n  align-items: center;\n`;\n\nconst ChannelActionButton = styled.button`\n  border: 0;\n  outline: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 8px 15px;\n  margin: 10px;\n  color: #fff;\n  border-radius: 5px;\n  font-size: 14px;\n  font-weight: 400;\n  position: relative;\n  &:hover {\n    opacity: 0.9;\n    cursor: pointer;\n    pointer: hand;\n  }\n  &:active {\n    opacity: 0.75;\n    cursor: pointer;\n    pointer: hand;\n  }\n  ${(props) =>\n    props.disabled &&\n    css`\n      &:hover {\n        opacity: 1;\n        cursor: default;\n        pointer: default;\n      }\n      &:active {\n        opacity: 1;\n        cursor: default;\n        pointer: default;\n      }\n    `}\n`;\n\nconst ActionTitle = styled.span`\n  ${(props) =>\n    props.hideit &&\n    css`\n      visibility: hidden;\n    `};\n`;\n\nconst ActionLoader = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst SkeletonButton = styled.div`\n  border: 0;\n  outline: 0;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 10px;\n  border-radius: 5px;\n  flex: 1;\n`;\n\nconst SubscribeButton = styled(ChannelActionButton)`\n  background: #e20880;\n  min-width: 80px;\n`;\n\nconst UnsubscribeButton = styled(ChannelActionButton)`\n  background: #674c9f;\n  min-width: 80px;\n`;\n\nconst OwnerButton = styled(ChannelActionButton)`\n  background: #35c5f3;\n`;\n\nconst Toaster = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin: 0px 10px;\n`;\n\nconst ToasterMsg = styled.div`\n  margin: 0px 10px;\n`;\n\n// Export Default\nexport default ViewChannelItem;\n","import React from \"react\";\n\nimport styled, { css } from 'styled-components';\nimport {Section, Content, Item, ItemH, Span, Anchor} from 'components/SharedStyling';\n\nimport { FaGasPump } from 'react-icons/fa';\n\n// Faucet URLs\nfunction Faucets() {\n  // render\n  return (\n    <Section margin=\"5px 0px 0px 0px\">\n      <Content>\n        <ItemH\n          self=\"flex-end\"\n          bg=\"#fff\"\n          radius=\"8px\"\n          padding=\"30px 10px 10px 10px\"\n          border=\"1px solid #ededed\"\n          overflow=\"hidden\"\n          align=\"stretch\"\n        >\n          <Span\n            pos=\"absolute\"\n            top=\"10px\"\n            right=\"0px\"\n            padding=\"5px 10px\"\n            bg=\"#e20880\"\n            color=\"#fff\"\n            size=\"12px\"\n            weight=\"600\"\n          >\n            Get Free Kovan Ether\n          </Span>\n\n          <Item margin=\"5px\">\n            <Anchor\n              direction=\"column\"\n              href=\"https://faucet.metamask.io/\"\n              target=\"_blank\"\n              rel=\"nofollow\"\n            >\n              <FaGasPump size={30} color=\"#674c9f\"/>\n              <Span\n                bg=\"#000\"\n                color=\"#fff\"\n                size=\"10px\"\n                weight=\"600\"\n                spacing=\"0.1em\"\n                textAlign=\"center\"\n                padding=\"5px 10px\"\n                margin=\"10px 0px 0px 0px\"\n                textTransform=\"uppercase\"\n                radius=\"8px\"\n              >\n                Metamask Faucet\n              </Span>\n            </Anchor>\n          </Item>\n          <Item margin=\"5px\">\n            <Anchor\n              direction=\"column\"\n              href=\"https://gitter.im/kovan-testnet/faucet\"\n              target=\"_blank\"\n              rel=\"nofollow\"\n            >\n              <FaGasPump size={30} color=\"#674c9f\"/>\n              <Span\n                bg=\"#000\"\n                color=\"#fff\"\n                size=\"10px\"\n                weight=\"600\"\n                spacing=\"0.1em\"\n                textAlign=\"center\"\n                padding=\"5px 10px\"\n                margin=\"10px 0px 0px 0px\"\n                textTransform=\"uppercase\"\n                radius=\"8px\"\n              >\n                Faucet Kovan\n              </Span>\n            </Anchor>\n          </Item>\n\n        </ItemH>\n      </Content>\n    </Section>\n  );\n}\n\n// Export Default\nexport default Faucets;\n","\nimport React from 'react';\nimport styled from \"styled-components\";\nimport Loader from \"react-loader-spinner\";\nimport { Waypoint } from \"react-waypoint\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { postReq } from \"api\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { envConfig } from \"@project/contracts\";\n\nimport DisplayNotice from \"components/DisplayNotice\";\nimport ViewChannelItem from \"components/ViewChannelItem\";\nimport Faucets from \"components/Faucets\";\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\nimport { setChannelMeta, incrementPage } from \"redux/slices/channelSlice\";\n\n\nconst CHANNELS_PER_PAGE = 30; //pagination parameter which indicates how many channels to return over one iteration\nconst SEARCH_TRIAL_LIMIT = 5; //ONLY TRY SEARCHING 5 TIMES BEFORE GIVING UP\nconst DEBOUNCE_TIMEOUT = 500; //time in millisecond which we want to wait for then to finish typing\n\n// Create Header\nfunction ViewChannels() {\n  const dispatch = useDispatch();\n  const { account, chainId } = useWeb3React();\n  const { channels, page, ZERO_ADDRESS } = useSelector(\n    (state: any) => state.channels\n  );\n\n  const [loading, setLoading] = React.useState(false);\n  const [moreLoading, setMoreLoading] = React.useState(false);\n  const [search, setSearch] = React.useState(\"\");\n  const [channelToShow, setChannelToShow] = React.useState([]);\n  const [loadingChannel, setLoadingChannel] = React.useState(false);\n  const [trialCount, setTrialCount] = React.useState(0);\n\n  const channelsVisited = page * CHANNELS_PER_PAGE;\n  const isMainnet = chainId == 1;\n\n  // fetch channel data if we are just getting to this pae\n  React.useEffect(() => {\n    setLoading(!channels.length); //if there are no channels initially then, set the loader\n    fetchInitialsChannelMeta();\n  }, [account, chainId]);\n\n  // to update a page\n  const updateCurrentPage = () => {\n    if (loading || moreLoading) return;\n    // fetch more channel information\n    setMoreLoading(true);\n    dispatch(incrementPage());\n    loadMoreChannelMeta(page + 1); //load the meta for the next page\n  };\n\n  // to fetch initial channels and logged in user data\n  const fetchInitialsChannelMeta = async () => {\n    // fetch the meta of the first `CHANNELS_PER_PAGE` channels\n    const channelsMeta = await ChannelsDataStore.instance.getChannelFromApi(\n      channelsVisited,\n      CHANNELS_PER_PAGE\n    );\n    dispatch(incrementPage())\n    if (!channels.length) {\n      dispatch(setChannelMeta(channelsMeta));\n    }\n    setLoading(false);\n  };\n\n  // load more channels when we get to the bottom of the page\n  const loadMoreChannelMeta = async (newPageNumber: any) => {\n    const startingPoint = newPageNumber * CHANNELS_PER_PAGE;\n    const moreChannels = await ChannelsDataStore.instance.getChannelFromApi(\n      startingPoint,\n      CHANNELS_PER_PAGE\n    );\n    dispatch(setChannelMeta([...channels, ...moreChannels]));\n    setMoreLoading(false);\n  };\n\n  // conditionally display the waymore bar which loads more information\n  // load more channels when we are at the bottom of the page\n  const showWayPoint = (index: any) => {\n    return Number(index) === channels.length - 1;\n  };\n\n  // Search Channels Feature\n  React.useEffect(() => {\n    if (!channels.length) return;\n    setChannelToShow(channels);\n  }, [channels]);\n\n\n  function searchForChannel() {\n    if (loadingChannel) return; //if we are already loading, do nothing\n    if (search) {\n      setLoadingChannel(true); //begin loading here\n      setChannelToShow([]); //maybe remove later\n      postReq(\"/channels/search\", {\n        query: search,\n        op: \"read\",\n      })\n        .then((data) => {\n          setChannelToShow(data.data.channels || []);\n          setLoadingChannel(false);\n        })\n        .catch(() => {\n          // if there's an error search for three times before giving up and displaying the normal channels\n          if (trialCount < SEARCH_TRIAL_LIMIT) {\n            setTrialCount((t) => t + 1);\n            searchForChannel(); //if theres an error, recursively search\n          } else {\n            setChannelToShow(channels);\n            setLoadingChannel(false);\n          }\n        });\n    } else {\n      // if no search item, then set it back to the channels\n      setLoadingChannel(false);\n      setChannelToShow(channels);\n    }\n  }\n\n  React.useEffect(() => {\n    // debounce request\n    // this is done so that we only make a request after the user stops typing\n    const timeout = setTimeout(searchForChannel, DEBOUNCE_TIMEOUT);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [search]);\n  \n  return (\n    <>\n      <Container>\n        {!loading && channels.length == 0 ? (\n          <ContainerInfo>\n            <DisplayNotice\n              title=\"That's weird, No Channels in EPNS... world is ending... right?\"\n              theme=\"primary\"\n            />\n          </ContainerInfo>\n        ) : (\n          <Items\n            id=\"scrollstyle-secondary\"\n            style={{ position: \"relative\", padding: \"0 1rem\" }}\n          >\n            {!loading && (\n              <Header style={{ minHeight: \"140px\" }}>\n                  {/* if on mainnet then occupy full width*/}\n                <InputWrapper style={{width: isMainnet ? \"100%\" : \"50%\"}}>\n                  <SearchBar\n                    type=\"text\"\n                    value={search}\n                    onChange={(e: any) => setSearch(e.target.value)}\n                    className=\"input\"\n                    placeholder=\"Search By Name/Address\"\n                  />\n                  <SearchIconImage src='/searchicon.svg' alt=\"\" />\n                </InputWrapper>\n                {!isMainnet && <Faucets />} \n                {/* only display faucets on mainnet */}\n              </Header>\n            )}\n\n            {/* render all channels depending on if we are searching or not */}\n            {(search ? channelToShow : channels).map(\n              (channel: any, index: any) =>\n                channel &&\n              channel.addr !== ZERO_ADDRESS && (\n                <>\n                  <div key={channel.addr}>\n                    <ViewChannelItem channelObjectProp={channel} />\n                  </div>\n                  {showWayPoint(index) && (\n                    <Waypoint onEnter={updateCurrentPage} />\n                  )}\n                </>\n              )\n            )}\n            {/* render all channels depending on if we are searching or not */}\n\n            {/* if we are in search mode and there are no channels then display error message */}\n            {search && !channelToShow?.length && !loadingChannel && (\n              <CenteredContainerInfo>\n                <DisplayNotice\n                  title=\"No channels match your query, please search for another name/address\"\n                  theme=\"third\"\n                />\n              </CenteredContainerInfo>\n            )}\n            {/* display loader if pagination is loading next batch of channelTotalList */}\n            {((moreLoading && channels.length) ||\n              loading ||\n              loadingChannel) && (\n              <CenterContainer>\n                <Loader type=\"Oval\" color=\"#35c5f3\" height={40} width={40} />\n              </CenterContainer>\n            )}\n          </Items>\n        )}\n      </Container>\n    </>\n  );\n}\n\n// css styles\nconst Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0px;\n  z-index: 2;\n  background: #fafafa;\n\n  @media (max-width: 600px) {\n    flex-direction: column;\n  }\n`;\nconst InputWrapper = styled.div`\n  width: 50%;\n  position: relative;\n\n  @media (max-width: 600px) {\n    width: 100%;\n    margin: 2rem 0;\n  }\n`;\n\nconst SearchBar = styled.input`\n  width: 100%;\n  padding-right: 50px;\n  height: 60px;\n  padding-left: 40px;\n\n  background: rgb(255, 255, 255);\n  border: 1px solid rgba(169, 169, 169, 0.5);\n  box-sizing: border-box;\n  border-radius: 10px;\n  transition: 500ms;\n  text-transform: capitalize;\n  font-size: 16px;\n\n  input[type=\"reset\"] {\n    display: none;\n  }\n  &::placeholder {\n    letter-spacing: 0.15em;\n  }\n  &:hover,\n  &:active,\n  &:focus {\n    outline: none;\n  }\n  &:focus {\n    border: 1px solid #ec008c;\n  }\n`;\nconst Container = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n\n  font-weight: 200;\n  align-content: center;\n  align-items: center;\n  justify-content: center;\n\n  max-height: 92vh;\n`;\n\nconst ContainerInfo = styled.div`\n  padding: 20px;\n`;\n\nconst CenteredContainerInfo = styled.div`\n  padding: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst CenterContainer = styled(ContainerInfo)`\n  width: fit-content;\n  margin: auto;\n`;\n\nconst Items = styled.div`\n  display: block;\n  align-self: stretch;\n  padding: 10px 20px;\n  overflow-y: scroll;\n  background: #fafafa;\n`;\n\nconst SearchIconImage = styled.img`\n  position: absolute;\n  right: 4px;\n  top: 4px;\n`;\n\n// Export Default\nexport default ViewChannels;\n","import React from 'react'\n\nexport const CloseIcon = () => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10.243\" height=\"10.243\" viewBox=\"0 0 16.243 16.243\">\n        <g id=\"Group_4723\" data-name=\"Group 4723\" transform=\"translate(2.121 2.121)\">\n            <g id=\"Group_4716\" data-name=\"Group 4716\" transform=\"translate(0)\">\n            <line id=\"Line_1079\" data-name=\"Line 1079\" x2=\"16.97\" transform=\"translate(0 12) rotate(-45)\" fill=\"none\" stroke=\"#fff\" stroke-linecap=\"round\" stroke-width=\"3\"/>\n            <line id=\"Line_1080\" data-name=\"Line 1080\" y2=\"16.97\" transform=\"translate(0 0) rotate(-45)\" fill=\"none\" stroke=\"#fff\" stroke-linecap=\"round\" stroke-width=\"3\"/>\n            </g>\n        </g>\n    </svg>\n);\n","import React from \"react\";\nimport { toast } from \"react-toastify\";\nimport Dropdown from \"react-dropdown\";\nimport { FiLink } from \"react-icons/fi\";\nimport Loader from \"react-loader-spinner\";\nimport styled from \"styled-components\";\nimport { BsFillImageFill } from \"react-icons/bs\";\nimport { useSelector } from \"react-redux\";\nimport { postReq } from \"api\";\nimport {\n  Section,\n  Content,\n  Item,\n  ItemH,\n  H2,\n  H3,\n  Span,\n  Button,\n  FormSubmision,\n  Input,\n  TextField,\n} from \"components/SharedStyling\";\n\nimport \"react-dropdown/style.css\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\n\nimport Switch from \"@material-ui/core/Switch\";\nimport { useWeb3React } from \"@web3-react/core\";\n\nimport { CloseIcon } from \"assets/icons\";\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\nimport CryptoHelper from \"helpers/CryptoHelper\";\nconst ethers = require(\"ethers\");\n\n// Set Notification Form Type | 0 is reserved for protocol storage\nconst NFTypes = [\n  { value: \"1\", label: \"Broadcast (IPFS Payload)\" },\n  { value: \"2\", label: \"Secret (IPFS Payload)\" },\n  { value: \"3\", label: \"Targetted (IPFS Payload)\" },\n  // { value: \"4\", label: \"Subset (IPFS Payload)\" },\n  // { value: \"5\", label: \"Offchain (Push)\" },\n];\nconst LIMITER_KEYS = [\"Enter\", \",\"];\n\n// Create Header\nfunction SendNotifications() {\n  const { account, library, chainId } = useWeb3React();\n  const { epnsCommWriteProvider, epnsCommReadProvider } = useSelector(\n    (state: any) => state.contracts\n  );\n  const { channelDetails, delegatees } = useSelector(\n    (state: any) => state.admin\n  );\n  const { CHANNNEL_DEACTIVATED_STATE } = useSelector(\n    (state: any) => state.channels\n  );\n\n  const [nfProcessing, setNFProcessing] = React.useState(0);\n  const [channelAddress, setChannelAddress] = React.useState(\"\");\n  const [nfRecipient, setNFRecipient] = React.useState(\"\");\n  const [multipleRecipients, setMultipleRecipients] = React.useState([]);\n  const [tempRecipeint, setTempRecipient] = React.useState(\"\"); // to temporarily hold the address of one recipient who would be entered into the recipeints array above.\n  const [nfType, setNFType] = React.useState(\"\");\n  const [nfSub, setNFSub] = React.useState(\"\");\n  const [nfSubEnabled, setNFSubEnabled] = React.useState(false);\n  const [nfMsg, setNFMsg] = React.useState(\"\");\n  const [nfCTA, setNFCTA] = React.useState(\"\");\n  const [nfCTAEnabled, setNFCTAEnabled] = React.useState(false);\n  const [nfMedia, setNFMedia] = React.useState(\"\");\n  const [nfMediaEnabled, setNFMediaEnabled] = React.useState(false);\n  const [nfInfo, setNFInfo] = React.useState(\"\");\n  const [delegateeOptions, setDelegateeOptions] = React.useState([]);\n\n  const isChannelDeactivated = channelDetails\n    ? channelDetails.channelState === CHANNNEL_DEACTIVATED_STATE\n    : false;\n  const cannotDisplayDelegatees =\n    (delegatees.length === 1 && delegatees[0].address === account) ||\n    !delegatees.length; //do not display delegatees dropdown if you are the only delegatee to yourself or there are no delegatess\n  // construct a list of channel delegators\n  React.useEffect(() => {\n    if (!account) return;\n    if (!delegatees || !delegatees.length) {\n      setChannelAddress(account);\n    } else {\n      setDelegateeOptions(\n        delegatees.map((oneDelegatee: any) => ({\n          value: oneDelegatee.address,\n          label: (\n            <CustomDropdownItem>\n              <img src={oneDelegatee.icon} alt=\"\" />\n              <div>{oneDelegatee.name}</div>\n            </CustomDropdownItem>\n          ),\n        }))\n      );\n      // default the channel address to the first one on the list which should be that of the user if they have a channel\n      setChannelAddress(delegatees[0].address);\n    }\n  }, [delegatees, account]);\n  console.log(delegateeOptions);\n\n  // on change for the subset type notifications input\n  const handleSubsetInputChange = (e: any) => {\n    // if the user enters in a comma or an enter then seperate the addresses\n    if (LIMITER_KEYS.includes(e.key)) {\n      e.preventDefault();\n      // if they enter a limiter key, then add the temp value to the recipeints list\n      // then clear the value of the temp text\n      setMultipleRecipients((oldRecipients) =>\n        // use this combination to remove duplicates\n        Array.from(new Set([...oldRecipients, tempRecipeint]))\n      );\n      setTempRecipient(\"\");\n    }\n  };\n  // when to remove a subscriber\n  const removeRecipient = (recipientAddress: any) => {\n    const filteredRecipients = multipleRecipients.filter(\n      (rec) => rec !== recipientAddress\n    );\n    setMultipleRecipients(filteredRecipients);\n  };\n\n  React.useEffect(() => {\n    const broadcastIds = [\"1\", \"4\"]; //id's of notifications which qualify as broadcast\n    setMultipleRecipients([]); //reset array when type changes/\n    if (broadcastIds.includes(nfType)) {\n      // This is broadcast, nfRecipient will be the same\n      setNFRecipient(account);\n    } else {\n      setNFRecipient(\"\");\n    }\n  }, [nfType]);\n\n  // validate the body being sent, return true if no errors\n  const bodyValidated = (notificationToast) => {\n    let validated = true;\n    // if we are sending for a subset and there\n    if (nfType === \"4\" && !multipleRecipients.length) {\n      toast.update(notificationToast, {\n        render:\n          \"Please enter at least two recipients in order to use subset notifications type\",\n        type: toast.TYPE.ERROR,\n        autoClose: 5000,\n      });\n      validated = false;\n    }\n    return validated;\n  };\n\n  const handleSendMessage = async (e) => {\n    // Check everything in order\n    e.preventDefault();\n\n    // Toastify\n    let notificationToast = toast.dark(\n      <LoaderToast msg=\"Preparing Notification\" color=\"#fff\" />,\n      {\n        position: \"bottom-right\",\n        autoClose: false,\n        hideProgressBar: true,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      }\n    );\n\n    // do some validation\n    if (!bodyValidated(notificationToast)) return;\n\n    // Set to processing\n    setNFProcessing(1);\n\n    // Form signer and contract connection\n    const communicatorContract = epnsCommWriteProvider;\n    // define the epns comms contracts\n\n    // For payload basic\n    let nsub = nfSub;\n    let nmsg = nfMsg;\n    let secretEncrypted;\n\n    let asub = nfSub;\n    let amsg = nfMsg;\n    let acta = nfCTA;\n    let aimg = nfMedia;\n\n    // Decide type and storage\n    switch (nfType) {\n      // Broadcast Notification\n      case \"1\":\n        break;\n\n      // Targetted Notification\n      case \"3\":\n        break;\n\n      // Secret Notification\n      case \"2\":\n        // Create secret\n        let secret = CryptoHelper.makeid(14);\n\n        // Encrypt payload and change sub and nfMsg in notification\n        nsub = \"You have a secret message!\";\n        nmsg = \"Open the app to see your secret message!\";\n\n        // get public key from EPNSCoreHelper\n        let k = await EPNSCoreHelper.getPublicKey(\n          nfRecipient,\n          epnsCommWriteProvider\n        );\n        if (k == null) {\n          // No public key, can't encrypt\n          setNFInfo(\"Public Key Registration is required for encryption!\");\n          setNFProcessing(2);\n\n          toast.update(notificationToast, {\n            render: \"Unable to encrypt for this user, no public key registered\",\n            type: toast.TYPE.ERROR,\n            autoClose: 5000,\n          });\n\n          return;\n        }\n\n        let publickey = k.toString().substring(2);\n        //console.log(\"This is public Key: \" + publickey);\n\n        secretEncrypted = await CryptoHelper.encryptWithECIES(\n          secret,\n          publickey\n        );\n        asub = CryptoHelper.encryptWithAES(nfSub, secret);\n        amsg = CryptoHelper.encryptWithAES(nfMsg, secret);\n        acta = CryptoHelper.encryptWithAES(nfCTA, secret);\n        aimg = CryptoHelper.encryptWithAES(nfMedia, secret);\n        break;\n\n      // Targetted Notification\n      case \"4\":\n        break;\n\n      // Offchain Notification\n      case \"5\":\n        console.log(nsub, nmsg, nfType, asub, amsg, acta, aimg, \"case 5\");\n\n        break;\n      default:\n        break;\n    }\n\n    // Handle Storage\n    let storagePointer = \"\";\n\n    // IPFS PAYLOAD --> 1, 2, 3\n    if (nfType === \"1\" || nfType === \"2\" || nfType === \"3\" || nfType === \"4\") {\n      // Checks for optional fields\n      if (nfSubEnabled && isEmpty(nfSub)) {\n        setNFInfo(\"Enter Subject or Disable it\");\n        setNFProcessing(2);\n\n        toast.update(notificationToast, {\n          render: \"Incorrect Payload\",\n          type: toast.TYPE.ERROR,\n          autoClose: 5000,\n        });\n\n        return;\n      }\n\n      if (nfMediaEnabled && isEmpty(nfMedia)) {\n        setNFInfo(\"Enter Media URL or Disable it\");\n        setNFProcessing(2);\n\n        toast.update(notificationToast, {\n          render: \"Incorrect Payload\",\n          type: toast.TYPE.ERROR,\n          autoClose: 5000,\n        });\n        return;\n      }\n\n      if (nfCTAEnabled && isEmpty(nfCTA)) {\n        setNFInfo(\"Enter Call to Action Link or Disable it\");\n        setNFProcessing(2);\n\n        toast.update(notificationToast, {\n          render: \"Incorrect Payload\",\n          type: toast.TYPE.ERROR,\n          autoClose: 5000,\n        });\n        return;\n      }\n\n      if (isEmpty(nfMsg)) {\n        setNFInfo(\"Message cannot be empty\");\n        setNFProcessing(2);\n\n        toast.update(notificationToast, {\n          render: \"Incorrect Payload\",\n          type: toast.TYPE.ERROR,\n          autoClose: 5000,\n        });\n        return;\n      }\n\n      const jsonPayload = {\n        notification: {\n          title: nsub,\n          body: nmsg,\n        },\n        data: {\n          type: nfType,\n          secret: secretEncrypted,\n          asub: asub,\n          amsg: amsg,\n          acta: acta,\n          aimg: aimg,\n        },\n      };\n\n      // if we are sending a subset type, then include recipients\n      if (nfType === \"4\") {\n        jsonPayload[\"recipients\"] = [...multipleRecipients];\n      }\n\n      const input = JSON.stringify(jsonPayload);\n\n      console.log(\"Uploding to IPFS...\");\n      toast.update(notificationToast, {\n        render: \"Preparing Payload for upload\",\n      });\n\n      const ipfs = require(\"nano-ipfs-store\").at(\"https://ipfs.infura.io:5001\");\n\n      try {\n        storagePointer = await ipfs.add(input);\n      } catch (e) {\n        setNFProcessing(2);\n        setNFInfo(\"IPFS Upload Error\");\n      }\n\n      console.log(\"IPFS cid: %o\", storagePointer);\n    }\n    if (nfType === \"1\" || nfType === \"2\" || nfType === \"3\" || nfType === \"4\") {\n      // Prepare Identity and send notification\n      const identity = nfType + \"+\" + storagePointer;\n      const identityBytes = ethers.utils.toUtf8Bytes(identity);\n\n      const EPNS_DOMAIN = {\n        name: \"EPNS COMM V1\",\n        chainId: chainId,\n        verifyingContract: epnsCommReadProvider.address,\n      };\n\n      const type = {\n        Data: [\n          { name: \"acta\", type: \"string\" },\n          { name: \"aimg\", type: \"string\" },\n          { name: \"amsg\", type: \"string\" },\n          { name: \"asub\", type: \"string\" },\n          { name: \"type\", type: \"string\" },\n          { name: \"secret\", type: \"string\" },\n        ],\n      };\n\n      const payload = {\n        data: {\n          acta: acta,\n          aimg: aimg,\n          amsg: amsg,\n          asub: asub,\n          type: nfType,\n          secret: \"\",\n        },\n\n        notification: {\n          body: amsg,\n          title: asub,\n        },\n      };\n\n      const message = payload.data;\n      console.log(payload, \"payload\");\n      console.log(\"chainId\", chainId);\n      const signature = await library\n        .getSigner(account)\n        ._signTypedData(EPNS_DOMAIN, type, message);\n      console.log(\"case5 signature\", signature);\n      try {\n        postReq(\"/payloads/add_manual_payload\", {\n          signature,\n          op: \"write\",\n          chainId: chainId.toString(),\n          channel: account,\n          recipient: nfRecipient,\n          deployedContract: epnsCommReadProvider.address,\n          payload: payload,\n          type: nfType,\n        }).then(async (res) => {\n          toast.update(notificationToast, {\n            render: \"Notification Sent\",\n            type: toast.TYPE.INFO,\n            autoClose: 5000,\n          });\n\n          setNFProcessing(2);\n          setNFType(\"\");\n          setNFInfo(\"Offchain Notification Sent\");\n\n          toast.update(notificationToast, {\n            render: \"Offchain Notification Sent\",\n            type: toast.TYPE.SUCCESS,\n            autoClose: 5000,\n          });\n          console.log(res);\n        });\n      } catch (err) {\n        setNFInfo(\"Offchain Notification Failed, please try again\");\n\n        toast.update(notificationToast, {\n          render: \"Offchain Notification Failed: \" + err,\n          type: toast.TYPE.ERROR,\n          autoClose: 5000,\n        });\n        setNFProcessing(0);\n        console.log(err);\n      }\n\n      // var anotherSendTxPromise;\n\n      // anotherSendTxPromise = communicatorContract.sendNotification(\n      //   channelAddress,\n      //   nfRecipient,\n      //   identityBytes\n      // );\n\n      // console.log(\"Sending Transaction... \");\n      // toast.update(notificationToast, {\n      //   render: \"Sending Notification...\",\n      // });\n\n      // anotherSendTxPromise\n      //   .then(async (tx) => {\n      //     console.log(tx);\n      //     console.log(\"Transaction Sent!\");\n\n      //     toast.update(notificationToast, {\n      //       render: \"Notification Sent\",\n      //       type: toast.TYPE.INFO,\n      //       autoClose: 5000,\n      //     });\n\n      //     await tx.wait(1);\n      //     console.log(\"Transaction Mined!\");\n\n      //     setNFProcessing(2);\n      //     setNFType(\"\");\n      //     setNFInfo(\"Notification Sent\");\n\n      //     toast.update(notificationToast, {\n      //       render: \"Transaction Mined / Notification Sent\",\n      //       type: toast.TYPE.SUCCESS,\n      //       autoClose: 5000,\n      //     });\n      //   })\n      //   .catch((err) => {\n      //     console.log(\"!!!Error handleSendMessage() --> %o\", err);\n      //     setNFInfo(\"Transaction Failed, please try again\");\n\n      //     toast.update(notificationToast, {\n      //       render: \"Transacion Failed: \" + err,\n      //       type: toast.TYPE.ERROR,\n      //       autoClose: 5000,\n      //     });\n      //     setNFProcessing(0);\n      //   });\n    }\n    if (nfType === \"5\") {\n      // const jsonPayload = {\n      //   notification: {\n      //     title: nsub,\n      //     body: nmsg,\n      //   },\n      //   data: {\n      //     type: nfType,\n      //     secret: secretEncrypted,\n      //     asub: asub,\n      //     amsg: amsg,\n      //     acta: acta,\n      //     aimg: aimg,\n      //   },\n      // };\n\n      const EPNS_DOMAIN = {\n        name: \"EPNS COMM V1\",\n        chainId: chainId,\n        verifyingContract: epnsCommReadProvider.address,\n      };\n\n      const type = {\n        Data: [\n          { name: \"acta\", type: \"string\" },\n          { name: \"aimg\", type: \"string\" },\n          { name: \"amsg\", type: \"string\" },\n          { name: \"asub\", type: \"string\" },\n          { name: \"type\", type: \"string\" },\n          { name: \"secret\", type: \"string\" },\n        ],\n      };\n\n      const payload = {\n        data: {\n          acta: acta,\n          aimg: aimg,\n          amsg: amsg,\n          asub: asub,\n          type: nfType,\n          secret: \"\",\n        },\n\n        notification: {\n          body: amsg,\n          title: asub,\n        },\n      };\n\n      const message = payload.data;\n      console.log(payload, \"payload\");\n      console.log(\"chainId\", chainId);\n      const signature = await library\n        .getSigner(account)\n        ._signTypedData(EPNS_DOMAIN, type, message);\n      console.log(\"case5 signature\", signature);\n      try {\n        postReq(\"/payloads/add_manual_payload\", {\n          signature,\n          op: \"write\",\n          chainId: chainId.toString(),\n          channel: account,\n          recipient: nfRecipient,\n          deployedContract: epnsCommReadProvider.address,\n          payload: payload,\n          type: \"3\",\n        }).then(async (res) => {\n          toast.update(notificationToast, {\n            render: \"Notification Sent\",\n            type: toast.TYPE.INFO,\n            autoClose: 5000,\n          });\n\n          setNFProcessing(2);\n          setNFType(\"\");\n          setNFInfo(\"Offchain Notification Sent\");\n\n          toast.update(notificationToast, {\n            render: \"Offchain Notification Sent\",\n            type: toast.TYPE.SUCCESS,\n            autoClose: 5000,\n          });\n          console.log(res);\n        });\n      } catch (err) {\n        setNFInfo(\"Offchain Notification Failed, please try again\");\n\n        toast.update(notificationToast, {\n          render: \"Offchain Notification Failed: \" + err,\n          type: toast.TYPE.ERROR,\n          autoClose: 5000,\n        });\n        setNFProcessing(0);\n        console.log(err);\n      }\n    }\n  };\n\n  const isEmpty = (field: any) => {\n    if (field.trim().length == 0) {\n      return true;\n    }\n\n    return false;\n  };\n\n  // toast customize\n  const LoaderToast = ({ msg, color }) => (\n    <Toaster>\n      <Loader type=\"Oval\" color={color} height={30} width={30} />\n      <ToasterMsg>{msg}</ToasterMsg>\n    </Toaster>\n  );\n\n  return (\n    <>\n      <Section>\n        <Content padding=\"10px 20px 20px\">\n          <Item align=\"flex-start\">\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\n              <Span weight=\"200\">Send </Span>\n              <Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">\n                Notification\n              </Span>\n            </H2>\n            {!isChannelDeactivated ? (\n              <H3>\n                EPNS supports three types of notifications (for now!).{\" \"}\n                <b>Groups</b>, <b>Secrets</b>, and <b>Targetted</b>\n                 {/* and{\" \"} <b>Subsets</b>. */}\n              </H3>\n            ) : (\n              <H3>This channel has been deactivated, please reactivate it!.</H3>\n            )}\n          </Item>\n        </Content>\n      </Section>\n\n      {!isChannelDeactivated && (\n        <Section>\n          <ModifiedContent>\n            <Item align=\"stretch\">\n              <FormSubmision\n                flex=\"1\"\n                direction=\"column\"\n                margin=\"0px\"\n                justify=\"center\"\n                size=\"1.1rem\"\n                onSubmit={handleSendMessage}\n              >\n                <Item margin=\"0px 20px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\n                  {!cannotDisplayDelegatees && (\n                    <Item\n                      flex=\"5\"\n                      justify=\"flex-start\"\n                      align=\"stretch\"\n                      minWidth=\"280px\"\n                    >\n                      <DropdownStyledParentWhite>\n                        <DropdownHeader>\n                          SEND NOTIFICATION ON BEHALF OF\n                        </DropdownHeader>\n                        <DropdownStyledWhite\n                          options={delegateeOptions}\n                          onChange={(option: any) => {\n                            setChannelAddress(option.value);\n                          }}\n                          value={delegateeOptions.find(\n                            (d) => d.value == channelAddress\n                          )}\n                        />\n                      </DropdownStyledParentWhite>\n                    </Item>\n                  )}\n\n                  <Input\n                    display=\"none\"\n                    value={nfType}\n                    onChange={(e) => {\n                      setNFType(e.target.value);\n                    }}\n                  />\n\n                  <Item\n                    flex=\"5\"\n                    justify=\"flex-start\"\n                    align=\"stretch\"\n                    minWidth=\"280px\"\n                  >\n                    <DropdownStyledParent>\n                      <DropdownStyled\n                        options={NFTypes}\n                        onChange={(option) => {\n                          setNFType(option.value);\n                          console.log(option);\n                        }}\n                        value={nfType}\n                        placeholder=\"Select Type of Notification to Send\"\n                      />\n                    </DropdownStyledParent>\n                  </Item>\n                  <Input\n                    display=\"none\"\n                    value={nfType}\n                    onChange={(e) => {\n                      setNFType(e.target.value);\n                    }}\n                  />\n\n                  {nfType && (\n                    <ItemH\n                      margin=\"0px 15px 15px 15px\"\n                      bg=\"#f1f1f1\"\n                      flex=\"1\"\n                      self=\"stretch\"\n                      justify=\"space-between\"\n                    >\n                      <ItemH margin=\"15px 10px\" flex=\"inital\">\n                        <Span\n                          margin=\"0px 10px 0px 0px\"\n                          weight=\"400\"\n                          spacing=\"0.1em\"\n                          textTransform=\"uppercase\"\n                          size=\"0.8em\"\n                          bg=\"#e20880\"\n                          color=\"#fff\"\n                          padding=\"5px 15px\"\n                          radius=\"30px\"\n                        >\n                          Enable Subject\n                        </Span>\n                        <Switch\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={nfSubEnabled}\n                          onChange={() => setNFSubEnabled(!nfSubEnabled)}\n                        />\n                      </ItemH>\n\n                      <ItemH margin=\"15px 10px\" flex=\"inital\">\n                        <Span\n                          margin=\"0px 10px 0px 0px\"\n                          weight=\"400\"\n                          spacing=\"0.1em\"\n                          textTransform=\"uppercase\"\n                          size=\"0.8em\"\n                          bg=\"#e20880\"\n                          color=\"#fff\"\n                          padding=\"5px 15px\"\n                          radius=\"30px\"\n                        >\n                          Enable Media\n                        </Span>\n                        <Switch\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={nfMediaEnabled}\n                          onChange={() => setNFMediaEnabled(!nfMediaEnabled)}\n                        />\n                      </ItemH>\n\n                      <ItemH margin=\"15px 10px\" flex=\"inital\">\n                        <Span\n                          margin=\"0px 10px 0px 0px\"\n                          weight=\"400\"\n                          spacing=\"0.1em\"\n                          textTransform=\"uppercase\"\n                          size=\"0.8em\"\n                          bg=\"#e20880\"\n                          color=\"#fff\"\n                          padding=\"5px 15px\"\n                          radius=\"30px\"\n                        >\n                          Enable CTA\n                        </Span>\n                        <Switch\n                          color=\"primary\"\n                          size=\"small\"\n                          checked={nfCTAEnabled}\n                          onChange={() => setNFCTAEnabled(!nfCTAEnabled)}\n                        />\n                      </ItemH>\n                    </ItemH>\n                  )}\n                </Item>\n\n                {(nfType === \"2\" || nfType === \"3\" || nfType === \"5\") && (\n                  <Item\n                    margin=\"15px 20px 15px 20px\"\n                    flex=\"1\"\n                    self=\"stretch\"\n                    align=\"stretch\"\n                  >\n                    <Input\n                      required\n                      placeholder=\"Enter recipient wallet address\"\n                      radius=\"4px\"\n                      padding=\"12px\"\n                      border=\"1px solid #674c9f\"\n                      bg=\"#fff\"\n                      value={nfRecipient}\n                      onChange={(e) => {\n                        setNFRecipient(e.target.value);\n                      }}\n                    />\n                    {nfRecipient.trim().length == 0 && (\n                      <Span\n                        padding=\"4px 10px\"\n                        right=\"0px\"\n                        top=\"0px\"\n                        pos=\"absolute\"\n                        color=\"#fff\"\n                        bg=\"#000\"\n                        size=\"0.7rem\"\n                        z=\"1\"\n                      >\n                        Recipient Wallet\n                      </Span>\n                    )}\n                  </Item>\n                )}\n\n                {nfType === \"4\" && (\n                  <>\n                    <MultiRecipientsContainer>\n                      {multipleRecipients.map((oneRecipient) => (\n                        <span key={oneRecipient}>\n                          {oneRecipient}\n                          <i onClick={() => removeRecipient(oneRecipient)}>\n                            <CloseIcon />\n                          </i>\n                        </span>\n                      ))}\n                    </MultiRecipientsContainer>\n                    <Item\n                      margin=\"15px 20px 15px 20px\"\n                      flex=\"1\"\n                      self=\"stretch\"\n                      align=\"stretch\"\n                    >\n                      <Input\n                        required={multipleRecipients.length === 0}\n                        placeholder=\"Enter recipients wallet addresses seperated by a comma or by pressing the enter key\"\n                        radius=\"4px\"\n                        padding=\"12px\"\n                        border=\"1px solid #674c9f\"\n                        bg=\"#fff\"\n                        value={tempRecipeint}\n                        onKeyPress={handleSubsetInputChange}\n                        onChange={(e) => {\n                          const text = e.target.value;\n                          if (!LIMITER_KEYS.includes(text)) {\n                            setTempRecipient(e.target.value);\n                          }\n                        }}\n                      />\n                      {nfRecipient.trim().length == 0 && (\n                        <Span\n                          padding=\"4px 10px\"\n                          right=\"0px\"\n                          top=\"0px\"\n                          pos=\"absolute\"\n                          color=\"#fff\"\n                          bg=\"#000\"\n                          size=\"0.7rem\"\n                          z=\"1\"\n                        >\n                          Recipient Wallet\n                        </Span>\n                      )}\n                    </Item>\n                  </>\n                )}\n\n                {nfType && nfSubEnabled && (\n                  <Item\n                    margin=\"15px 20px 15px 20px\"\n                    flex=\"1\"\n                    self=\"stretch\"\n                    align=\"stretch\"\n                  >\n                    <Input\n                      required\n                      placeholder=\"Subject of Notification\"\n                      padding=\"12px\"\n                      borderBottom=\"1px solid #000\"\n                      weight=\"400\"\n                      size=\"1.2em\"\n                      bg=\"#fff\"\n                      value={nfSub}\n                      onChange={(e) => {\n                        setNFSub(e.target.value);\n                      }}\n                    />\n                    {nfSub.trim().length == 0 && (\n                      <Span\n                        padding=\"4px 10px\"\n                        right=\"0px\"\n                        top=\"0px\"\n                        pos=\"absolute\"\n                        color=\"#fff\"\n                        bg=\"#000\"\n                        size=\"0.7rem\"\n                        z=\"1\"\n                      >\n                        Subject\n                      </Span>\n                    )}\n                  </Item>\n                )}\n\n                {nfType && (\n                  <Item\n                    margin=\"15px 20px 15px 20px\"\n                    flex=\"1\"\n                    self=\"stretch\"\n                    align=\"stretch\"\n                  >\n                    <TextField\n                      required\n                      placeholder=\"Notification Message\"\n                      rows=\"6\"\n                      radius=\"4px\"\n                      padding=\"12px\"\n                      weight=\"400\"\n                      border=\"1px solid #000\"\n                      bg=\"#fff\"\n                      value={nfMsg}\n                      onChange={(e) => {\n                        setNFMsg(e.target.value);\n                      }}\n                      autocomplete=\"off\"\n                    />\n                  </Item>\n                )}\n\n                {nfType && nfMediaEnabled && (\n                  <ItemH\n                    padding=\"15px 20px 15px 20px\"\n                    flex=\"1\"\n                    self=\"stretch\"\n                    align=\"center\"\n                  >\n                    <Item flex=\"0\" margin=\"0px 5px 0px 0px\">\n                      <BsFillImageFill size={24} color=\"#000\" />\n                    </Item>\n                    <Item flex=\"1\" margin=\"0px 0px 0px 5px\" align=\"stretch\">\n                      <Input\n                        required\n                        placeholder=\"Media URL for Notification\"\n                        padding=\"12px\"\n                        border=\"1px solid #000\"\n                        radius=\"4px\"\n                        weight=\"400\"\n                        bg=\"#f1f1f1\"\n                        value={nfMedia}\n                        onChange={(e) => {\n                          setNFMedia(e.target.value);\n                        }}\n                      />\n                      {nfMedia.trim().length == 0 && (\n                        <Span\n                          padding=\"4px 10px\"\n                          right=\"0px\"\n                          top=\"0px\"\n                          pos=\"absolute\"\n                          color=\"#fff\"\n                          bg=\"#000\"\n                          size=\"0.7rem\"\n                          z=\"1\"\n                        >\n                          Media URL\n                        </Span>\n                      )}\n                    </Item>\n                  </ItemH>\n                )}\n\n                {nfType && nfCTAEnabled && (\n                  <ItemH\n                    margin=\"15px 20px 15px 20px\"\n                    flex=\"1\"\n                    self=\"stretch\"\n                    align=\"center\"\n                  >\n                    <Item flex=\"0\" margin=\"0px 5px 0px 0px\">\n                      <FiLink size={24} color=\"#000\" />\n                    </Item>\n                    <Item flex=\"1\" margin=\"0px 0px 0px 5px\" align=\"stretch\">\n                      <Input\n                        required\n                        placeholder=\"Call to Action Link\"\n                        padding=\"12px\"\n                        border=\"1px solid #000\"\n                        radius=\"4px\"\n                        weight=\"400\"\n                        bg=\"#f1f1f1\"\n                        value={nfCTA}\n                        onChange={(e) => {\n                          setNFCTA(e.target.value);\n                        }}\n                      />\n                      {nfCTA.trim().length == 0 && (\n                        <Span\n                          padding=\"4px 10px\"\n                          right=\"0px\"\n                          top=\"0px\"\n                          pos=\"absolute\"\n                          color=\"#fff\"\n                          bg=\"#000\"\n                          size=\"0.7rem\"\n                          z=\"1\"\n                        >\n                          Call to Action URL\n                        </Span>\n                      )}\n                    </Item>\n                  </ItemH>\n                )}\n\n                {nfInfo && nfProcessing != 1 && (\n                  <Item\n                    color=\"#fff\"\n                    bg=\"#e1087f\"\n                    padding=\"10px 15px\"\n                    margin=\"15px 0px\"\n                  >\n                    <Span\n                      color=\"#fff\"\n                      textTransform=\"uppercase\"\n                      spacing=\"0.1em\"\n                      weight=\"400\"\n                      size=\"1em\"\n                    >\n                      {nfInfo}\n                    </Span>\n                  </Item>\n                )}\n\n                {nfType && (\n                  <Item\n                    margin=\"15px 0px 0px 0px\"\n                    flex=\"1\"\n                    self=\"stretch\"\n                    align=\"stretch\"\n                  >\n                    <Button\n                      bg=\"#e20880\"\n                      color=\"#fff\"\n                      flex=\"1\"\n                      radius=\"0px\"\n                      padding=\"20px 10px\"\n                      disabled={nfProcessing == 1 ? true : false}\n                    >\n                      {nfProcessing == 1 && (\n                        <Loader\n                          type=\"Oval\"\n                          color=\"#fff\"\n                          height={24}\n                          width={24}\n                        />\n                      )}\n                      {nfProcessing != 1 && (\n                        <Input\n                          cursor=\"hand\"\n                          textTransform=\"uppercase\"\n                          color=\"#fff\"\n                          weight=\"400\"\n                          size=\"0.8em\"\n                          spacing=\"0.2em\"\n                          type=\"submit\"\n                          value=\"Send Notification\"\n                        />\n                      )}\n                    </Button>\n                  </Item>\n                )}\n              </FormSubmision>\n            </Item>\n          </ModifiedContent>\n        </Section>\n      )}\n    </>\n  );\n}\n\n// css styles\nconst Toaster = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin: 0px 10px;\n`;\n\nconst ToasterMsg = styled.div`\n  margin: 0px 10px;\n`;\n\nconst DropdownStyledParent = styled.div`\n  .is-open {\n    margin-bottom: 130px;\n  }\n`;\n\nconst MultiRecipientsContainer = styled.div`\n  width: 100%;\n  padding: 0px 20px;\n  padding-top: 10px;\n  box-sizing: border-box;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 7px 15px;\n\n  span {\n    color: white;\n    background: #e20880;\n    padding: 6px 10px;\n    border-radius: 5px;\n\n    i {\n      cursor: pointer;\n      margin-left: 25px;\n    }\n  }\n`;\n\nconst ModifiedContent = styled(Content)`\n  padding-top: 20px;\n  font-weight: 400;\n`;\n\nconst DropdownHeader = styled.div`\n  color: black;\n  padding: 10px;\n  letter-spacing: 3px;\n  font-size: 14px;\n`;\n\nconst DropdownStyled = styled(Dropdown)`\n  .Dropdown-control {\n    background-color: #000;\n    color: #fff;\n    padding: 12px 52px 12px 10px;\n    border: 1px solid #000;\n    border-radius: 4px;\n  }\n\n  .Dropdown-placeholder {\n    text-transform: uppercase;\n    font-weight: 400;\n    letter-spacing: 0.2em;\n    font-size: 0.8em;\n  }\n\n  .Dropdown-arrow {\n    top: 18px;\n    bottom: 0;\n    border-color: #fff transparent transparent;\n  }\n\n  .Dropdown-menu {\n    border: 1px solid #000;\n    box-shadow: none;\n    background-color: #000;\n    border-radius: 0px;\n    margin-top: -2px;\n    border-bottom-right-radius: 4px;\n    border-bottom-left-radius: 4px;\n  }\n\n  .Dropdown-option {\n    background-color: rgb(35 35 35);\n    color: #ffffff99;\n\n    text-transform: uppercase;\n    letter-spacing: 0.2em;\n    font-size: 0.7em;\n    padding: 15px 20px;\n  }\n\n  .Dropdown-option:hover {\n    background-color: #000000;\n    color: #fff;\n  }\n`;\n\nconst DropdownStyledWhite = styled(DropdownStyled)`\n  .Dropdown-control {\n    color: #000;\n    background: #fafafa;\n    border: 0px;\n    padding: 15px 52px 15px 10px;\n  }\n  .Dropdown-arrow {\n    border-color: #000 transparent transparent;\n    top: 30px;\n  }\n  .Dropdown-menu {\n    border: 0px;\n    background-color: #fafafa;\n  }\n  .Dropdown-option {\n    background-color: #fafafa;\n    color: black;\n    transition: 300ms;\n  }\n  .Dropdown-option:hover {\n    background-color: #e7e6e6;\n  }\n  .Dropdown-option.is-selected {\n    background-color: #f1efef;\n  }\n`;\n\nconst DropdownStyledParentWhite = styled(DropdownStyledParent)`\n  margin-bottom: 20px;\n  border: 1px solid rgba(169, 169, 169, 0.5);\n`;\n\nconst CustomDropdownItem = styled.div`\n  display: flex;\n  align-items: center;\n  img {\n    height: 30px;\n    width: 30px;\n    border-radius: 50%;\n    margin-right: 10px;\n  }\n  div {\n    color: black;\n    font-size: 16px;\n    letter-spacing: 2px;\n  }\n`;\n\n// Export Default\nexport default SendNotifications;\n","import React, {useRef, useState} from 'react';\nimport { useClick, useClickAway } from 'react-use';\nimport styled from 'styled-components';\nimport { useWeb3React } from '@web3-react/core';\nimport { addresses, abis } from \"@project/contracts\";\nimport Loader from 'react-loader-spinner';\n\nimport {Item, H2, H3, Span, Button, Input} from 'components/SharedStyling';\n\nconst ethers = require('ethers');\n\n\nexport default function AddDelegateModal({\n    onClose,onSuccess, addDelegate\n}) {\n\n    const modalRef = useRef(null);\n    const [mainAdress, setMainAddress] = useState('');\n    const [loading, setLoading] = useState('');\n\n    // Form signer and contract connection\n    useClickAway(modalRef, onClose);\n\n    const addDelegateFunction = () => {\n        setLoading('loading')\n        addDelegate(mainAdress)\n        .then(async (tx) => {\n            console.log(tx);\n            setLoading(\"Transaction Sent!\");\n\n            setTimeout(() => {\n                onSuccess();\n                onClose();\n            }, 2000);\n\n        })\n        .catch((err) => {\n            console.log({\n                err\n            })\n            setLoading('There was an error');\n            setTimeout(() => {\n                setLoading('')\n            }, 2000)\n        })\n    };\n    \n\n    return (\n        <Overlay>\n            <AliasModal ref={modalRef}>\n                <Item align=\"flex-start\">\n                    <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\n                    <Span weight=\"200\">Add </Span><Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Delegate</Span>\n                    </H2>\n                    <H3>Add an account who can send notifications on your behalf.</H3>\n                </Item>\n                <Item align=\"flex-start\">\n                    <CustomInput\n                        required\n                        placeholder=\"Enter the ethereum address\"\n                        radius=\"4px\"\n                        padding=\"12px\"\n                        border=\"1px solid #674c9f\"\n                        bg=\"#fff\"\n                        value={mainAdress}\n                        onChange={(e) => {setMainAddress(e.target.value)}}\n                    />\n                </Item>\n                <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\n                    <Button\n                        bg='#e20880'\n                        color='#fff'\n                        flex=\"1\"\n                        radius=\"0px\"\n                        padding=\"20px 10px\"\n                        disabled={mainAdress.length !== 42}\n                        onClick={addDelegateFunction}\n                    >\n                        { loading && <Loader\n                            type=\"Oval\"\n                            color=\"#FFF\"\n                            height={16}\n                            width={16}\n                            />\n                        }\n                        <StyledInput\n                            cursor=\"hand\"\n                            textTransform=\"uppercase\"\n                            color=\"#fff\" weight=\"400\"\n                            size=\"0.8em\" spacing=\"0.2em\"\n                            value={loading ? loading : \"Add Delegate\"}\n                        />\n                    </Button>\n                </Item>\n            </AliasModal>\n        </Overlay>\n    )\n}\n\nconst StyledInput = styled(Input)`\n    width: 100%;\n    text-align: center;\n    caret-color: transparent;\n`\n\nconst CustomInput = styled(Input)`\n    box-sizing: border-box;\n    width: 100%;\n    margin: 20px 0px;\n`;\n\nconst Overlay = styled.div`\n    top: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0,0,0,0.85);\n    height: 100%;\n    width: 100%;\n    z-index: 1000;\n    position: fixed;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow-y: scroll;\n`;\n\nconst AliasModal = styled.div`\n    padding: 20px 30px;\n    background: white;\n`;","import React, {useRef, useState} from 'react';\nimport { useClickAway } from 'react-use';\nimport styled from 'styled-components';\nimport Loader from 'react-loader-spinner';\n\nimport {Item, H2, H3, Span, Button, Input} from 'components/SharedStyling';\n\n\n\nexport default function RemoveDelegateModal({\n    onClose,onSuccess, removeDelegate\n}) {\n\n    const modalRef = useRef(null);\n    const [mainAdress, setMainAddress] = useState('');\n    const [loading, setLoading] = useState('');\n\n    // Form signer and contract connection\n    useClickAway(modalRef, onClose);\n\n    const addDelegateFunction = () => {\n        setLoading('loading')\n        removeDelegate(mainAdress)\n        .then(async (tx) => {\n            console.log(tx);\n            setLoading(\"Transaction Sent!\");\n\n            setTimeout(() => {\n                onSuccess();\n                onClose();\n            }, 2000);\n\n        })\n        .catch((err) => {\n            console.log({\n                err\n            })\n            setLoading('There was an error');\n            setTimeout(() => {\n                setLoading('')\n            }, 2000)\n        })\n    };\n    \n\n    return (\n        <Overlay>\n            <AliasModal ref={modalRef}>\n                <Item align=\"flex-start\">\n                    <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\n                    <Span weight=\"200\">Remove </Span><Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">Delegate</Span>\n                    </H2>\n                    <H3>Remove an account who can send notifications on your behalf.</H3>\n                </Item>\n                <Item align=\"flex-start\">\n                    <CustomInput\n                        required\n                        placeholder=\"Enter the ethereum address\"\n                        radius=\"4px\"\n                        padding=\"12px\"\n                        border=\"1px solid #674c9f\"\n                        bg=\"#fff\"\n                        value={mainAdress}\n                        onChange={(e) => {setMainAddress(e.target.value)}}\n                    />\n                </Item>\n                <Item margin=\"15px 0px 0px 0px\" flex=\"1\" self=\"stretch\" align=\"stretch\">\n                    <Button\n                        bg='#e20880'\n                        color='#fff'\n                        flex=\"1\"\n                        radius=\"0px\"\n                        padding=\"20px 10px\"\n                        disabled={mainAdress.length !== 42}\n                        onClick={addDelegateFunction}\n                    >\n                        { loading && <Loader\n                            type=\"Oval\"\n                            color=\"#FFF\"\n                            height={16}\n                            width={16}\n                            />\n                        }\n                        <StyledInput\n                            cursor=\"hand\"\n                            textTransform=\"uppercase\"\n                            color=\"#fff\" weight=\"400\"\n                            size=\"0.8em\" spacing=\"0.2em\"\n                            value={loading ? loading : \"Remove Delegate\"}\n                        />\n                    </Button>\n                </Item>\n            </AliasModal>\n        </Overlay>\n    )\n}\n\nconst StyledInput = styled(Input)`\n    width: 100%;\n    text-align: center;\n    caret-color: transparent;\n`\n\nconst CustomInput = styled(Input)`\n    box-sizing: border-box;\n    width: 100%;\n    margin: 20px 0px;\n`;\n\nconst Overlay = styled.div`\n    top: 0;\n    left: 0;\n    right: 0;\n    background: rgba(0,0,0,0.85);\n    height: 100%;\n    width: 100%;\n    z-index: 1000;\n    position: fixed;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow-y: scroll;\n`;\n\nconst AliasModal = styled.div`\n    padding: 20px 30px;\n    background: white;\n`;","import React, { useRef, useState } from \"react\";\nimport Slider from \"@material-ui/core/Slider\";\nimport styled from \"styled-components\";\nimport Loader from \"react-loader-spinner\";\nimport { useClickAway } from \"react-use\";\nimport {\n  Section,\n  Content,\n  Item,\n  H3,\n  Span,\n  Button,\n} from \"components/SharedStyling\";\n\nconst MIN_STAKE_FEES = 50;\n\nexport default function ActivateChannelModal({\n  activateChannel,\n  loading,\n  setChannelStakeFees,\n  channelStakeFees,\n  onClose,\n}) {\n  const popupRef = React.useRef(null);\n  useClickAway(popupRef, onClose); //close the popoup when we click away\n  return (\n    <PopupOverlay>\n      <PopupSlider ref={popupRef}>\n        <Section>\n          <Content padding=\"50px 0px 0px 0px\">\n            <Item align=\"flex-start\" margin=\"0px 20px\">\n              <H3 color=\"#e20880\">Set your staking fees in DAI</H3>\n            </Item>\n\n            <Item\n              margin=\"-10px 20px 20px 20px\"\n              padding=\"20px 20px 10px 20px\"\n              bg=\"#f1f1f1\"\n            >\n              <Slider\n                defaultValue={MIN_STAKE_FEES}\n                onChangeCommitted={(_, value) =>\n                  setChannelStakeFees(Number(value))\n                }\n                aria-labelledby=\"discrete-slider\"\n                valueLabelDisplay=\"auto\"\n                step={MIN_STAKE_FEES}\n                marks\n                min={MIN_STAKE_FEES}\n                max={25000}\n              />\n              <Span\n                weight=\"400\"\n                size=\"1.0em\"\n                textTransform=\"uppercase\"\n                spacing=\"0.2em\"\n              >\n                Amount Staked: {channelStakeFees} DAI\n              </Span>\n            </Item>\n\n            <Item self=\"stretch\" align=\"stretch\" margin=\"20px 0px 0px 0px\">\n              <Button\n                bg=\"#e20880\"\n                color=\"#fff\"\n                flex=\"1\"\n                radius=\"0px\"\n                padding=\"20px 10px\"\n                onClick={activateChannel}\n              >\n                {loading ? (\n                  <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\n                ) : (\n                  <Span\n                    color=\"#fff\"\n                    weight=\"400\"\n                    textTransform=\"uppercase\"\n                    spacing=\"0.1em\"\n                  >\n                    Reactivate Channel\n                  </Span>\n                )}\n              </Button>\n            </Item>\n          </Content>\n        </Section>\n      </PopupSlider>\n    </PopupOverlay>\n  );\n}\n\nconst PopupOverlay = styled.div`\n  background: rgba(0, 0, 0, 0.5);\n  height: 100vh;\n  width: 100vw;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst PopupSlider = styled.div`\n  height: 200px;\n  width: 70vw;\n  background: white;\n`;\n","/**\n * This file helps us to maintain the state of the logged in user user(if they have an account)\n * as well as the privilidges the logged in user has\n */\nimport { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n    channelDetails: null,\n    canVerify: false,\n    delegatees: []\n};\n\nexport const contractSlice = createSlice({\n    name: \"admin\",\n    initialState,\n    reducers: {\n        setUserChannelDetails: (state, action) => {\n            state.channelDetails = action.payload;\n        },\n        setCanVerify: (state, action) => {\n            state.canVerify = action.payload;\n        },\n        setDelegatees: (state, action) => {\n            state.delegatees = action.payload;\n        }\n    }\n});\n\nexport const {\n    setUserChannelDetails,\n    setCanVerify,\n    setDelegatees\n} = contractSlice.actions;\n\nexport default contractSlice.reducer;","import React from \"react\";\nimport { Section, Content, Item } from \"components/SharedStyling\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport styled, { css } from \"styled-components\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { toast as toaster } from \"react-toastify\";\nimport { addresses, abis } from \"@project/contracts\";\nimport { postReq } from \"api\";\n\nimport { ALLOWED_CORE_NETWORK } from \"pages/Home\";\nimport AddDelegateModal from \"./AddDelegateModal\";\nimport RemoveDelegateModal from \"./RemoveDelegateModal\";\nimport ActivateChannelModal from \"./ActivateChannelModal\";\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\nimport { setUserChannelDetails } from \"redux/slices/adminSlice\";\n\nimport \"react-dropdown/style.css\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\n\nimport Loader from \"react-loader-spinner\";\nconst ethers = require(\"ethers\");\n\nconst MIN_STAKE_FEES = 50;\n\n// Create Header\nfunction ChannelSettings() {\n  const dispatch = useDispatch();\n  const { account, library, chainId } = useWeb3React();\n  const { epnsWriteProvider, epnsCommWriteProvider } = useSelector(\n    (state: any) => state.contracts\n  );\n  const { channelDetails } = useSelector((state: any) => state.admin);\n  const {\n    CHANNNEL_DEACTIVATED_STATE,\n    CHANNEL_BLOCKED_STATE,\n    CHANNEL_ACTIVE_STATE,\n  } = useSelector((state: any) => state.channels);\n\n  const { channelState } = channelDetails;\n  const onCoreNetwork = ALLOWED_CORE_NETWORK === chainId;\n\n  const [loading, setLoading] = React.useState(false);\n  const [\n    showActivateChannelPopup,\n    setShowActivateChannelPopup,\n  ] = React.useState(false);\n  const [channelStakeFees, setChannelStakeFees] = React.useState(\n    MIN_STAKE_FEES\n  );\n  const [poolContrib, setPoolContrib] = React.useState(0);\n  const [addDelegateLoading, setAddDelegateLoading] = React.useState(false);\n  const [addModalOpen, setAddModalOpen] = React.useState(false);\n  const [removeDelegateLoading, setRemoveDelegateLoading] = React.useState(\n    false\n  );\n  const [removeModalOpen, setRemoveModalOpen] = React.useState(false);\n\n  // toaster customize\n  const LoaderToast = ({ msg, color }) => (\n    <Toaster>\n      <Loader type=\"Oval\" color={color} height={30} width={30} />\n      <ToasterMsg>{msg}</ToasterMsg>\n    </Toaster>\n  );\n\n  // Toastify\n  let notificationToast = () =>\n    toaster.dark(<LoaderToast msg=\"Preparing Notification\" color=\"#fff\" />, {\n      position: \"bottom-right\",\n      autoClose: false,\n      hideProgressBar: true,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    });\n\n  const isChannelDeactivated = channelState === CHANNNEL_DEACTIVATED_STATE;\n  const isChannelBlocked = channelState === CHANNEL_BLOCKED_STATE;\n  const channelInactive = isChannelBlocked || isChannelDeactivated;\n\n  React.useEffect(() => {\n    // To set channel info from a channel details\n    // setChannelState(channelDetails.channelState);\n    setPoolContrib(\n      +EPNSCoreHelper.formatBigNumberToMetric(\n        channelDetails.poolContribution,\n        true\n      )\n    );\n  }, [account]);\n\n  const toggleChannelActivationState = () => {\n    if (isChannelBlocked) return;\n    if (isChannelDeactivated) {\n      setShowActivateChannelPopup(true);\n    } else {\n      deactivateChannel();\n    }\n  };\n\n  /**\n   * Function to activate a channel that has been deactivated\n   */\n  const activateChannel = async () => {\n    // First Approve DAI\n    setLoading(true);\n    var signer = library.getSigner(account);\n    let daiContract = new ethers.Contract(addresses.dai, abis.erc20, signer);\n    const fees = ethers.utils.parseUnits(channelStakeFees.toString(), 18);\n    var sendTransactionPromise = daiContract.approve(addresses.epnscore, fees);\n    const tx = await sendTransactionPromise;\n\n    console.log(tx);\n    console.log(\"waiting for tx to finish\");\n\n    await library.waitForTransaction(tx.hash);\n    await epnsWriteProvider\n      .reactivateChannel(fees)\n      .then(async (tx: any) => {\n        console.log(tx);\n        console.log(\"Transaction Sent!\");\n\n        toaster.update(notificationToast(), {\n          render: \"Reactivating Channel\",\n          type: toaster.TYPE.INFO,\n          autoClose: 5000,\n        });\n\n        await tx.wait(1);\n        toaster.update(notificationToast(), {\n          render: \"Channel Reactivated\",\n          type: toaster.TYPE.INFO,\n          autoClose: 5000,\n        });\n        dispatch(\n          setUserChannelDetails({\n            ...channelDetails,\n            channelState: CHANNEL_ACTIVE_STATE,\n          })\n        );\n      })\n      .catch((err: any) => {\n        console.log(\"!!!Error reactivateChannel() --> %o\", err);\n        toaster.update(notificationToast(), {\n          render: \"Transacion Failed: \" + err.error?.message || err.message,\n          type: toaster.TYPE.ERROR,\n          autoClose: 5000,\n        });\n      })\n      .finally(() => {\n        setLoading(false);\n        setShowActivateChannelPopup(false);\n      });\n  };\n\n  /**\n   * Function to deactivate a channel that has been deactivated\n   */\n  const deactivateChannel = async () => {\n    setLoading(true);\n    if (!poolContrib) return;\n\n    const amountToBeConverted = parseInt(\"\" + poolContrib) - 10;\n    console.log(\"Amount To be converted==>\", amountToBeConverted);\n\n    const { data: response } = await postReq(\"/channels/get_dai_to_push\", {\n      value: amountToBeConverted,\n    });\n\n    const pushValue = response.response.data.quote.PUSH.price;\n    const amountsOut = pushValue * Math.pow(10, 18);\n\n    await epnsWriteProvider\n      // .deactivateChannel(amountsOut.toString().replace(/0+$/, \"\")) //use this to remove trailing zeros 1232323200000000 -> 12323232\n      .deactivateChannel(Math.floor(pushValue)) \n      .then(async (tx: any) => {\n        console.log(tx);\n        console.log(\"Transaction Sent!\");\n\n        toaster.update(notificationToast(), {\n          render: \"Transaction sending\",\n          type: toaster.TYPE.INFO,\n          autoClose: 5000,\n        });\n\n        await tx.wait(1);\n        console.log(\"Transaction Mined!\");\n        dispatch(\n          setUserChannelDetails({\n            ...channelDetails,\n            channelState: CHANNNEL_DEACTIVATED_STATE,\n          })\n        );\n      })\n      .catch((err: any) => {\n        console.log(\"!!!Error deactivateChannel() --> %o\", err);\n        console.log({\n          err,\n        });\n        toaster.update(notificationToast(), {\n          render: \"Transacion Failed: \" + err.error?.message || err,\n          type: toaster.TYPE.ERROR,\n          autoClose: 5000,\n        });\n      })\n      .finally(() => {\n        // post op\n        setLoading(false);\n      });\n  };\n\n  const addDelegate = async (walletAddress: string) => {\n    setAddDelegateLoading(true);\n    return epnsCommWriteProvider.addDelegate(walletAddress).finally(() => {\n      setAddDelegateLoading(false);\n    });\n  };\n\n  const removeDelegate = (walletAddress: string) => {\n    setRemoveDelegateLoading(true);\n    return epnsCommWriteProvider.removeDelegate(walletAddress).finally(() => {\n      setRemoveDelegateLoading(false);\n    });\n  };\n\n  if (!onCoreNetwork) {\n    //temporarily deactivate the deactivate button if not on core network\n    return <></>;\n  }\n\n  return (\n    <div>\n      <DropdownWrapper>\n        <DeactivateButton\n          isChannelDeactivated={isChannelDeactivated}\n          onClick={toggleChannelActivationState}\n        >\n          <ActionTitle>\n            {loading ? (\n              \"Loading ...\"\n            ) : isChannelBlocked ? (\n              \"Channel Blocked\"\n            ) : isChannelDeactivated ? (\n              \"Activate Channel\"\n            ) : (\n              \"Deactivate Channel\"\n            )}\n          </ActionTitle>\n        </DeactivateButton>\n        <ActiveChannelWrapper>\n          <ChannelActionButton\n            disabled={channelInactive}\n            onClick={() => !channelInactive && setAddModalOpen(true)}\n          >\n            <ActionTitle>\n              {addDelegateLoading ? (\n                <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\n              ) : (\n                \"Add Delegate\"\n              )}\n            </ActionTitle>\n          </ChannelActionButton>\n\n          <ChannelActionButton\n            disabled={channelInactive}\n            onClick={() => !channelInactive && setRemoveModalOpen(true)}\n          >\n            <ActionTitle>\n              {removeDelegateLoading ? (\n                <Loader type=\"Oval\" color=\"#FFF\" height={16} width={16} />\n              ) : (\n                \"Remove Delegate\"\n              )}\n            </ActionTitle>\n          </ChannelActionButton>\n        </ActiveChannelWrapper>\n      </DropdownWrapper>\n      {/* modal to display the activate channel popup */}\n      {showActivateChannelPopup && (\n        <ActivateChannelModal\n          onClose={() => {\n            if (showActivateChannelPopup) {\n              setShowActivateChannelPopup(false);\n            }\n          }}\n          activateChannel={activateChannel}\n          loading={loading}\n          setChannelStakeFees={setChannelStakeFees}\n          channelStakeFees={channelStakeFees}\n        />\n      )}\n      {/* modal to add a delegate */}\n      {addModalOpen && (\n        <AddDelegateModal\n          onClose={() => setAddModalOpen(false)}\n          onSuccess={() => {\n            toaster.update(notificationToast(), {\n              render: \"Delegate Added\",\n              type: toaster.TYPE.INFO,\n              autoClose: 5000,\n            });\n          }}\n          addDelegate={addDelegate}\n        />\n      )}\n      {/* modal to remove a delegate */}\n      {removeModalOpen && (\n        <RemoveDelegateModal\n          onClose={() => {\n            setRemoveModalOpen(false);\n          }}\n          onSuccess={() => {\n            toaster.update(notificationToast(), {\n              render: \"Delegate Removed\",\n              type: toaster.TYPE.INFO,\n              autoClose: 5000,\n            });\n          }}\n          removeDelegate={removeDelegate}\n        />\n      )}\n    </div>\n  );\n}\n\n// css styles\nconst DropdownWrapper = styled.div`\n  position: absolute;\n  right: 20px;\n  display: flex;\n  flex-direction: column-reverse;\n  width: 220px;\n  height: 230px;\n  padding: 20px;\n  padding-top: 30px;\n\n  background: #ffffff;\n  border: 1px solid #a9a9a9;\n  box-sizing: border-box;\n  box-shadow: 0px 4px 30px rgba(0, 0, 0, 0.1);\n  border-radius: 10px;\n  justify-content: space-between;\n`;\n\nconst ActiveChannelWrapper = styled.div`\n  flex-direction: column;\n  gap: 20px;\n  display: ${(props) => (props.inactive ? \"none\" : \"flex\")};\n`;\n\nconst Toaster = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin: 0px 10px;\n`;\n\nconst ActionTitle = styled.span`\n  ${(props: any) =>\n    props.hideit &&\n    css`\n      visibility: hidden;\n    `};\n`;\n\nconst ToasterMsg = styled.div`\n  margin: 0px 10px;\n`;\n\nconst DeactivateButton = styled.div`\n  text-decoration: underline;\n  color: ${(props) => (props.isChannelDeactivated ? \"#674C9F\" : \"#e20880\")};\n  text-align: center;\n  font-size: 16px;\n  line-height: 20px;\n  cursor: pointer;\n`;\n\nconst ChannelActionButton = styled.button`\n  border: 0;\n  outline: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 8px 15px;\n  color: #fff;\n  border-radius: 5px;\n  font-size: 14px;\n  font-weight: 400;\n  position: relative;\n  background-color: #674c9f;\n  &:hover {\n    opacity: ${(props) => (props.disabled ? 0.5 : 0.9)};\n    cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\n    pointer: hand;\n  }\n  &:active {\n    opacity: ${(props) => (props.disabled ? 0.5 : 0.75)};\n    cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\n    pointer: hand;\n  }\n  opacity: ${(props) => (props.disabled ? 0.5 : 1)};\n`;\n\nconst Settings = styled.img`\n  width: 40px;\n  height: 40px;\n  margin-left: auto;\n  margin-right: 30px;\n`;\n\n// Export Default\nexport default ChannelSettings;\n","import React from \"react\";\nimport { useClickAway } from \"react-use\";\nimport styled from \"styled-components\";\nimport ChannelSettingsDropdown from \"./ChannelSettingsDropdown\";\n\nexport default function ChannelSettings() {\n  const [active, setActive] = React.useState(false);\n  const modalRef = React.useRef(null);\n  const toggleActive = () => {\n    setActive((a) => !a);\n  };\n\n  useClickAway(modalRef, () => active && setActive(false));\n\n  return (\n    <SettingsWrapper ref={modalRef}>\n      <Settings\n        active={active}\n        onClick={toggleActive}\n        src=\"/Settings.svg\"\n        alt=\"\"\n      ></Settings>\n      {active && <ChannelSettingsDropdown />}\n    </SettingsWrapper>\n  );\n}\n\nconst SettingsWrapper = styled.div`\n  position: absolute;\n  top: 30px;\n  right: 30px;\n`;\n\nconst Settings = styled.img`\n  width: 40px;\n  height: 40px;\n  margin-left: auto;\n  margin-right: 30px;\n  cursor: pointer;\n  transition: 400ms;\n  transform: ${(props) => (props.active ? \"rotateZ(35deg)\" : \"none\")};\n`;\n","import React from \"react\";\nimport moment from \"moment\";\nimport styled from \"styled-components\";\nimport { useSelector } from \"react-redux\";\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\nimport { useWeb3React } from \"@web3-react/core\";\nconst DATE_FORMAT = \"DD/MM/YYYY\";\nexport default function ChannelDetails() {\n  const { library } = useWeb3React();\n  const { channelDetails, canVerify } = useSelector((state) => state.admin);\n  const { CHANNEL_ACTIVE_STATE, CHANNNEL_DEACTIVATED_STATE } = useSelector(\n    (state) => state.channels\n  );\n  const [verifyingChannel, setVerifyingChannel] = React.useState([]);\n  const [creationDate, setCreationDate] = React.useState(\"\");\n  const { channelState } = channelDetails;\n  const channelIsActive = channelState === CHANNEL_ACTIVE_STATE;\n  const channelIsDeactivated = channelState === CHANNNEL_DEACTIVATED_STATE;\n\n  React.useEffect(() => {\n    if (!channelDetails || !canVerify) return;\n    (async function() {\n      let channelJson = await ChannelsDataStore.instance.getChannelJsonAsync(\n        channelDetails.verifiedBy\n      );\n      setVerifyingChannel(channelJson);\n    })();\n  }, [channelDetails, canVerify]);\n\n  React.useEffect(() => {\n    if (!channelDetails) return;\n    (async function() {\n      const bn = channelDetails.channelStartBlock.toString();\n      const block = await library.getBlock(+bn);\n      const date = moment(block.timestamp * 1000);//convert from millisecs\n      setCreationDate(date.format(DATE_FORMAT))\n    })();\n  }, [channelDetails]);\n\n  return (\n    <ChannelDetailsWrapper>\n      <SectionTop>\n        <ImageSection src={channelDetails.icon}></ImageSection>\n\n        <Details>\n          <ChannelName>\n            {channelDetails.name}\n            {canVerify && <VerifyImage src=\"/verify.png\"></VerifyImage>}\n          </ChannelName>\n          <ChanneStateText active={channelIsActive}>\n            {channelIsActive\n              ? \"ACTIVE\"\n              : channelIsDeactivated\n              ? \"DEACTIVATED\"\n              : \"BLOCKED\"}\n          </ChanneStateText>\n          <Subscribers>\n            <img src=\"/people.svg\"></img>\n            <SubscribersCount>\n              {channelDetails.subscribers.length}\n            </SubscribersCount>\n          </Subscribers>\n        </Details>\n      </SectionTop>\n\n      <SectionDes>{channelDetails.info}</SectionDes>\n\n      <SectionDate>\n        {canVerify && (\n          <Verified>\n            <span>verified by:</span>\n\n            <VerifyingIcon src={verifyingChannel.icon}></VerifyingIcon>\n            <VerifyingName>{verifyingChannel.name}</VerifyingName>\n          </Verified>\n        )}\n\n        <Date>\n          <span>created on:</span>\n          <span style={{ marginLeft: \"10px\" }}>{creationDate}</span>\n        </Date>\n      </SectionDate>\n\n      <hr />\n    </ChannelDetailsWrapper>\n  );\n}\n\nconst ChannelDetailsWrapper = styled.div`\n  padding: 30px;\n  padding-bottom: 0;\n`;\n\nconst SectionTop = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-bottom: 30px;\n`;\n\nconst ImageSection = styled.img`\n  width: 120px;\n  height: 120px;\n  border-radius: 50%;\n  margin-right: 20px;\n`;\nconst VerifyImage = styled.img`\n  width: 20px;\n  height: 25px;\n  margin-top: auto;\n  margin-bottom: auto;\n  margin-left: 8px;\n`;\n\nconst VerifyingIcon = styled.img`\n  height: 20px;\n  width: 20px;\n  border-radius: 50%;\n  margin-left: 6px;\n  margin-right: 5px;\n`;\n\nconst VerifyingName = styled.div``;\n\nconst Subscribers = styled.div`\n  height: fit-content;\n  display: flex;\n  align-items: center;\n`;\n\nconst ActiveIcon = styled.span`\n  width: 8px;\n  height: 8px;\n  background: #57c255;\n  border-radius: 50%;\n`;\n\nconst ChanneStateText = styled.span`\n  color: #57c255;\n  font-family: Source Sans Pro;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 18px;\n  line-height: 23px;\n  letter-spacing: 0.1em;\n  text-transform: uppercase;\n  color: ${(props) => (props.active ? \"#57c255\" : \"red\")};\n  margin-bottom: 8px;\n  display: flex;\n  align-items: center;\n\n  ${(props) =>\n    props.active &&\n    `\n        &::after {\n            width:8px;\n            height: 8px;\n            background: #57c255;\n            border-radius: 50%;\n            content: \"\";\n            display: inline-flex;\n            align-items: center;\n            margin-left: 6px;\n        }\n    `}\n`;\n\nconst SubscribersCount = styled.span`\n  margin-left: 5px;\n  padding-left: 8px;\n  padding-right: 8px;\n  height: 16px;\n  background: #35c5f3;\n  border-radius: 10px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 17px;\n  display: inline-block;\n  color: #ffffff;\n`;\n\nconst Details = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\nconst SectionLine = styled.div`\n  margin-left: 30px;\n  margin-right: 30px;\n`;\n\nconst Date = styled.div`\n  display: flex;\n  flex-direction: row;\n  width: 240px;\n  color: #674c9f;\n`;\n\nconst Verified = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  & > span {\n    color: #ec008c;\n    fontsize: 1em;\n    fontweight: bolder;\n  }\n`;\n\nconst ChannelName = styled.div`\n  display: flex;\n  flex-direction: row;\n\n  font-family: Source Sans Pro;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 30px;\n  line-height: 38px;\n  margin-right: 8px;\n  text-transform: capitalize;\n  color: #e20880;\n`;\n\nconst SectionDate = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 16px;\n  line-height: 25px;\n  letter-spacing: 0.1em;\n  text-transform: uppercase;\n  margin-bottom: 30px;\n`;\n\nconst SectionDes = styled.div`\n  font-family: Source Sans Pro;\n  font-style: normal;\n  font-weight: 300;\n  font-size: 24px;\n  line-height: 30px;\n  letter-spacing: 0.1em;\n  text-transform: uppercase;\n  color: #000000;\n  margin-bottom: 40px;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Section, Content } from \"components/SharedStyling\";\n\nimport SendNotifications from \"components/SendNotifications\";\nimport ChannelSettings from \"components/ChannelSettings\";\nimport ChannelDetails from \"components/ChannelDetails\";\nimport CreateChannel from \"components/CreateChannel\";\nimport { useSelector } from \"react-redux\";\n\n// CREATE CHANNEL OWNER DASHBOARD\nfunction ChannelOwnerDashboard() {\n  const { channelDetails, delegatees } = useSelector((state) => state.admin);\n  return (\n    <>\n      <Section>\n        <ModifiedContent>\n          {/* display the create channel page if there are no details */}\n          {!channelDetails ? <CreateChannel /> : \"\"}\n          {/* display the create channel page if there are no details */}\n          {/* display the channel settings */}\n          {channelDetails ? <ChannelSettings /> : \"\"}\n          {/* display the channel settings */}\n          {/* display the details about the profile of the channel */}\n          {channelDetails ? <ChannelDetails /> : \"\"}\n          {/* display the details about the profile of the channel */}\n          {/* display the notifications settings */}\n          {channelDetails || delegatees?.length ? <SendNotifications /> : \"\"}\n          {/* display the notifications settings */}\n        </ModifiedContent>\n      </Section>\n    </>\n  );\n}\n\n// css styles\nconst ModifiedContent = styled(Content)`\n  padding: 0;\n  position: relative;\n`;\n\n// Export Default\nexport default ChannelOwnerDashboard;\n","import React from \"react\";\n\nimport styled, { css } from 'styled-components';\nimport {Section, Content} from 'components/SharedStyling';\n\nimport CreateChannel from 'components/CreateChannel';\n\n// CREATE CHANNEL OWNER DASHBOARD\nfunction ChannelCreationDashboard() {\n  React.useEffect(() => {\n\n  });\n\n  // RRENDER\n  return (\n    <>\n      <Section>\n        <Content padding=\"0px\">\n          <CreateChannel />\n        </Content>\n      </Section>\n    </>\n  );\n}\n\n// css styles\n\n\n// Export Default\nexport default ChannelCreationDashboard;\n","import EPNSCoreHelper from 'helpers/EPNSCoreHelper';\nimport { ethers } from \"ethers\";\n\nimport { addresses, abis } from \"@project/contracts\";\n\n// STATIC SINGLETON\nexport const UserEvents = {\n    SUBSCRIBED: \"Subscribed\",\n    UNSUBSCRIBED: \"Unsubscribed\",\n    PUBLIC_KEY_BROADCASTED: \"PublicKeyBroadcasted\",\n    CREATED_CHANNEL: \"CreatedChannel\",\n    DEACTIVATE_CHANNEL: \"DeactivateChannel\",\n}\n\nexport default class UsersDataStore {\n    static instance = UsersDataStore.instance || new UsersDataStore();\n\n    state = {\n      usersCount: -1,\n      userMeta: null,\n      ownerMeta: null,\n\n      callbacks: [],\n\n      account: null,\n      epnsReadProvider: null,\n      epnsCommReadProvider: null\n    }\n\n    // init\n    init = (account, epnsReadProvider, epnsCommReadProvider) => {\n      // set account\n      this.state.account = account;\n\n      // First attach listeners then overwrite the old one if any\n      this.resetUsersListeners();\n      this.state.epnsReadProvider = epnsReadProvider;\n      this.state.epnsCommReadProvider = epnsCommReadProvider;\n      this.initUsersListenersAsync();\n\n      // next get store user count & user meta\n      this.getOwnerMetaAsync();\n      this.getUsersCountAsync();\n      this.getUserMetaAsync();\n    }\n\n    // RESET LISTENERS\n    resetUsersListeners = () => {\n      // only proceed if a read provider is attached\n      if (this.state.epnsReadProvider) {\n        this.state.epnsCommReadProvider.removeAllListeners(\"Subscribe\");\n        this.state.epnsCommReadProvider.removeAllListeners(\"Unsubscribe\");\n        this.state.epnsCommReadProvider.removeAllListeners(\"PublicKeyRegistered\");\n        this.state.epnsReadProvider.removeAllListeners(\"AddChannel\");\n        this.state.epnsReadProvider.removeAllListeners(\"DeactivateChannel\");\n      }\n\n      // reset user meta as well\n      this.state.userMeta = null;\n    }\n\n    // init LISTENERS\n    initUsersListenersAsync = async () => {\n      // Add Listeners\n      await this.listenForSubscribedAsync();\n      await this.listenForUnsubscribedAsync();\n\n      if (!this.state.userMeta || (this.state.userMeta && !this.state.userMeta.publicKeyRegistered)) {\n        await this.listenForPublicKeyBroadcastAsync();\n      }\n    }\n\n    // 1. Listen for Subscribe Async\n    listenForSubscribedAsync = async () => {\n      // TODO use the right contract comms\n      // const contract = this.state.epnsReadProvider;\n      // let filter = contract.filters.Subscribe(null, this.state.account);\n\n      // if (this.state.userMeta) {\n      //   this.state.userMeta.subscribedCount = this.state.userMeta.subscribedCount.add(1);\n      // }\n\n      // contract.on(filter, async (channel, user) => {\n      //   // then perform callbacks\n      //   if (this.state.callbacks[UserEvents.SUBSCRIBED]) {\n      //     for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.SUBSCRIBED])) {\n      //       if (callback) { callback(channel, user); }\n      //     }\n      //   }\n      // });\n    }\n\n    // 2. Listen for Unsubscribe Async\n    listenForUnsubscribedAsync = async () => {\n      // TODO Use the COMMUNICATOR CONTRACT\n      // const contract = this.state.epnsReadProvider;\n      // let filter = contract.filters.Unsubscribe(null, this.state.account);\n\n      // if (this.state.userMeta) {\n      //   this.state.userMeta.subscribedCount = this.state.userMeta.subscribedCount.sub(1);\n      // }\n\n      // contract.on(filter, async (channel, user) => {\n      //   // then perform callbacks\n      //   if (this.state.callbacks[UserEvents.UNSUBSCRIBED]) {\n      //     for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.UNSUBSCRIBED])) {\n      //       if (callback) { callback(channel, user); }\n      //     }\n      //   }\n      // });\n    }\n\n    // 3. Listen For Public Key Broadcast\n    listenForPublicKeyBroadcastAsync = async () => {\n        // TODO Use the COMMUNICATOR CONTRACT\n      // const contract = this.state.epnsReadProvider;\n      // let filter = contract.filters.PublicKeyRegistered(this.state.account, null);\n\n      // if (this.state.userMeta) {\n      //   this.state.userMeta.publicKeyRegistered = true;\n      // }\n\n      // contract.once(filter, async (channel, user) => {\n      //   // then perform callbacks\n      //   if (this.state.callbacks[UserEvents.UNSUBSCRIBED]) {\n      //     for (let [callbackID, callback] of Object.entries(this.state.callbacks[UserEvents.UNSUBSCRIBED])) {\n      //       if (callback) { callback(channel, user); }\n      //     }\n      //   }\n      // });\n    }\n\n    // FOR CALLBACKS\n    addCallbacks = (callbackType, callbackID, callback) => {\n      // first check if callback already exists\n      if (!this.state.callbacks[callbackType]) {\n        this.state.callbacks[callbackType] = {};\n      }\n\n      if (!this.state.callbacks[callbackType][callbackID]) {\n        this.state.callbacks[callbackType][callbackID] = callback;\n      }\n    }\n\n    removeCallbacks = (callbackType, callbackID) => {\n      // first check if callback already exists\n      if (this.state.callbacks[callbackType][callbackID]) {\n        this.state.callbacks[callbackType][callbackID] = null;\n      }\n    }\n\n    // GET OWNER META\n    getOwnerMetaAsync = async () => {\n      const enableLogs = 0;\n\n      return new Promise ((resolve, reject) => {\n        if (this.state.ownerMeta) {\n          if (enableLogs) console.log(\"getOwnerMetaAsync() [CACHED] --> %o\", this.state.ownerMeta);\n          resolve(this.state.ownerMeta);\n        }\n        else {\n          EPNSCoreHelper.getOwnerInfo(this.state.epnsReadProvider)\n            .then(response => {\n              this.state.ownerMeta = response;\n\n              if (enableLogs) console.log(\"getOwnerMetaAsync() --> %o\", response);\n              resolve(this.state.ownerMeta);\n            })\n            .catch(err => {\n              console.log(\"!!!Error, getOwnerMetaAsync() --> %o\", err);\n              reject(err);\n            });\n        }\n      });\n    }\n\n    // USERS COUNT\n    getUsersCountAsync = async () => {\n      return new Promise (async (resolve, reject) => {\n        if (this.state.channelsCount == -1) {\n          // Count not set, get and set it first\n          const count = EPNSCoreHelper.getTotalNumberOfUsers(this.state.epnsReadProvider)\n            .then(response => {\n              this.state.usersCount = response;\n              console.log(\"getUsersCountAsync() --> %o\", response);\n              resolve(this.state.usersCount)\n            })\n            .catch(err => { console.log(\"!!!Error, getUsersCountAsync() --> %o\", err); reject(err); });\n        }\n        else {\n          resolve(this.state.usersCount);\n        }\n      });\n    }\n\n    incrementUsersCountAsync = async (incrementCount) => {\n      return new Promise ((resolve, reject) => {\n        this.getUsersCountAsync()\n          .then(response => {\n            this.state.usersCount = response + incrementCount;\n            console.log(\"incrementChannelsCountAsync() --> %d\", this.state.usersCount);\n            resolve(this.state.usersCount);\n          })\n          .catch(err => { console.log(\"!!!Error, getUsersCountAsync() --> %o\", err); reject(err); });\n      });\n    }\n\n    // GET USER META\n    getUserMetaAsync = async () => {\n      const enableLogs = 0;\n\n      return new Promise ((resolve, reject) => {\n        if (this.state.userMeta) {\n          if (enableLogs) console.log(\"getUserMetaAsync() [CACHED] --> %o\", this.state.userMeta);\n          resolve(this.state.userMeta);\n        }\n        else {\n          EPNSCoreHelper.getUserInfo(this.state.account, this.state.epnsCommReadProvider)\n            .then(response => {\n              this.state.userMeta = response;\n\n              if (enableLogs) console.log(\"getUserMetaAsync() --> %o\", this.state.userMeta);\n              resolve(this.state.userMeta);\n            })\n            .catch(err => {\n              console.log(\"!!!Error, getUserMetaAsync() --> %o\", err);\n              reject(err);\n          });\n        }\n      });\n    }\n\n}\n","/**\n * This file helps us maintain a global state of all contracts to be used across the application\n * This is used to prevent duplication of logic and instantiating contracts multiple times\n * This is also used to prevent passing props everywhere and making the code ugly\n */\nimport { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  ZERO_ADDRESS: \"0x0000000000000000000000000000000000000000\",\n  epnsReadProvider: null, // the core contract reader\n  epnsWriteProvider: null, // the core contract with signer\n  epnsCommReadProvider: null, // the communicator contract reader\n  epnsCommWriteProvider: null, // the communicator write contract with signer\n  pushAdminAddress: null, // the address of the push admin\n};\n\nexport const contractSlice = createSlice({\n  name: \"contracts\",\n  initialState,\n  reducers: {\n    setCoreReadProvider: (state, action) => {\n      state.epnsReadProvider = action.payload;\n    },\n    setCoreWriteProvider: (state, action) => {\n      state.epnsWriteProvider = action.payload;\n    },\n    setCommunicatorReadProvider: (state, action) => {\n      state.epnsCommReadProvider = action.payload;\n    },\n    setCommunicatorWriteProvider: (state, action) => {\n      state.epnsCommWriteProvider = action.payload;\n    },\n    setPushAdmin: (state, action) => {\n      state.pushAdminAddress = action.payload;\n    },\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const {\n  setCoreReadProvider,\n  setCoreWriteProvider,\n  setCommunicatorReadProvider,\n  setCommunicatorWriteProvider,\n  setPushAdmin\n} = contractSlice.actions;\n\nexport default contractSlice.reducer;\n","import React from \"react\";\nimport ReactGA from \"react-ga\";\nimport { ethers } from \"ethers\";\nimport styled, { css } from \"styled-components\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Loader from \"react-loader-spinner\";\nimport hex2ascii from \"hex2ascii\";\nimport { addresses, abis, envConfig } from \"@project/contracts\";\nimport { useWeb3React } from \"@web3-react/core\";\n\nimport config from \"config\";\nimport EPNSCoreHelper from \"helpers/EPNSCoreHelper\";\nimport NotificationToast from \"components/NotificationToast\";\nimport AliasVerificationodal from \"components/AliasVerificationModal\";\nimport Info from \"segments/Info\";\nimport SpamBox from \"segments/spam\";\nimport Feedbox from \"segments/Feedbox\";\nimport ViewChannels from \"segments/ViewChannels\";\nimport ChannelOwnerDashboard from \"segments/ChannelOwnerDashboard\";\nimport ChannelCreationDashboard from \"segments/ChannelCreationDashboard\";\nimport ChannelsDataStore from \"singletons/ChannelsDataStore\";\nimport UsersDataStore from \"singletons/UsersDataStore\";\nimport { postReq } from \"api\";\nimport {\n  setCoreReadProvider,\n  setCoreWriteProvider,\n  setCommunicatorReadProvider,\n  setCommunicatorWriteProvider,\n  setPushAdmin,\n} from \"redux/slices/contractSlice\";\nimport {\n  setUserChannelDetails,\n  setCanVerify,\n  setDelegatees,\n} from \"redux/slices/adminSlice\";\nimport { addNewNotification, toggleToggler, resetState } from \"redux/slices/notificationSlice\";\n\nexport const ALLOWED_CORE_NETWORK = envConfig.coreContractChain; //chainId of network which we have deployed the core contract on\nconst CHANNEL_TAB = 1; //Default to 1 which is the channel tab\n\n// Create Header\nfunction Home() {\n  ReactGA.pageview(\"/home\");\n\n  const dispatch = useDispatch();\n  const { account, library, chainId } = useWeb3React();\n  const {\n    epnsReadProvider,\n    epnsWriteProvider,\n    epnsCommReadProvider,\n  } = useSelector((state) => state.contracts);\n\n  const onCoreNetwork = ALLOWED_CORE_NETWORK === chainId;\n  const INITIAL_OPEN_TAB = CHANNEL_TAB; //if they are not on a core network.redirect then to the notifications page\n\n  const [controlAt, setControlAt] = React.useState(0);\n  const [modalOpen, setModalOpen] = React.useState(false);\n  const [adminStatusLoaded, setAdminStatusLoaded] = React.useState(false);\n  const [aliasEthAccount, setAliasEthAccount] = React.useState(null);\n  const [aliasVerified, setAliasVerified] = React.useState(null); // null means error, false means unverified and true means verified\n  const [channelAdmin, setChannelAdmin] = React.useState(false);\n  const [channelJson, setChannelJson] = React.useState([]);\n\n  // toast related section\n  const [toast, showToast] = React.useState(null);\n  const clearToast = () => showToast(null);\n  const showNetworkToast = () => {\n    showToast({\n      notificationTitle: (\n        <span style={{ color: \"#e20880\" }}> Invalid Network </span>\n      ),\n      notificationBody:\n        \"Please connect to the Main network to access channels\",\n    });\n  };\n\n  //clear toast variable after it is shown\n  React.useEffect(() => {\n    if (toast) {\n      clearToast();\n    }\n  }, [toast]);\n  // toast related section\n\n  React.useEffect(() => {\n    dispatch(resetState());\n    setTimeout(() => dispatch(toggleToggler()), 300)\n  }, [account]);\n\n  /**\n   * Logic to get channel alias and alias verification status as well as create instances of core and comunicator contract\n   */\n  React.useEffect(() => {\n    (async function init() {\n      const coreProvider = onCoreNetwork\n        ? library\n        : ethers.getDefaultProvider(ALLOWED_CORE_NETWORK, {\n            etherscan: config.etherscanToken,\n          });\n      // if we are not on the core network then check for if this account is an alias for another channel\n      if (!onCoreNetwork) {\n        // get the eth address of the alias address, in order to properly render information about the channel\n        const aliasEth = await postReq(\"/channels/get_eth_address\", {\n          aliasAddress: account,\n          op: \"read\",\n        }).then(({ data }) => {\n          console.log({ data });\n          const ethAccount = data;\n          if (ethAccount) {\n            setAliasEthAccount(ethAccount.ethAddress);\n          }\n          return data;\n        });\n        if (aliasEth) {\n          // if an alias exists, check if its verified.\n          await postReq(\"/channels/get_alias_verification_status\", {\n            aliasAddress: account,\n            op: \"read\",\n          }).then(({ data }) => {\n            // if it returns undefined then we need to let them know to verify their channel\n            if (!data) {\n              setAliasVerified(false);\n              return;\n            }\n            const { status } = data;\n            setAliasVerified(status || null);\n            return data;\n          });\n        }\n      }\n      // if we are not on the core network then fetch if there is an alias address from the api\n      // inititalise the read contract for the core network\n      const coreContractInstance = new ethers.Contract(\n        addresses.epnscore,\n        abis.epnscore,\n        coreProvider\n      );\n      // initialise the read contract for the communicator function\n      const commAddress = onCoreNetwork\n        ? addresses.epnsEthComm\n        : addresses.epnsPolyComm;\n      const commContractInstance = new ethers.Contract(\n        commAddress,\n        abis.epnsComm,\n        library\n      );\n      dispatch(setCommunicatorReadProvider(commContractInstance));\n      dispatch(setCoreReadProvider(coreContractInstance));\n      // initialise the read contract for the communicator function\n      if (!!(library && account)) {\n        let signer = library.getSigner(account);\n        const coreSignerInstance = new ethers.Contract(\n          addresses.epnscore,\n          abis.epnscore,\n          signer\n        );\n        const communicatorSignerInstance = new ethers.Contract(\n          commAddress,\n          abis.epnsComm,\n          signer\n        );\n        dispatch(setCoreWriteProvider(coreSignerInstance));\n        dispatch(setCommunicatorWriteProvider(communicatorSignerInstance));\n      }\n    })();\n  }, [account, chainId]);\n\n  /**\n   * When we instantiate the contract instances, fetch basic information about the user\n   * Corresponding channel owned.\n   */\n  React.useEffect(() => {\n    if (!epnsReadProvider || !epnsCommReadProvider) return;\n    // Reset when account refreshes\n    setChannelAdmin(false);\n    dispatch(setUserChannelDetails(null));\n    setAdminStatusLoaded(false);\n    userClickedAt(INITIAL_OPEN_TAB);\n    setChannelJson([]);\n    // save push admin to global state\n    epnsReadProvider.pushChannelAdmin().then((response) => {\n      dispatch(setPushAdmin(response));\n    });\n\n    // EPNS Read Provider Set\n    if (epnsReadProvider != null && epnsCommReadProvider != null) {\n      // Instantiate Data Stores\n      UsersDataStore.instance.init(\n        account,\n        epnsReadProvider,\n        epnsCommReadProvider\n      );\n      ChannelsDataStore.instance.init(\n        account,\n        epnsReadProvider,\n        epnsCommReadProvider\n      );\n      checkUserForChannelOwnership();\n      fetchDelegators();\n    }\n  }, [epnsReadProvider, epnsCommReadProvider]);\n\n  // handle user action at control center\n  const userClickedAt = (controlIndex) => {\n    setControlAt(controlIndex);\n  };\n\n  // fetch all the channels who have delegated to this account\n  const fetchDelegators = () => {\n    postReq(\"/channels/delegatee/get_channels\", {\n      delegateAddress: account,\n      op: \"read\",\n    })\n      .then(async ({ data: delegators }) => {\n        // if there are actual delegators\n        // fetch basic information abouot the channels and store it to state\n        if (delegators && delegators.channelOwners) {\n          const channelInformationPromise = [\n            ...new Set([account, ...delegators.channelOwners])//make the accounts unique\n          ].map((channelAddress) =>\n            ChannelsDataStore.instance\n              .getChannelJsonAsync(channelAddress)\n              .then((res) => ({ ...res, address: channelAddress }))\n              .catch(() => false)\n          );\n          const channelInformation = await Promise.all(\n            channelInformationPromise\n          );\n          dispatch(setDelegatees(channelInformation.filter(Boolean)));\n          // fetch the json information about this delegatee channel and add to global state\n        } else {\n          dispatch(setDelegatees([]));\n        }\n      })\n      .catch(async (err) => {\n        console.log({ err });\n      });\n  };\n\n  // Check if a user is a channel or not\n  const checkUserForChannelOwnership = async () => {\n    // Check if account is admin or not and handle accordingly\n    const ownerAccount = !onCoreNetwork ? aliasEthAccount : account;\n    EPNSCoreHelper.getChannelJsonFromUserAddress(ownerAccount, epnsReadProvider)\n      .then(async (response) => {\n        // if channel admin, then get if the channel is verified or not, then also fetch more details about the channel\n        const verificationStatus = await epnsWriteProvider.getChannelVerfication(\n          ownerAccount\n        );\n        const channelJson = await epnsWriteProvider.channels(ownerAccount);\n        const channelSubscribers = await ChannelsDataStore.instance.getChannelSubscribers(\n          ownerAccount\n        );\n        dispatch(\n          setUserChannelDetails({\n            ...response,\n            ...channelJson,\n            subscribers: channelSubscribers,\n          })\n        );\n        dispatch(setCanVerify(Boolean(verificationStatus)));\n        setChannelJson(response);\n        setChannelAdmin(true);\n        setAdminStatusLoaded(true);\n      })\n      .catch((err) => {\n        console.log(\n          \"There was an error [checkUserForChannelOwnership]:\",\n          err.message\n        );\n        setChannelAdmin(false);\n        setAdminStatusLoaded(true);\n      })\n      .finally(() => {\n        setAdminStatusLoaded(true);\n      });\n  };\n\n  // Render\n  return (\n    <Container>\n      <Controls>\n        <ControlButton\n          index={0}\n          active={controlAt == 0 ? 1 : 0}\n          border=\"#e20880\"\n          onClick={() => {\n            userClickedAt(0);\n          }}\n        >\n          <ControlImage\n            src=\"./svg/feedbox.svg\"\n            active={controlAt == 0 ? 1 : 0}\n          />\n          <ControlText active={controlAt == 0 ? 1 : 0}>Inbox</ControlText>\n        </ControlButton>\n\n        <ControlButton\n          index={1}\n          active={controlAt == 1 ? 1 : 0}\n          border=\"#35c5f3\"\n          onClick={() => {\n            userClickedAt(1);\n          }}\n        >\n          <ControlImage\n            src=\"./svg/channel.svg\"\n            active={controlAt == 1 ? 1 : 0}\n          />\n          <ControlText active={controlAt == 1 ? 1 : 0}>Channels</ControlText>\n        </ControlButton>\n\n        <ControlButton\n          index={2}\n          active={controlAt == 2 ? 1 : 0}\n          border=\"#674c9f\"\n          disabled={!adminStatusLoaded}\n          onClick={() => {\n            if (adminStatusLoaded) {\n              // if youre not on kovan and you dont have a channel, you cannot create except on kovan, so throw error\n              if (!channelAdmin && !onCoreNetwork) {\n                return showNetworkToast();\n              }\n              if (channelAdmin && !aliasVerified && !onCoreNetwork) {\n                return setModalOpen(true);\n              }\n              userClickedAt(2);\n            }\n          }}\n        >\n          {!adminStatusLoaded && (\n            <Loader type=\"Oval\" color=\"#674c9f\" height={32} width={32} />\n          )}\n          {channelAdmin &&\n            adminStatusLoaded &&\n            (onCoreNetwork ? true : aliasVerified) && (\n              <ControlChannelContainer>\n                <ControlChannelImage\n                  src={`${channelJson.icon}`}\n                  active={controlAt == 2 ? 1 : 0}\n                />\n                <ControlChannelText active={controlAt == 2 ? 1 : 0}>\n                  {channelJson.name}\n                </ControlChannelText>\n              </ControlChannelContainer>\n            )}\n          {channelAdmin &&\n            adminStatusLoaded &&\n            aliasVerified === false &&\n            !onCoreNetwork && (\n              <ControlChannelContainer>\n                <ControlChannelImage\n                  src={`${channelJson.icon}`}\n                  active={controlAt == 2 ? 1 : 0}\n                />\n                <ControlChannelText active={controlAt == 2 ? 1 : 0}>\n                  Verify channel alias\n                </ControlChannelText>\n              </ControlChannelContainer>\n            )}\n          {channelAdmin &&\n            adminStatusLoaded &&\n            aliasVerified === null &&\n            !onCoreNetwork && (\n              <ControlChannelContainer>\n                <ControlChannelImage\n                  src={`${channelJson.icon}`}\n                  active={controlAt == 2 ? 1 : 0}\n                />\n                <ControlChannelText active={controlAt == 2 ? 1 : 0}>\n                  Contact the admin\n                </ControlChannelText>\n              </ControlChannelContainer>\n            )}\n          {!channelAdmin && adminStatusLoaded && (\n            <>\n              <ControlImage\n                src=\"./svg/channeladmin.svg\"\n                active={controlAt == 2 ? 1 : 0}\n              />\n              <ControlText active={controlAt == 2 ? 1 : 0}>\n                Create Your Channel\n              </ControlText>\n            </>\n          )}\n        </ControlButton>\n\n        <ControlButton\n          index={3}\n          active={controlAt == 3 ? 1 : 0}\n          border=\"#e20880\"\n          onClick={() => {\n            userClickedAt(3);\n          }}\n        >\n          <ControlImage src=\"./svg/share.svg\" active={controlAt == 3 ? 1 : 0} />\n          <ControlText active={controlAt == 3 ? 1 : 0}>\n            Receive Notifs\n          </ControlText>\n        </ControlButton>\n      </Controls>\n      <Interface>\n        {controlAt == 0 && <Feedbox />}\n        {controlAt == 1 && <ViewChannels />}\n        {controlAt == 2 && adminStatusLoaded && <ChannelOwnerDashboard />}\n        {controlAt == 3 && <Info />}\n        {toast && (\n          <NotificationToast notification={toast} clearToast={clearToast} />\n        )}\n        {modalOpen && (\n          <AliasVerificationodal\n            onClose={() => setModalOpen(false)}\n            onSuccess={() => setAliasVerified(true)}\n            verificationStatus={aliasVerified}\n          />\n        )}\n      </Interface>\n    </Container>\n  );\n}\n\n// css style\nconst Container = styled.div`\n  flex: 1;\n  display: block;\n  flex-direction: column;\n  min-height: calc(100vh - 100px);\n`;\n\nconst Controls = styled.div`\n  flex: 0;\n  display: flex;\n  flex-direction: row;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n`;\n\nconst ControlButton = styled.div`\n  flex: 1 1 21%;\n  height: 120px;\n  min-width: 200px;\n  background: #fff;\n\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\n  border-radius: 15px;\n  border: 1px solid rgb(225, 225, 225);\n\n  border-bottom: 10px solid rgb(180, 180, 180);\n  margin: 20px;\n  overflow: hidden;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  border-bottom: 10px solid\n    ${(props) => (props.active ? props.border : \"rgb(180,180,180)\")};\n\n  &:hover {\n    opacity: 0.9;\n    cursor: pointer;\n  }\n  &:active {\n    opacity: 0.75;\n    cursor: pointer;\n  }\n`;\n\nconst ControlImage = styled.img`\n  height: 30%;\n  margin-right: 15px;\n  filter: ${(props) => (props.active ? \"brightness(1)\" : \"brightness(0)\")};\n  opacity: ${(props) => (props.active ? \"1\" : \"0.25\")};\n\n  transition: transform 0.2s ease-out;\n  ${(props) =>\n    props.active &&\n    css`\n      transform: scale(3.5) translate(-20px, 0px);\n      opacity: 0.4;\n    `};\n`;\n\nconst ControlText = styled.label`\n  font-size: 16px;\n  font-weight: 200;\n  opacity: ${(props) => (props.active ? \"1\" : \"0.75\")};\n\n  transition: transform 0.2s ease-out;\n  ${(props) =>\n    props.active &&\n    css`\n      transform: scale(1.3) translate(-10px, 0px);\n    `};\n`;\n\nconst ControlChannelContainer = styled.div`\n  margin: 0px 20px;\n  flex-direction: column;\n  align-items: center;\n  display: flex;\n`;\n\nconst ControlChannelImage = styled.img`\n  width: 20%;\n  margin-bottom: 10px;\n  transition: transform 0.2s ease-out;\n  ${(props) =>\n    props.active &&\n    css`\n      transform: scale(3.5) translate(-40px, 5px);\n      opacity: 0.2;\n      z-index: 1;\n    `};\n`;\n\nconst ControlChannelText = styled.label`\n  font-size: 16px;\n  font-weight: 300;\n  opacity: ${(props) => (props.active ? \"1\" : \"0.75\")};\n  transition: transform 0.2s ease-out;\n  background: -webkit-linear-gradient(#db268a, #34c6f3);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  z-index: 2;\n  ${(props) =>\n    props.active &&\n    css`\n      transform: scale(1.1) translate(0px, -20px);\n    `};\n`;\n\nconst Interface = styled.div`\n  flex: 1;\n  display: flex;\n\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\n  border-radius: 20px;\n  border: 1px solid rgb(225, 225, 225);\n\n  margin: 15px;\n  overflow: hidden;\n`;\n\n// Export Default\nexport default Home;\n","// Usage:\n//   create component file (e.g. BlockiesIdenticon.js) using uncommented code below\n//   npm install blockies-identicon\n//   in the file you want to use the component (e.g. BlockiesIdenticon.js):\n//   import Blockies from \"blockies/react-component\";\n//   <Blockies opts={{seed: \"foo\", color: \"#dfe\", bgcolor: \"#a71\", size: 15, scale: 3, spotcolor: \"#000\"}}/>\n\nimport React from 'react';\nimport blockies from \"./blockies\";\n\nexport default class BlockiesIdenticon extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  getOpts () {\n    return {\n      seed: this.props.opts.seed || \"foo\",\n      color: this.props.opts.color || \"#dfe\",\n      bgcolor: this.props.opts.bgcolor || \"#a71\",\n      size: this.props.opts.size || 15,\n      scale: this.props.opts.scale || 3,\n      spotcolor: this.props.opts.spotcolor || \"#000\"\n    };\n  }\n  componentDidMount() {\n    this.draw();\n  }\n  componentDidUpdate(prevProps) {\n    // Check for prop change\n    if (this.props.seed !== prevProps.seed) {\n      this.draw();\n    }\n  }\n  draw() {\n    blockies.render({\n      seed: this.props.opts.seed,\n      size: this.props.opts.size,\n      scale: this.props.opts.scale\n    }, this.canvas);\n  }\n  render() {\n    return React.createElement(\"canvas\", {ref: canvas => this.canvas = canvas});\n  }\n}\n","import React from \"react\";\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\n\nimport styled, { css } from 'styled-components';\n\nimport Loader from 'react-loader-spinner'\nimport Blockies from \"components/BlockiesIdenticon\";\n//   <Blockies opts={{seed: \"foo\", color: \"#dfe\", bgcolor: \"#a71\", size: 15, scale: 3, spotcolor: \"#000\"}}/>\n\n// Create Header\nfunction Profile() {\n  const { active, error, account, library, chainId } = useWeb3React();\n\n  const [address, setAddress] = React.useState('');\n  const [ens, setENS] = React.useState('');\n  const [ensFetched, setENSFetched] = React.useState(false);\n\n  React.useEffect(() => {\n    if (account && account != '') {\n      // Check if the address is the same\n      if (address !== account) {\n        setENS('');\n        setENSFetched(false);\n\n        // get ens\n        library\n          .lookupAddress(account).then(function(name) {\n            setENS(name);\n            setENSFetched(true);\n            setAddress(account);\n          })\n          .catch(() => {\n            setENSFetched(true);\n            setAddress(account);\n          })\n      }\n\n    }\n  }, [account]);\n\n  // to create blockies\n\n  return (\n    <>\n    {account && account !== '' && !error &&\n      <Container>\n        <Blocky>\n          <BlockyInner>\n             <Blockies seed={account.toLowerCase()} opts={{seed: account.toLowerCase(), size: 7, scale: 7}}/>\n          </BlockyInner>\n        </Blocky>\n        <Wallet>\n        {!ensFetched &&\n          <Loader\n      \t     type=\"Oval\"\n      \t     color=\"#FFF\"\n      \t     height={16}\n      \t     width={16}\n      \t  />\n        }\n        {ensFetched && ens &&\n          <>{ens}</>\n        }\n        {ensFetched && !ens &&\n          <>{account.substring(0, 6)}.....{account.substring(account.length - 6)}</>\n        }\n        </Wallet>\n      </Container>\n    }\n    </>\n  );\n}\n\n// css styles\nconst Container = styled.button`\n  margin: 0;\n  padding: 0;\n  background: none;\n  border: 0;\n  outline: 0;\n  justify-content: flex-start;\n  flex: 1,\n  flex-direction: row;\n  align-items: center;\n  display: flex;\n`\n\nconst Blocky = styled.div`\n  position: relative;\n  width: 50px;\n  height: 50px;\n  border-radius: 100%;\n  overflow: hidden;\n  transform: scale(0.85);\n  outline-width: 2px;\n  outline-color: rgba(225,225,225,1);\n`\n\nconst BlockyInner = styled.div`\n`\n\nconst Wallet = styled.span`\n  margin: 0px 10px;\n  padding: 8px 15px;\n  height: 16px;\n  display: flex;\n  align-items: baseline;\n  justify-content: center;\n  font-weight: bold;\n  font-size: 14px;\n  color: #fff;\n  border-radius: 15px;\n  background: rgb(226,8,128);\n  background: linear-gradient(107deg, rgba(226,8,128,1) 30%, rgba(103,76,159,1) 70%, rgba(53,197,243,1) 100%);\n  &:hover {\n    opacity: 0.9;\n    cursor: pointer;\n    pointer: hand;\n  }\n  &:active {\n    opacity: 0.75;\n    cursor: pointer;\n    pointer: hand;\n  }\n`\n\n// Export Default\nexport default Profile;\n","import React from \"react\";\nimport styled, { css, keyframes } from 'styled-components';\nimport { AnimateOnChange } from 'react-animation';\n\n// Create Header\nfunction Bell({ badgeCount, bellPressedCB, width, height }) {\n  const [badge, setBadge] = React.useState(0);\n  const [ring, setRing] = React.useState(false);\n\n  React.useEffect(() => {\n    // Set new badge count and ring the bell\n    setBadge(badgeCount);\n\n    if (badge > 0) {\n      setResetRinger();\n    }\n  }, [badgeCount]);\n\n  const setResetRinger = () => {\n    setRing(true);\n\n    setTimeout(() => {\n        setRing(false)\n    }, 500);\n  }\n\n  return (\n    <Container\n      onClick={() => {\n        if (bellPressedCB) {bellPressedCB();}\n      }}\n      width={width}\n      height={height}\n    >\n      <BellImage ring={ring} src=\"./bell.png\" className=\"tadaaa\" ringme={ring} width={width} height={height} />\n      <BellImageAbs src=\"./bellball.png\" width={width} height={height} />\n      <BellImageAbs src=\"./ring.png\" width={width} height={height} />\n      {badge != 0 &&\n        <AnimateOnChange\n          animationIn=\"fadeIn\"\n          animationOut=\"fadeOut\"\n          durationOut={200}\n        >\n          <Badge>{badge}</Badge>\n        </AnimateOnChange>\n      }\n    </Container>\n  );\n}\n\n// css styles\nconst Container = styled.button`\n  border: 0;\n  outline: 0;\n  background: transparent;\n  border: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 10px;\n  position: relative;\n  height: ${props => props.height || 40}px;\n  width: ${props => props.width || 40}px;\n  &:hover {\n    opacity: 0.9;\n    cursor: pointer;\n    pointer: hand;\n  }\n  &:active {\n    opacity: 0.75;\n    cursor: pointer;\n    pointer: hand;\n  }\n`\n\nconst tadaaa = keyframes`\n  0% {\n    -webkit-transform: scale3d(1, 1, 1);\n    -ms-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1);\n  }\n\n  10%, 20% {\n    -webkit-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\n    -ms-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\n    transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\n  }\n\n  30%, 50%, 70%, 90% {\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\n  }\n\n  40%, 60%, 80% {\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\n  }\n\n  100% {\n    -webkit-transform: scale3d(1, 1, 1);\n    -ms-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1);\n  }\n`;\n\nconst BellImage = styled.img`\n  position: absolute;\n  height: ${props => props.height || 40}px;\n  width: ${props => props.width || 40}px;\n\n  transition: transform .2s ease-out;\n  ${ props => props.ringme && css`\n    animation: ${tadaaa} 1s ease-out;\n  `};\n\n\n`\n\nconst BellImageAbs = styled(BellImage)`\n  left: 0,\n`\n\nconst Badge = styled.span`\n  position: absolute;\n  font-size: 10px;\n  color: #fff;\n  padding: 2px 4px;\n  border-radius: 100%;\n  background: rgba(208.0, 44.0, 30.0, 1.0);\n  top: 0px;\n  left: 5px;\n  font-weight: bold;\n`\n\n// Export Default\nexport default Bell;\n","import React from \"react\";\n\nimport styled, { css } from \"styled-components\";\nimport {Section, Item, ItemH, Button} from 'components/SharedStyling';\n\nimport { useWeb3React, UnsupportedChainIdError } from '@web3-react/core'\nimport {\n  NoEthereumProviderError,\n  UserRejectedRequestError as UserRejectedRequestErrorInjected\n} from '@web3-react/injected-connector'\nimport { Web3Provider } from 'ethers/providers'\n\nimport Profile from 'components/Profile';\nimport Bell from 'components/Bell';\n\n\n// Create Header\nfunction Header() {\n  const context = useWeb3React<Web3Provider>()\n\n  const { active, error } = useWeb3React();\n  const { deactivate } = context\n\n  const [showLoginControls, setShowLoginControls] = React.useState(false);\n\n  function getErrorMessage(error: Error) {\n    if (error instanceof NoEthereumProviderError) {\n      return 'Web3 not enabled, install MetaMask on desktop or visit from a dApp browser on mobile'\n    } else if (error instanceof UnsupportedChainIdError) {\n      return \"Unsupported Network, please connect to the Main or Polygon network\"\n    } else if (\n      error instanceof UserRejectedRequestErrorInjected\n    ) {\n      return 'Please authorize this website to access the dApp'\n    } else {\n      console.error(error)\n      return 'An unknown error occurred. Check the console for more details'\n    }\n  }\n\n  const bellPressed = () => {\n    setShowLoginControls(!showLoginControls);\n  }\n\n  const disconnect = () => {\n    setShowLoginControls(false);\n    deactivate();\n  }\n\n  return (\n    <HeaderContainer\n      direction=\"row\"\n      padding=\"10px 15px\"\n    >\n      <ItemH\n        justify=\"flex-start\"\n        flex=\"0\"\n      >\n        {active && !error &&\n          <Profile />\n        }\n        {!active &&\n          <Logo src=\"epns.png\" />\n        }\n      </ItemH>\n\n      <ItemH\n        justify=\"flex-end\"\n      >\n        {active && !error &&\n          <Bell\n            badgeCount={0}\n            bellPressedCB={bellPressed}\n            width={32}\n            height={32}\n          />\n        }\n\n        {showLoginControls &&\n          <Item\n            position=\"absolute\"\n          >\n            <Button\n              bg=\"#000\"\n              size=\"12px\"\n              spacing=\"0.2em\"\n              textTransform=\"uppercase\"\n              weight=\"600\"\n              radius=\"20px\"\n              onClick={() => disconnect()}\n            >\n              Disconnect\n            </Button>\n          </Item>\n        }\n\n        <ItemH\n          justify=\"flex-end\"\n          flex=\"initial\"\n        >\n          {!!error &&\n            <PrimaryTheme>{getErrorMessage(error)}</PrimaryTheme>\n          }\n          {!active && !error &&\n            <ThirdTheme>Please connect to a Web3 Network</ThirdTheme>\n          }\n          <Connection phase={active ? 'active' : error ? 'error' : 'waiting'} />\n        </ItemH>\n      </ItemH>\n    </HeaderContainer>\n  );\n}\n\n// CSS Styles\nconst HeaderContainer = styled(Section)`\n  @media (max-width: 1440px) {\n    background: rgb(255,255,255);\n  }\n`\n\nconst Logo = styled.img`\n  height: 40px;\n`\n\nconst Notice = styled.span`\n  border: 0;\n  outline: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 8px 15px;\n  margin: 10px;\n  color: #fff;\n  border-radius: 20px;\n  font-size: 14px;\n`\n\nconst PrimaryTheme = styled(Notice)`\n  background: #e20880;\n`\n\nconst ThirdTheme = styled(Notice)`\n  background: #674c9f;\n`\n\nconst Connection = styled.span`\n  height: 10px;\n  width: 10px;\n  border-radius: 100%;\n  flex-shrink: 0;\n\n  ${props => props.phase === 'active' && css`\n    background: #77DD77;\n  `};\n\n  ${props => props.phase === 'waiting' && css`\n    background: #FFAE42;\n  `};\n\n  ${props => props.phase === 'error' && css`\n    background: #DC143C;\n  `};\n`\n\n// Export Default\nexport default Header;\n","const countdownEpoch = 1641916800; //1678914000; // https://www.epochconverter.com/\n\nconst countdown = {\n  title: \"Road to Mainnet\",\n  href: \"https://medium.com/ethereum-push-notification-service/epns-governance-goes-live-lets-push-for-progressive-decentralized-governance-7448b58b89b4\",\n  countdownEpoch: countdownEpoch,\n  button: true,\n  buttonTitle: \"Are you ready for Governance\",\n  buttonText: \"Hold a Bit!\",\n  hide: false,\n}\n\nexport default countdown;\n","import React from \"react\";\n\nimport styled, { css } from 'styled-components';\nimport { Item, ItemH, Span, Anchor, Image } from 'components/SharedStyling';\n\nimport countdown from 'config/countdown';\n\nimport { AiFillHeart } from 'react-icons/ai';\n\n// Create Header\nfunction TimerItem() {\n  const [timeRemaining, setTimeRemaining] = React.useState(0);\n\n  const [ticker, setTicker] = React.useState(-2);\n  const [counter, setCounter] = React.useState(0);\n\n  const [time, setTime] = React.useState({hours: '--', mins: '--', secs: '--'});\n\n  const [hhTheme, setHHTheme] = React.useState(\"#fff\");\n  const [mmTheme, setMMTheme] = React.useState(\"#fff\");\n  const [ssTheme, setSSTheme] = React.useState(\"#fff\");\n\n  // For countdown\n  React.useEffect(() => {\n    if (timeRemaining == 0) {\n      const now = Date.now() / 1000; // Unix timestamp in milliseconds to seconds\n      setTimeRemaining(countdown.countdownEpoch - now);\n    }\n\n  }, [timeRemaining]);\n\n  React.useEffect(() => {\n    if (timeRemaining == 0) {\n      return;\n    }\n\n    if (ticker != -2) {\n      const timer = setTimeout(() => {\n        setTicker(ticker - 1);\n\n        if (ticker - 1 > -2 || !ticker) {\n          calculateTimeLeft(ticker - 1);\n        }\n      }, 1000);\n    }\n    else {\n      setTicker(timeRemaining);\n    }\n\n  }, [ticker, timeRemaining]);\n\n  const calculateTimeLeft = (epochInSecs) => {\n    if (epochInSecs > 0) {\n      const hh = Math.floor((epochInSecs / (60 * 60))).toString();\n      const mm = Math.floor((epochInSecs / 60) % 60).toString()\n      const ss = Math.floor(epochInSecs % 60).toString()\n\n      const hhf = hh.length < 2 ? (parseInt(hh) == 0 ? \"00\" : \"0\" + hh) : hh;\n      const mmf = mm.length < 2 ? (parseInt(mm) == 0 ? \"00\" : \"0\" + mm) : mm;\n      const ssf = ss.length < 2 ? (parseInt(ss) == 0 ? \"00\" : \"0\" + ss) : ss;\n\n      setTime({\n        hours: hhf,\n        mins: mmf,\n        secs: ssf\n      });\n    }\n  }\n\n  // to create blockies\n\n  return (\n    <Item margin=\"10px 0px 20px 0px\" align=\"flex-start\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\n     \n      \n\n      <Item padding=\"15px 15px\" bg=\"#000\" flex=\"inital\" radius=\"8px\" overflow=\"hidden\">\n        <Item>\n          <Span textAlign=\"center\" textTransform=\"uppercase\" size=\"0.8em\" spacing=\"0.2em\" color=\"#fff\" flex=\"inherit\">{countdown.title}</Span>\n        </Item>\n\n        {timeRemaining > 0 &&\n          <ItemH size=\"3em\">\n            <Span color={hhTheme} weight=\"700\" family=\"'Monstrat', Helvetica, sans-serif\" margin=\"0px 5px\">{time.hours}</Span>\n            <Span color=\"#fff\" weight=\"200\">:</Span>\n            <Span color={mmTheme} weight=\"700\" family=\"'Monstrat', Helvetica, sans-serif\" margin=\"0px 5px\">{time.mins}</Span>\n            <Span color=\"#fff\" weight=\"200\">:</Span>\n            <Span color={ssTheme} weight=\"700\" family=\"'Monstrat', Helvetica, sans-serif\" margin=\"0px 5px\">{time.secs}</Span>\n          </ItemH>\n        }\n\n        {countdown.showListing &&\n          <></>\n        }\n\n        {countdown.button == true &&\n          <>\n            <Anchor\n              href={`${countdown.href}`}\n              title={`${countdown.title}`}\n              target=\"_blank\"\n              bg=\"#e20880\"\n              border\n              margin=\"10px -15px -15px -15px\"\n              self=\"stretch\"\n            >\n            We are going live on mainnet on 11th jan 2022\n            </Anchor>\n          </>\n        }\n      </Item>\n\n      {/* <Item  > */}\n          {/* <Text>Hi I am waiting</Text> */}\n      {/* </Item> */}\n    </Item>\n  );\n}\n\n// css styles\nconst Container = styled.div`\n\n`\nconst Text=styled.h2`\n\n`;\n\n// Export Default\nexport default TimerItem;\n","import React from 'react';\nimport TimerItem from '../components/TimerItem';\nimport styled from 'styled-components';\n\n\nconst TimerComponent=()=>{\n    return(\n        <Wrapper>\n        <TimerItem/>\n        </Wrapper>\n    )\n}\n\nconst Wrapper=styled.div`\n    display:flex;\n    height:100vh;\n    width:100%;\n    /* background:url(\"/DOWNTIME2.png\") content-box; */\n    background-repeat:no-repeat;\n    background-size:100%;\n`;\nexport default TimerComponent;","import React from \"react\";\nimport ReactGA from \"react-ga\";\nimport { ToastContainer } from \"react-toastify\";\nimport { Web3Provider } from \"ethers/providers\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { AbstractConnector } from \"@web3-react/abstract-connector\";\nimport { useEagerConnect, useInactiveListener } from \"hooks\";\nimport { injected, walletconnect, portis, ledger } from \"connectors\";\nimport Home from \"pages/Home\";\nimport Header from \"segments/Header\";\nimport styled from \"styled-components\";\nimport { Item, ItemH, Span, H2, B, A,C } from \"components/SharedStyling\";\nimport UnderProgressModal from './components/UnderProgressModal';\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport TimerComponent from './segments/TimerComponent';\nimport countdown from './config/countdown';\nimport * as dotenv from \"dotenv\";\ndotenv.config();\n\n// define the different type of connectors which we use\nconst web3Connectors = {\n  Injected: {\n    obj: injected,\n    logo: \"./svg/login/metamask.svg\",\n    title: \"MetaMask\",\n  },\n  WalletConnect: {\n    obj: walletconnect,\n    logo: \"./svg/login/walletconnect.svg\",\n    title: \"Wallet Connect\",\n  },\n  // Trezor: {obj: trezor, logo: './svg/login/trezor.svg', title: 'Trezor'},\n  // Ledger: { obj: ledger, logo: \"./svg/login/ledger.svg\", title: \"Ledger\" },\n  Portis: { obj: portis, logo: \"./svg/login/portis.svg\", title: \"Portis\" },\n};\n\nexport default function App() {\n  const { connector, activate, active, error } = useWeb3React<Web3Provider>();\n  const [activatingConnector, setActivatingConnector] = React.useState<\n    AbstractConnector\n  >();\n  const [currentTime,setcurrentTime]=React.useState(0);\n  \n\n  React.useEffect(()=>{\n    const now = Date.now()/ 1000;\n    setcurrentTime(now)\n  },[])\n  React.useEffect(() => {\n    if (activatingConnector && activatingConnector === connector) {\n      setActivatingConnector(undefined);\n    }\n  }, [activatingConnector, connector]);\n\n  // handle logic to eagerly connect to the injected ethereum provider, if it exists and has granted access already\n  const triedEager = useEagerConnect();\n  // handle logic to connect in reaction to certain events on the injected ethereum provider, if it exists\n  useInactiveListener(!triedEager || !!activatingConnector);\n  // Initialize GA\n  ReactGA.initialize(\"UA-165415629-5\");\n  ReactGA.pageview(\"/login\");\n  // Initialize GA\n  // return ;\n  if(currentTime < countdown.countdownEpoch)\n  return (\n    <div style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100vh\"}}>\n      <TimerComponent/>\n    </div>\n  )\n  else\n  return (\n    <>\n    \n      <HeaderContainer>\n        <Header/>\n      </HeaderContainer>\n\n      <ParentContainer>\n        \n        {active && !error && (\n          <HomeContainer>\n\n            <Home />\n          </HomeContainer>\n        )}\n\n        {!active && (\n          <Item>\n            {/* <UnderProgressModal/> */}\n\n            <ProviderLogo\n              src=\"./epnshomelogo.png\"\n              srcSet={\"./epnshomelogo@2x.png 2x, ./epnshomelogo@2x.png 3x\"}\n            />\n            <Item\n              bg=\"#fafafa\"\n              border=\"1px solid #ddd\"\n              padding=\"15px\"\n              radius=\"12px\"\n            >\n              <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\n                <Span bg=\"#e20880\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">\n                  Connect\n                </Span>\n                <Span weight=\"200\"> Your Wallet</Span>\n              </H2>\n\n              <ItemH maxWidth=\"800px\" align=\"stretch\">\n                {Object.keys(web3Connectors).map((name) => {\n                  const currentConnector = web3Connectors[name].obj;\n                  const connected = currentConnector === connector;\n                  const disabled =\n                    !triedEager ||\n                    !!activatingConnector ||\n                    connected ||\n                    !!error;\n                  const image = web3Connectors[name].logo;\n                  const title = web3Connectors[name].title;\n\n                  return (\n                    <ProviderButton\n                      disabled={disabled}\n                      key={name}\n                      onClick={() => {\n                        setActivatingConnector(currentConnector);\n                        activate(currentConnector);\n                      }}\n                      border=\"#35c5f3\"\n                    >\n                      <ProviderImage src={image} />\n\n                      <Span\n                        spacing=\"0.1em\"\n                        textTransform=\"uppercase\"\n                        size=\"12px\"\n                        weight=\"600\"\n                        padding=\"10px\"\n                      >\n                        {title}\n                      </Span>\n                    </ProviderButton>\n                  );\n                })}\n              </ItemH>\n            </Item>\n\n            <Span margin=\"10px\" size=\"14px\">\n              By unlocking your wallet, <B>You agree</B> to our{\" \"}\n              <A href=\"https://epns.io/tos\" target=\"_blank\">\n                Terms of Service\n              </A>{\" \"}\n              and our{\" \"}\n              <A href=\"https://epns.io/privacy\" target=\"_blank\">\n                Privacy Policy\n              </A>\n              .\n            </Span>\n            <Item\n              bg=\"#fafafa\"\n              border=\"1px solid #ddd\"\n              padding=\"30px 15px\"\n              radius=\"12px\"\n              width=\"50rem\"\n            >\n              <StyledItem>\n              <span> Note: </span> The EPNS protocol has been under development for 1+ year,  and completed a <C href=\"https://epns.io/EPNS-Protocol-Audit2021.pdf\" target=\"_blank\"> ChainSafe audit </C> in October 2021. However, the mainnet is still a new product milestone.  Always DYOR, and anticipate bugs and UI improvements.  Learn how to report any bugs in our  <C href=\"https://discord.com/invite/YVPB99F9W5\" target=\"_blank\">Discord.</C>\n              </StyledItem>\n            </Item>\n          </Item>\n        )}\n      </ParentContainer>\n\n      <ToastContainer\n        position=\"bottom-right\"\n        autoClose={false}\n        newestOnTop\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n      />\n    </>\n  );\n}\n\n// CSS STYLES\nconst StyledItem = styled(Item)`\n  font-size: 14px;\n  letter-spacing: 0.4px;\n  display: block;\n  span{\n    color: #e20880;\n  }\n`;\nconst HeaderContainer = styled.header`\n  left: 0;\n  right: 0;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  z-index: 999;\n`;\n\nconst ParentContainer = styled.div`\n  flex-wrap: wrap;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 80px 20px 50px 20px;\n  flex: 1;\n`;\n\nconst HomeContainer = styled.div`\n  display: flex;\n  flex: 1;\n  align-self: center;\n  width: 100%;\n  max-width: 1100px;\n`;\n\nconst ProviderLogo = styled.img`\n  width: 15vw;\n  align-self: center;\n  display: flex;\n  margin: 10px 20px 20px 20px;\n  min-width: 200px;\n`;\n\nconst ProviderButton = styled.button`\n  flex: 1 1 0;\n  min-width: 280px;\n  background: #fff;\n  outline: 0;\n\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\n  border-radius: 15px;\n  border: 1px solid rgb(225, 225, 225);\n\n  margin: 20px;\n  overflow: hidden;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  display: flex;\n  flex-direction: row;\n  padding: 10px;\n\n  &:hover {\n    opacity: 0.9;\n    cursor: pointer;\n    border: 1px solid ${(props) => props.border};\n  }\n  &:active {\n    opacity: 0.75;\n    cursor: pointer;\n    border: 1px solid ${(props) => props.border};\n  }\n`;\n\nconst ProviderImage = styled.img`\n  width: 32px;\n  max-height: 32px;\n  padding: 10px;\n`;\n\nconst ProviderLabel = styled.span`\n  font-size: 12px;\n  margin: 5px;\n`;\n\nconst StyledContainer = styled(ToastContainer).attrs({\n  // custom props\n})`\n  .Toastify__toast-container {\n  }\n  .Toastify__toast {\n  }\n  .Toastify__toast--error {\n  }\n  .Toastify__toast--warning {\n  }\n  .Toastify__toast--success {\n  }\n  .Toastify__toast-body {\n    font-size: 12px;\n  }\n  .Toastify__progress-bar {\n  }\n`;\n","import {configureStore, combineReducers, getDefaultMiddleware} from '@reduxjs/toolkit';\nimport contractReducer from './slices/contractSlice';\nimport channelReducer from './slices/channelSlice';\nimport adminReducer from './slices/adminSlice';\nimport notificationReducer from './slices/notificationSlice';\nimport spamReducer from './slices/spamSlice';\n\nconst rootReducer = combineReducers({\n\tcontracts: contractReducer,\n    channels: channelReducer,\n    admin: adminReducer,\n\tnotifications: notificationReducer,\n\tspam: spamReducer\n});\n\nconst store = configureStore({\n\treducer: rootReducer,\n\tmiddleware: getDefaultMiddleware({\n\t\tserializableCheck: false,\n\t\timmutableCheck: false\n\t})\n});\n\nexport default store;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ethers } from \"ethers\";\nimport { Provider } from \"react-redux\";\nimport { Web3ReactProvider } from \"@web3-react/core\";\nimport { ApolloClient, ApolloProvider, InMemoryCache } from \"@apollo/client\";\n\nimport * as serviceWorker from \"./serviceWorker\";\nimport * as dotenv from \"dotenv\";\n\nimport App from \"./App\";\nimport store from \"./redux/store\";\nimport \"./index.css\";\n\n// enable environmental variables across the entire application\ndotenv.config();\n// You should replace this uri with your own and put it into a .env file\nconst client = new ApolloClient({\n  uri: \"https://api.thegraph.com/subgraphs/name/epnsproject/epnsstaging\",\n  cache: new InMemoryCache(),\n});\n\n/**\n * A utility function used to get the provider\n */\nfunction getLibrary(provider) {\n  const gottenProvider = new ethers.providers.Web3Provider(provider, \"any\");\n  // adding this is important to deal with changing networks\n  gottenProvider.on(\"network\", (_, oldNetwork) => {\n    if (oldNetwork) {\n      // when network has been changed, refresh the page\n      window.location.reload();\n    }\n  });\n  return gottenProvider;\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <ApolloProvider client={client}>\n      <Web3ReactProvider getLibrary={getLibrary}>\n        <App />\n      </Web3ReactProvider>\n    </ApolloProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// environmental configurations for the dapp for different environments\nconst config = {\n    apiUrl: \"https://backend-prod.epns.io/apis\", //the right backend URL to be used\n    allowedNetworks: [\n        1, //for eth\n        137 //for polygon\n    ],\n    coreContractChain: 1, //the chain id of the network which the core contract relies on\n    coreRPC: \"https://mainnet.infura.io/v3/4ff53a5254144d988a8318210b56f47a\"\n};\n\nexport default config;","// This address points to a dummy ERC20 contract deployed on Ethereum Mainnet,\n// Goerli, Kovan, Rinkeby and Ropsten. Replace it with your smart contracts.\nconst addresses = {\n  ceaErc20: \"0xc1C0472c0C80bCcDC7F5D01A376Bd97a734B8815\",\n  epnscore: \"0x66329Fdd4042928BfCAB60b179e1538D56eeeeeE\",\n  epnsEthComm: \"0xb3971BCef2D791bc4027BbfedFb47319A4AAaaAa\", // the ropsten core contract\n  epnsPolyComm: \"0xb3971BCef2D791bc4027BbfedFb47319A4AAaaAa\", // the ploygon comm contract\n  dai: \"0x6B175474E89094C44Da98b954EedeAC495271d0F\", //address for dai\n  aDai: \"0xcB1Fe6F440c49E9290c3eb7f158534c2dC374201\",\n  staking: \"0xd9218bb2a7Ff0131555A9b6F179fF5103a27a286\",\n  yieldFarmPUSH: \"0xFe0bcF750d4042480943CC8bA818CA3482DDf691\",\n  yieldFarmLP: \"0xE65fE4a8BCEB8A71D6A8D06dF2D91a9637081c61\",\n  epnsToken: \"0x38c4A4C7fa26eA48E34C45a9F6bDb5DA3f599c55\",\n  epnsLPToken: \"0x69E12FfD1170d851c096FfEC6A8eF27D26D96c0f\",\n  rockstar: \"0xCD1B6C8DDB9A735AA5961Ab4aa5B513fba23A3a3\", //ropsten address\n  batchMintNFT: \"0x9A20272669BBAa6254358ba4BB0520fFc813691C\", //ropsten address\n  NFTRewards: \"0x1f4CA0b2B0541b942A440A3f6673883eEacb2cb3\", //ropsten address\n  distributor: \"0x4Cd9Fe2E0acb9BC28fA51106b99825bd7a02309e\", //ropsten address\n};\n\nexport default addresses;\n","import erc20Abi from \"./abis/erc20\";\nimport ownableAbi from \"./abis/ownable\";\nimport epnscoreAbi from \"./abis/epnscore\";\nimport daiAbi from \"./abis/dai\";\nimport epnsTokenAbi from \"./abis/EPNS.json\";\nimport stakingAbi from \"./abis/Staking.json\";\nimport yieldFarmingAbi from \"./abis/YieldFarm.json\";\nimport rockstarAbi from \"./abis/Rockstar.json\";\nimport ec721Abi from \"./abis/ERC721.json\";\nimport NFTRewards from \"./abis/NFTRewards.json\";\nimport epnsCommAbi from \"./abis/epnsCommunicator.json\";\nimport MerkleDistributorAbi from \"./abis/MerkleDistributor.json\";\n\nexport const abis = {\n  erc20: erc20Abi,\n  ownable: ownableAbi,\n  epnscore: epnscoreAbi,\n  epnsPolyComm: epnsCommAbi,\n  epnsComm: epnsCommAbi,\n  dai: daiAbi,\n  epnsToken: epnsTokenAbi,\n  staking: stakingAbi,\n  yieldFarming: yieldFarmingAbi,\n  rockstar: rockstarAbi,\n  erc721: ec721Abi,\n  NFTRewards: NFTRewards,\n  distributor: MerkleDistributorAbi,\n};\n\nexport { default as envConfig } from \"./config\";\nexport { default as addresses } from \"./addresses\";\n","import React from \"react\";\nimport Select from \"react-select\";\nimport styled, { css } from \"styled-components\";\nimport {\n  Section,\n  Content,\n  Item,\n  ItemH,\n  ItemBreak,\n  H1,\n  H2,\n  H3,\n  Image,\n  P,\n  Span,\n  Anchor,\n  Button,\n  Showoff,\n  FormSubmision,\n  Input,\n  TextField,\n} from \"components/SharedStyling\";\n\nimport { FiLink } from \"react-icons/fi\";\n\nimport \"react-dropzone-uploader/dist/styles.css\";\nimport Dropzone from \"react-dropzone-uploader\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Slider from \"@material-ui/core/Slider\";\n\nimport Loader from \"react-loader-spinner\";\n\nimport { useWeb3React, UnsupportedChainIdError } from \"@web3-react/core\";\n\nimport { addresses, abis } from \"@project/contracts\";\nconst ethers = require(\"ethers\");\n\nconst ipfs = require(\"ipfs-api\")();\n\nconst minStakeFees = 50;\nconst ALIAS_CHAINS = [{ value: \"POLYGON_TEST_MUMBAI:80001\", label: \"Polygon\" }];\n\n// Create Header\nfunction CreateChannel() {\n  const { active, error, account, library, chainId } = useWeb3React();\n\n  const [processing, setProcessing] = React.useState(0);\n  const [processingInfo, setProcessingInfo] = React.useState(\"\");\n\n  const [uploadDone, setUploadDone] = React.useState(false);\n  const [stakeFeesChoosen, setStakeFeesChoosen] = React.useState(false);\n  const [channelInfoDone, setChannelInfoDone] = React.useState(false);\n\n  const [chainDetails, setChainDetails] = React.useState(\"\");\n  const [channelName, setChannelName] = React.useState(\"\");\n  const [channelAlias, setChannelAlias] = React.useState(\"\");\n  const [channelInfo, setChannelInfo] = React.useState(\"\");\n  const [channelURL, setChannelURL] = React.useState(\"\");\n  const [channelFile, setChannelFile] = React.useState(undefined);\n  const [channelStakeFees, setChannelStakeFees] = React.useState(minStakeFees);\n\n  const [stepFlow, setStepFlow] = React.useState(1);\n\n  React.useEffect(() => {});\n\n  // called every time a file's `status` changes\n  const handleChangeStatus = ({ meta, file }, status) => {\n    console.log(status, meta, file);\n  };\n\n  const onDropHandler = (files) => {\n    //   var file = files[0]\n    //   const reader = new FileReader();\n    //   reader.onload = (event) => {\n    //     console.log(event.target.result);\n    //   };\n    //   reader.readAsDataURL(file);\n    // setChannelFile(file);\n    // console.log(\"Drop Handler\");\n    // console.log(file);\n  };\n\n  // receives array of files that are done uploading when submit button is clicked\n  const handleLogoSubmit = (files, allFiles) => {\n    // console.log(files.map(f => f.meta))\n    allFiles.forEach((f) => {\n      var file = f.file;\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n      // console.log(f.file);\n\n      reader.onloadend = function(e) {\n        // console.log(reader.result);\n        const response = handleLogoSizeLimitation(reader.result);\n        if (response.success) {\n          setStepFlow(2);\n          setProcessing(0);\n          setUploadDone(true);\n          setChannelFile(reader.result);\n        } else {\n          setProcessing(3);\n          setProcessingInfo(response.info);\n        }\n      };\n    });\n  };\n\n  const handleLogoSizeLimitation = (base64) => {\n    // Setup Error on higher size of 128px\n    var sizeOf = require(\"image-size\");\n    var base64Data = base64.split(\";base64,\").pop();\n    var img = Buffer.from(base64Data, \"base64\");\n    var dimensions = sizeOf(img);\n\n    // Only proceed if image is equal to or less than 128\n    if (dimensions.width > 128 || dimensions.height > 128) {\n      console.log(\"Image size check failed... returning\");\n      return {\n        success: 0,\n        info: \"Image size check failed, Image should be 128X128PX\",\n      };\n    }\n\n    // only proceed if png or jpg\n    // This is brilliant: https://stackoverflow.com/questions/27886677/javascript-get-extension-from-base64-image\n    // char(0) => '/' : jpg\n    // char(0) => 'i' : png\n    let fileext;\n    console.log(base64Data.charAt(0));\n    if (base64Data.charAt(0) == \"/\") {\n      return {\n        success: 1,\n        info: \"Image checks passed\",\n      };\n    } else if (base64Data.charAt(0) == \"i\") {\n      return {\n        success: 1,\n        info: \"Image checks passed\",\n      };\n    } else {\n      return {\n        success: 0,\n        info: \"Image extension should be jpg or png\",\n      };\n    }\n  };\n\n  const handleCreateChannel = async (e) => {\n    // Check everything in order\n    // skip this for now\n    e.preventDefault();\n\n    if (\n      isEmpty(channelName) ||\n      isEmpty(channelInfo) ||\n      isEmpty(channelURL) ||\n      isEmpty(channelFile) ||\n      channelAlias\n        ? isEmpty(chainDetails)\n        : chainDetails\n        ? isEmpty(channelAlias)\n        : false\n    ) {\n      setProcessing(3);\n      setProcessingInfo(\"Channel Fields are Empty! Please retry!\");\n\n      return false;\n    }\n\n    // Check complete, start logic\n    setChannelInfoDone(true);\n    setProcessing(1);\n\n    console.log({\n      chainDetails,\n      channelAlias,\n    });\n    var chainDetailsSplit = chainDetails.split(\":\");\n    var blockchain = chainDetailsSplit[0];\n    var chain_id = chainDetailsSplit[1];\n    var address = channelAlias;\n\n    const input = JSON.stringify({\n      name: channelName,\n      info: channelInfo,\n      url: channelURL,\n      icon: channelFile,\n      blockchain: blockchain,\n      chain_id: chain_id,\n      address: address,\n    });\n\n    const ipfs = require(\"nano-ipfs-store\").at(\"https://ipfs.infura.io:5001\");\n\n    setProcessingInfo(\"Uploading Payload...\");\n    const storagePointer = await ipfs.add(input);\n    console.log(\"IPFS storagePointer:\", storagePointer);\n    setProcessingInfo(\"Payload Uploaded, Approval to transfer DAI...\");\n    //console.log(await ipfs.cat(storagePointer));\n\n    // Send Transaction\n    // First Approve DAI\n    var signer = library.getSigner(account);\n\n    let daiContract = new ethers.Contract(addresses.dai, abis.erc20, signer);\n\n    // Pick between 50 DAI AND 25K DAI\n    const fees = ethers.utils.parseUnits(channelStakeFees.toString(), 18);\n\n    var sendTransactionPromise = daiContract.approve(addresses.epnscore, fees);\n    const tx = await sendTransactionPromise;\n\n    console.log(tx);\n    console.log(\"waiting for tx to finish\");\n    setProcessingInfo(\"Waiting for Approval TX to finish...\");\n\n    await library.waitForTransaction(tx.hash);\n\n    let contract = new ethers.Contract(\n      addresses.epnscore,\n      abis.epnscore,\n      signer\n    );\n\n    const channelType = 2; // Open Channel\n    const identity = \"1+\" + storagePointer; // IPFS Storage Type and HASH\n    const identityBytes = ethers.utils.toUtf8Bytes(identity);\n\n    var anotherSendTxPromise = contract.createChannelWithFees(\n      channelType,\n      identityBytes,\n      fees\n    );\n\n    setProcessingInfo(\"Creating Channel TX in progress\");\n    anotherSendTxPromise\n      .then(async function(tx) {\n        console.log(tx);\n        console.log(\"Check: \" + account);\n        await library.waitForTransaction(tx.hash);\n        setProcessing(3);\n        setProcessingInfo(\"Channel Created\");\n      })\n      .catch((err) => {\n        console.log(\"Error --> %o\", err);\n        console.log({ err });\n        setProcessing(3);\n        setProcessingInfo(\n          \"!!!PRODUCTION ENV!!! Contact support@epns.io to whitelist your wallet\"\n        );\n      });\n  };\n\n  const isEmpty = (field) => {\n    if (field.trim().length == 0) {\n      return true;\n    }\n\n    return false;\n  };\n\n  //mind Dai\n  const mintDai = async () => {\n    try {\n      var signer = library.getSigner(account);\n      let daiContract = new ethers.Contract(addresses.dai, abis.dai, signer);\n      console.log({\n        daiContract,\n      });\n      console.log(1);\n      let daiAmount = 1000;\n      const amount = ethers.utils.parseUnits(daiAmount.toString(), 18);\n      console.log(2);\n      var mintTransactionPromise = daiContract.mint(amount);\n      console.log(3);\n      const tx = await mintTransactionPromise;\n      console.log(tx);\n      await library.waitForTransaction(tx.hash);\n      console.log(4);\n      setProcessingInfo(\"1000 Dai minted successfully!\");\n      console.log(\"Transaction Completed\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <>\n      <Section>\n        <Content padding=\"10px 20px 20px\">\n          <Item align=\"flex-start\">\n            <H2 textTransform=\"uppercase\" spacing=\"0.1em\">\n              <Span bg=\"#674c9f\" color=\"#fff\" weight=\"600\" padding=\"0px 8px\">\n                Create\n              </Span>\n              <Span weight=\"200\"> Your Channel!</Span>\n            </H2>\n            <H3>\n              <b>Ethereum Push Notification Service</b> (EPNS) makes it\n              extremely easy to open and maintain a genuine channel of\n              communication with your users.\n            </H3>\n          </Item>\n        </Content>\n      </Section>\n\n      <Section>\n        <Content padding=\"0px 20px 20px\">\n          <ItemH justify=\"space-between\">\n            <Step\n              bg=\"#fff\"\n              activeBG=\"#e20880\"\n              type={stepFlow >= 1 ? \"active\" : \"inactive\"}\n            />\n            <Step\n              bg=\"#fff\"\n              activeBG=\"#e20880\"\n              type={stepFlow >= 2 ? \"active\" : \"inactive\"}\n            />\n            <Step\n              bg=\"#fff\"\n              activeBG=\"#e20880\"\n              type={stepFlow >= 3 ? \"active\" : \"inactive\"}\n            />\n            <Line />\n          </ItemH>\n        </Content>\n      </Section>\n\n      {/* Image Upload Section */}\n      {!uploadDone && (\n        <Section>\n          <Content padding=\"50px 20px 20px\">\n            <Item align=\"flex-start\">\n              <H3 color=\"#e20880\">\n                Upload Channel Logo to start the process. Make sure image is\n                128x128px.\n              </H3>\n            </Item>\n\n            <Item margin=\"-10px 0px 20px 0px\">\n              <Dropzone\n                onChangeStatus={handleChangeStatus}\n                onSubmit={handleLogoSubmit}\n                onDrop={onDropHandler}\n                maxFiles={1}\n                multiple={false}\n                accept=\"image/jpeg,image/png\"\n              />\n            </Item>\n            {\n              chainId != 1 ? (\n              <Item align=\"flex-end\">\n                <Minter\n                  onClick={() => {\n                    mintDai();\n                  }}\n                >\n                  <Pool>\n                    <br></br>\n                    <PoolShare>Get Free DAI for Channel</PoolShare>\n                  </Pool>\n                </Minter>\n              </Item>\n              ): <></>\n            }\n          </Content>\n        </Section>\n      )}\n\n      {/* Stake Fees Section */}\n      {uploadDone && !stakeFeesChoosen && (\n        <Section>\n          <Content padding=\"50px 0px 0px 0px\">\n            <Item align=\"flex-start\" margin=\"0px 20px\">\n              <H3 color=\"#e20880\">Set your staking fees in DAI</H3>\n            </Item>\n\n            <Item\n              margin=\"-10px 20px 20px 20px\"\n              padding=\"20px 20px 10px 20px\"\n              bg=\"#f1f1f1\"\n            >\n              <Slider\n                defaultValue={minStakeFees}\n                onChangeCommitted={(event, value) => setChannelStakeFees(value)}\n                aria-labelledby=\"discrete-slider\"\n                valueLabelDisplay=\"auto\"\n                step={minStakeFees}\n                marks\n                min={minStakeFees}\n                max={25000}\n              />\n              <Span\n                weight=\"400\"\n                size=\"1.0em\"\n                textTransform=\"uppercase\"\n                spacing=\"0.2em\"\n              >\n                Amount Staked: {channelStakeFees} DAI\n              </Span>\n            </Item>\n\n            <Item self=\"stretch\" align=\"stretch\" margin=\"20px 0px 0px 0px\">\n              <Button\n                bg=\"#e20880\"\n                color=\"#fff\"\n                flex=\"1\"\n                radius=\"0px\"\n                padding=\"20px 10px\"\n                onClick={() => {\n                  setStakeFeesChoosen(true);\n                  setStepFlow(3);\n                }}\n              >\n                <Span\n                  color=\"#fff\"\n                  weight=\"400\"\n                  textTransform=\"uppercase\"\n                  spacing=\"0.1em\"\n                >\n                  Continue\n                </Span>\n              </Button>\n            </Item>\n          </Content>\n        </Section>\n      )}\n\n      {/* Channel Entry */}\n      {uploadDone && stakeFeesChoosen && !channelInfoDone && (\n        <Section>\n          <Content padding=\"50px 0px 0px 0px\">\n            <Item align=\"flex-start\" margin=\"0px 20px\">\n              <H3 color=\"#e20880\">Setup your Channel Info</H3>\n            </Item>\n\n            <FormSubmision\n              flex=\"1\"\n              direction=\"column\"\n              margin=\"0px\"\n              justify=\"center\"\n              size=\"1.1rem\"\n              onSubmit={handleCreateChannel}\n            >\n              <Item\n                margin=\"-10px 20px 15px 20px\"\n                flex=\"1\"\n                self=\"stretch\"\n                align=\"stretch\"\n              >\n                <Input\n                  required\n                  placeholder=\"Your Channel Name\"\n                  maxlength=\"40\"\n                  padding=\"12px\"\n                  border=\"1px solid #000\"\n                  weight=\"400\"\n                  size=\"1.2em\"\n                  bg=\"#fff\"\n                  value={channelName}\n                  onChange={(e) => {\n                    setChannelName(e.target.value);\n                  }}\n                />\n                {channelName.trim().length == 0 && (\n                  <Span\n                    padding=\"4px 10px\"\n                    right=\"0px\"\n                    top=\"0px\"\n                    pos=\"absolute\"\n                    color=\"#fff\"\n                    bg=\"#000\"\n                    size=\"0.7rem\"\n                    z=\"1\"\n                  >\n                    Name of Channel\n                  </Span>\n                )}\n              </Item>\n\n              <Item\n                margin=\"15px 20px 15px 20px\"\n                flex=\"1\"\n                self=\"stretch\"\n                align=\"stretch\"\n                style={{ position: \"relative\" }}\n              >\n                <Select\n                  className=\"basic-single\"\n                  classNamePrefix=\"select\"\n                  placeholder=\"Alias network\"\n                  name=\"color\"\n                  options={ALIAS_CHAINS}\n                  theme={(theme) => ({\n                    ...theme,\n                    borderRadius: 0,\n                    colors: {\n                      ...theme.colors,\n                      primary25: \"#e20880\",\n                      primary: \"#e20880\",\n                    },\n                  })}\n                  onChange={(selectedOption) => {\n                    setChainDetails(selectedOption.value);\n                  }}\n                />\n                <Input\n                  placeholder=\"Your Channel's Alias address\"\n                  maxlength=\"40\"\n                  padding=\"12px\"\n                  style={{ paddingLeft: \"22%\" }}\n                  border=\"1px solid #000\"\n                  weight=\"400\"\n                  size=\"1rem\"\n                  bg=\"#fff\"\n                  value={channelAlias}\n                  onChange={(e) => {\n                    setChannelAlias(e.target.value);\n                  }}\n                />\n              </Item>\n              <Item\n                margin=\"15px 20px 15px 20px\"\n                flex=\"1\"\n                self=\"stretch\"\n                align=\"stretch\"\n              >\n                <TextField\n                  required\n                  placeholder=\"Your Channel's Short Description (200 Characters)\"\n                  rows=\"4\"\n                  maxlength=\"200\"\n                  radius=\"4px\"\n                  padding=\"12px\"\n                  weight=\"400\"\n                  border=\"1px solid #000\"\n                  bg=\"#fff\"\n                  value={channelInfo}\n                  onChange={(e) => {\n                    setChannelInfo(e.target.value);\n                  }}\n                  autocomplete=\"off\"\n                />\n              </Item>\n\n              <ItemH\n                margin=\"15px 20px 15px 20px\"\n                flex=\"1\"\n                self=\"stretch\"\n                align=\"center\"\n              >\n                <Item flex=\"0\" margin=\"0px 5px 0px 0px\">\n                  <FiLink size={24} color=\"#000\" />\n                </Item>\n                <Item flex=\"1\" margin=\"0px 0px 0px 5px\" align=\"stretch\">\n                  <Input\n                    required\n                    placeholder=\"Call to Action Link\"\n                    padding=\"12px\"\n                    border=\"1px solid #000\"\n                    radius=\"4px\"\n                    weight=\"400\"\n                    bg=\"#f1f1f1\"\n                    value={channelURL}\n                    onChange={(e) => {\n                      setChannelURL(e.target.value);\n                    }}\n                  />\n                  {channelURL.trim().length == 0 && (\n                    <Span\n                      padding=\"4px 10px\"\n                      right=\"0px\"\n                      top=\"0px\"\n                      pos=\"absolute\"\n                      color=\"#fff\"\n                      bg=\"#000\"\n                      size=\"0.7rem\"\n                      z=\"1\"\n                    >\n                      Channel's Website URL\n                    </Span>\n                  )}\n                </Item>\n              </ItemH>\n\n              <Item\n                margin=\"15px 0px 0px 0px\"\n                flex=\"1\"\n                self=\"stretch\"\n                align=\"stretch\"\n              >\n                <Button\n                  bg=\"#e20880\"\n                  color=\"#fff\"\n                  flex=\"1\"\n                  radius=\"0px\"\n                  padding=\"20px 10px\"\n                  disabled={processing == 1 ? true : false}\n                >\n                  {processing == 1 && (\n                    <Loader type=\"Oval\" color=\"#fff\" height={24} width={24} />\n                  )}\n                  {processing != 1 && (\n                    <Input\n                      cursor=\"hand\"\n                      textTransform=\"uppercase\"\n                      color=\"#fff\"\n                      weight=\"400\"\n                      size=\"0.8em\"\n                      spacing=\"0.2em\"\n                      type=\"submit\"\n                      value=\"Setup Channel\"\n                    />\n                  )}\n                </Button>\n              </Item>\n            </FormSubmision>\n          </Content>\n        </Section>\n      )}\n\n      {/* Channel Setup Progress */}\n      {(processing == 1 || processing == 3) && (\n        <Section>\n          <Content padding=\"0px 0px 0px 0px\">\n            {processing == 1 && (\n              <Item margin=\"20px 0px 10px 0px\">\n                <Loader type=\"Oval\" color=\"#000\" height={24} width={24} />\n              </Item>\n            )}\n\n            <Item\n              color=\"#fff\"\n              bg={processing == 1 ? \"#e1087f\" : \"#000\"}\n              padding=\"10px 15px\"\n              margin=\"15px 0px\"\n            >\n              <Span\n                color=\"#fff\"\n                textTransform=\"uppercase\"\n                spacing=\"0.1em\"\n                weight=\"400\"\n                size=\"1em\"\n              >\n                {processingInfo}\n              </Span>\n            </Item>\n          </Content>\n        </Section>\n      )}\n    </>\n  );\n}\n\n// css styles\nconst Step = styled.div`\n  height: 12px;\n  width: 12px;\n  background: ${(props) => props.bg || \"#fff\"};\n  border: 4px solid ${(props) => props.activeBG || \"#000\"};\n  border-radius: 100%;\n\n  ${({ type }) =>\n    type == \"active\" &&\n    css`\n      background: ${(props) => props.activeBG || \"#ddd\"};\n      border: 4px solid #00000022;\n    `};\n`;\n\nconst Line = styled.div`\n  position: absolute;\n  height: 5px;\n  background: #f1f1f1;\n  right: 0;\n  left: 0;\n  margin: 0px 10px;\n  z-index: -1;\n`;\n\nconst Channel = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n`;\n\nconst Notice = styled.div`\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Title = styled.h1`\n  color: #674c9f;\n  font-size: 30px;\n  font-weight: 300;\n  margin-top: 0px;\n  margin-bottom: 30px;\n`;\n\nconst Info = styled.label`\n  padding-bottom: 20px;\n  font-size: 14px;\n  color: #000;\n`;\n\nconst Info2 = styled(Info)``;\nconst Name = styled(Input)`\n  border-bottom: 1px solid #e20880;\n  font-size: 24px;\n`;\n\nconst ShortInfo = styled.textarea`\n  outline: 0;\n  border: 0;\n  border-bottom: 1px solid #35c5f3;\n  margin: 10px;\n  font-size: 18px;\n  min-height: 80px;\n  color: #111;\n`;\n\nconst Url = styled(Input)`\n  border-bottom: 1px solid #674c9f;\n  font-size: 1=8px;\n`;\n\nconst Text = styled.span``;\n\nconst Continue = styled.button`\n  border: 0;\n  outline: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  border-radius: 20px;\n  font-size: 14px;\n  background: ${(props) => props.theme || \"#674c9f\"};\n  margin: 30px 0px 0px 0px;\n  border-radius: 8px;\n  padding: 16px;\n  font-size: 16px;\n  font-weight: 400;\n`;\nconst Minter = styled.div`\n  display: flex;\n  flex-direction: row;\n  font-size: 13px;\n`;\n\nconst ChannelMetaBox = styled.label`\n  margin: 0px 5px;\n  color: #fff;\n  font-weight: 600;\n  padding: 10px 20px;\n  border-radius: 10px;\n  font-size: 15px;\n  // font-size: 11px;\n`;\nconst Pool = styled.div`\n  margin: 0px 10px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n\nconst PoolShare = styled(ChannelMetaBox)`\n  background: #e20880;\n  // background: #674c9f;\n`;\n\n// Export Default\nexport default CreateChannel;\n","import styled, { css } from 'styled-components';\n\nexport const Section = styled.section`\n  display: flex;\n  align-self: stretch;\n  justify-content: center;\n  align-items: ${props => props.align || 'initial'};\n  flex-direction: ${props => props.direction || 'column'};\n  background: ${props => props.theme || 'transparent'};\n  background: ${props => props.gradient || 'undefined'};\n  margin: ${props => props.margin || '0px'};\n  padding: ${props => props.padding || '0px'};\n  overflow: ${props => props.overflow || 'initial'};\n  flex: 1;\n  position: relative;\n`\n\nexport const SectionFS = styled(Section)`\n  min-height: 100vh;\n`\n\nexport const SectionFSHero = styled(Section)`\n  min-height: 100vh;\n  background: rgb(31,23,47);\n  background: linear-gradient(283deg, rgba(31,23,47,1) 0%, rgba(62,9,40,1) 45%, rgba(17,58,72,1) 100%);\n`\n\nexport const SectionHero = styled(Section)`\n  background: rgb(31,23,47);\n  background: linear-gradient(283deg, rgba(31,23,47,1) 0%, rgba(62,9,40,1) 45%, rgba(17,58,72,1) 100%);\n`\n\nexport const Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: ${props => props.padding || \"40px 0px\"};\n  background: ${props => props.theme || 'transparent'};\n  background: ${props => props.gradient || 'undefined'};\n  position: relative;\n`\n\nexport const ItemBreak = styled.div`\n  flex-basis: 100%;\n`\n\nexport const Item = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-wrap: ${props => props.wrap || 'wrap'};\n  position: ${props => props.position || 'relative'};\n  justify-content: center;\n  background: ${props => props.bg || 'transparent'};\n  flex: ${props => props.flex || '1'};\n  flex-direction: ${props => props.direction || 'column'};\n  align-self: ${props => props.self || 'auto'};\n  align-items: ${props => props.align || 'center'};\n  justify-content: ${props => props.justify || 'center'};\n  padding: ${props => props.padding || \"0px\"};\n  margin: ${props => props.margin || '0px'};\n  min-width: ${props => props.minWidth || 'auto'};\n  max-width: ${props => props.maxWidth || 'initial'};\n  font-size: ${props => props.size || \"inherit\"};\n  text-align: ${props => props.textAlign || \"inherit\"};\n  filter: ${props => props.filter || \"none\"};\n\n  width: ${props => props.width || \"auto\" };\n  height: ${props => props.height || \"auto\" };\n\n  border: ${props => props.border || \"none\"};\n\n  border-radius: ${props => props.radius || \"0px\"};\n  overflow: ${props => props.overflow || \"initial\"};\n\n  &:hover & {\n    filter: ${props => (props.filterHover ? props.filterHover : (props.hover ? props.hover : \"none\")) || \"none\"};\n  }\n\n  @media (max-width: 768px) {\n    align-items: ${props => (props.tabletAlign ? props.tabletAlign : (props.align ? props.align : \"center\")) || \"center\"};\n    text-align: ${props => (props.tabletTextAlign ? props.tabletTextAlign : (props.textAlign ? props.textAlign : \"inherit\")) || \"inherit\"};\n  }\n\n  ${ItemBreak} {\n    width: 0;\n  }\n`\n\nexport const ItemH = styled(Item)`\n  flex-direction: row;\n  flex: ${props => props.flex || '1'};\n\n  ${ItemBreak} {\n    width: auto;\n    height: 0;\n  }\n`\n\nexport const WaveOuter = styled.div`\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: ${props => props.bottom || '-70px'};\n  top: ${props => props.top || 'auto'};\n  transform: ${props => props.transform || 'initial'};\n`;\n\nexport const WaveInner = styled.div`\n  position: absolute;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  transform: ${props => props.transform || 'initial'};\n`;\n\nexport const Arc = styled.div`\n  position: absolute;\n\toverflow: hidden;\n\twidth: 100%;\n\theight: 300px;\n\n  bottom: ${props => props.bottom || 'auto'};\n  top: ${props => props.top || 'auto'};\n\n  &:after {\n    content: '';\n    position: absolute;\n  \twidth: 300%;\n  \theight: 300%;\n  \ttop: -25%;\n  \tleft: -100%;\n\n\n    ${ props => props.arcRGB && css`\n      \tbackground: radial-gradient(ellipse at center, ${props.arcRGB}00 0%, ${props.arcRGB}00 50%, ${props.arcRGB}ff 50%, ${props.arcRGB}ff 100%);\n    `};\n  }\n`\n\nexport const H1 = styled.h1`\n  @media (max-width: 480px) {\n    font-size: 2.1rem;\n  }\n`\n\nexport const H2 = styled.h2`\n  color: ${props => props.color || '#000'};\n  font-weight: ${props => props.weight || 600};\n  font-size: ${props => props.size || \"2rem\"};\n  text-transform: ${props => props.textTransform || \"inherit\"};\n  margin: ${props => props.margin || \"20px 0px\"};\n  padding: ${props => props.padding || \"0px\"};\n  letter-spacing: ${props => props.spacing || \"inherit\"};\n  font-family: ${props => props.family || \"'Source Sans Pro', Helvetica, sans-serif\"};\n  text-align: ${props => props.textAlign || \"inherit\"};\n`\n\nexport const H3 = styled.h3`\n  color: ${props => props.color || 'rgb(0 0 0 / 0.5)'};\n  font-weight: ${props => props.weight || 300};\n  font-size: ${props => props.size || \"1rem\"};\n  text-transform: ${props => props.textTransform || \"uppercase\"};\n  margin: ${props => props.margin || \"-15px 0px 20px 0px\"};\n  padding: ${props => props.padding || \"0px\"};\n  letter-spacing: ${props => props.spacing || \"0.1em\"};\n  font-family: ${props => props.family || \"'Source Sans Pro', Helvetica, sans-serif\"};\n  text-align: ${props => props.textAlign || \"inherit\"};\n  max-width: ${props => props.maxWidth || 'initial'};\n`\n\nexport const Image = styled.img`\n  width: 100%;\n  height: auto;\n  display: flex;\n`\n\nexport const P = styled.p`\n  flex: ${props => props.flex || 'initial'};\n  align-self: ${props => props.self || 'auto'};\n\n  color: ${props => props.color || '#000'};\n  background: ${props => props.bg || 'transparent'};\n  font-weight: ${props => props.weight || 300};\n  font-size: ${props => props.size || \"inherit\"};\n  text-transform: ${props => props.textTransform || \"inherit\"};\n  margin: ${props => props.margin || \"20px 0px\"};\n  padding: ${props => props.padding || \"0px\"};\n  letter-spacing: ${props => props.spacing || \"inherit\"};\n  text-align: ${props => props.textAlign || \"initial\"};\n`\n\nexport const Para = styled(P)`\n  font-weight: ${props => props.weight || 300};\n  letter-spacing: ${props => props.spacing || \"0.02em\"};\n  font-size: ${props => props.size || \"1.1em\"};\n  color: ${props => props.color || \"#000000ee\"};\n`\n\nexport const Span = styled.span`\n  flex: ${props => props.flex || 'initial'};\n  align-self: ${props => props.self || 'auto'};\n\n  color: ${props => props.color || '#000'};\n  background: ${props => props.bg || 'transparent'};\n  font-weight: ${props => props.weight || 300};\n  font-size: ${props => props.size || \"inherit\"};\n  text-transform: ${props => props.textTransform || \"inherit\"};\n  margin: ${props => props.margin || \"0px\"};\n  padding: ${props => props.padding || \"0px\"};\n  letter-spacing: ${props => props.spacing || \"inherit\"};\n  text-align: ${props => props.textAlign || \"initial\"};\n\n  position: ${props => props.pos || 'initial'};\n  right: ${props => props.right || 'auto'};\n  left: ${props => props.left || 'auto'};\n  bottom: ${props => props.bottom || 'auto'};\n  top: ${props => props.top || 'auto'};\n\n  z-index: ${props => props.z || 'auto'};\n`\n\nexport const B = styled.span`\n  color: ${props => props.color || '#000'};\n  font-weight: ${props => props.weight || 'bold'};\n`\n\nexport const UL = styled.ul`\n\n`\n\nexport const LI = styled.li`\n  margin: 10px 0px;\n`\n\nexport const Anchor = styled.a`\n  display: flex;\n  flex-direction: ${props => props.direction || 'row'};\n  flex: ${props => props.flex || 'initial'};\n  align-self: ${props => props.self || 'auto'};\n  align-items: ${props => props.align || 'center'};\n  justify-content: ${props => props.justify || 'center'};\n  font-weight: ${props => props.weight || 400};\n  font-size: ${props => props.size || \"inherit\"};\n  color: ${props => props.color || \"#fff\"};\n  background: ${props => props.bg || \"transparent\"};\n  margin: ${props => props.margin || \"0\"};\n  padding: ${props => props.padding || \"10px 15px\"};\n  letter-spacing: ${props => props.spacing || \"0.2em\"};\n  border: ${props => props.border || \"none\"};\n  border-radius: ${props => props.radius || \"0px\"};\n  width: ${props => props.width || \"initial\" };\n\n  position: relative;\n  text-decoration: none;\n  overflow: ${props => props.overflow || \"hidden\"};\n  z-index: 3;\n\n  filter: ${props => props.filter || \"none\"};\n\n  cursor: pointer;\n  pointer: hand;\n\n  &:hover & {\n    filter: ${props => (props.filterHover ? props.filterHover : (props.hover ? props.hover : \"none\")) || \"none\"};\n  }\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: ${props => props.hover || (props.bg ? props.bg : \"transparent\")};\n    display: none;\n    z-index: -1;\n  }\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: ${props => props.hoverBG || \"#000\"};\n    opacity: 0;\n    z-index: -1;\n  }\n\n  &:hover:before {\n    display: block;\n  }\n\n  &:hover:after {\n    opacity: 0.08;\n  }\n  &:active:after {\n    opacity: 0.15;\n  }\n`\n\nexport const A = styled(Anchor)`\n  display: inline;\n  color: #e1087f;\n  background: transparent;\n  padding: 0px;\n  letter-spacing: inherit;\n  text-transform: initial;\n`\n\nexport const C = styled(Anchor)`\n  display: inline;\n  color: #4292e4;\n  background: transparent;\n  padding: 0px;\n  letter-spacing: inherit;\n  text-transform: initial;\n`\n\nexport const Button = styled.button`\n  display: flex;\n  flex: ${props => props.flex || 'initial'};\n  align-self: ${props => props.self || 'auto'};\n  align-items: ${props => props.align || 'center'};\n  justify-content: ${props => props.justify || 'center'};\n  font-weight: ${props => props.weight || 400};\n  font-size: ${props => props.size || \"inherit\"};\n  color: ${props => props.color || \"#fff\"};\n  background: ${props => props.bg || \"tranparent\"};\n  margin: ${props => props.margin || \"0\"};\n  padding: ${props => props.padding || \"10px 15px\"};\n  letter-spacing: ${props => props.spacing || \"initial\"};\n  border: ${props => props.border || \"none\"};\n  border-radius: ${props => props.radius || \"0px\"};\n  text-transform: ${props => props.textTransform || \"initial\"};\n\n  position: relative;\n  text-decoration: none;\n  overflow: ${props => props.overflow || \"hidden\"};\n  z-index: 3;\n\n  cursor: pointer;\n  pointer: hand;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: ${props => props.hover || (props.bg ? props.bg : \"transparent\")};\n    display: none;\n    z-index: -1;\n  }\n\n  &:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: ${props => props.hoverBG || \"#000\"};\n    opacity: 0;\n    z-index: -1;\n  }\n\n  &:hover:before {\n    display: block;\n  }\n\n  &:hover:after {\n    opacity: 0.08;\n  }\n  &:active:after {\n    opacity: 0.15;\n  }\n\n  & > div {\n    display: flex;\n  }\n`\n\nexport const Showoff = styled.div`\n  position: absolute;\n  right: ${props => props.right || 'auto'};\n  left: ${props => props.left || 'auto'};\n  bottom: ${props => props.bottom || 'auto'};\n  top: ${props => props.top || 'auto'};\n  transform: ${props => props.transform || 'initial'};\n  opacity: ${props => props.opacity || 'initial'};\n\n  @media (max-width: 768px) {\n    align-items: ${props => (props.tabletAlign ? props.tabletAlign : (props.align ? props.align : \"center\")) || \"center\"};\n\n    right: ${props => (props.tabletRight ? props.tabletRight : (props.right ? props.right : \"auto\")) || \"auto\"};\n    left: ${props => (props.tabletLeft ? props.tabletLeft : (props.left ? props.left : \"auto\")) || \"auto\"};\n    top: ${props => (props.tabletTop ? props.tabletTop : (props.top ? props.top : \"auto\")) || \"auto\"};\n    bottom: ${props => (props.tabletBottom ? props.tabletBottom : (props.bottom ? props.bottom : \"auto\")) || \"auto\"};\n\n    transform: ${props => (props.tabletTransform ? props.tabletTransform : (props.transform ? props.transform : \"auto\")) || \"auto\"};\n\n    opacity: ${props => (props.tabletOpacity ? props.tabletOpacity : (props.opacity ? props.opacity : \"auto\")) || \"initial\"};\n  }\n`\n\nexport const FormSubmision = styled.form`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n\n  flex: ${props => props.flex || 'initial'};\n  align-self: ${props => props.self || 'auto'};\n  align-items: ${props => props.align || 'center'};\n  justify-content: ${props => props.justify || 'center'};\n  font-weight: ${props => props.weight || 400};\n  font-size: ${props => props.size || \"inherit\"};\n  text-transform: ${props => props.textTransform || \"inherit\"};\n  color: ${props => props.color || \"#fff\"};\n  background: ${props => props.bg || \"transparent\"};\n  margin: ${props => props.margin || \"0px\"};\n  padding: ${props => props.padding || \"0px\"};\n  border: ${props => props.border || \"none\"};\n  border-radius: ${props => props.radius || \"0px\"};\n  position: relative;\n`\n\nexport const Input = styled.input`\n  display: ${props => props.display || 'flex'};\n  flex: ${props => props.flex || 'initial'};\n  align-self: ${props => props.self || 'auto'};\n  align-items: ${props => props.align || 'center'};\n  justify-content: ${props => props.justify || 'center'};\n  font-weight: ${props => props.weight || 300};\n  font-size: ${props => props.size || \"inherit\"};\n  text-transform: ${props => props.textTransform || \"inherit\"};\n  color: ${props => props.color || \"#000\"};\n  background: ${props => props.bg || \"transparent\"};\n  margin: ${props => props.margin || \"0px\"};\n  padding: ${props => props.padding || \"0px\"};\n  letter-spacing: ${props => props.spacing || \"inherit\"};\n  border: ${props => props.border || \"none\"};\n  border-radius: ${props => props.radius || \"0px\"};\n  outline: ${props => props.outline || \"none\"};\n  overflow: ${props => props.overflow || \"hidden\"};\n  position: relative;\n\n  cursor: ${props => props.cursor || \"initial\"};\n  pointer: ${props => props.hand || \"initial\"};\n\n  &:focus + span {\n    opacity: 0;\n\n    -webkit-transition: all 0.2s ease-in-out;\n    -moz-transition: all 0.2s ease-in-out;\n    -o-transition: all 0.2s ease-in-out;\n    transition: all 0.2s ease-in-out;\n  }\n`\n\nexport const TextField = styled.textarea`\n  display: flex;\n  flex: ${props => props.flex || 'initial'};\n  align-self: ${props => props.self || 'auto'};\n  align-items: ${props => props.align || 'center'};\n  justify-content: ${props => props.justify || 'center'};\n  font-weight: ${props => props.weight || 300};\n  font-size: ${props => props.size || \"inherit\"};\n  text-transform: ${props => props.textTransform || \"inherit\"};\n  color: ${props => props.color || \"#000\"};\n  background: ${props => props.bg || \"transparent\"};\n  margin: ${props => props.margin || \"0px\"};\n  padding: ${props => props.padding || \"0px\"};\n  letter-spacing: ${props => props.spacing || \"inherit\"};\n  border: ${props => props.border || \"none\"};\n  border-radius: ${props => props.radius || \"0px\"};\n  outline: ${props => props.outline || \"none\"};\n  overflow: ${props => props.overflow || \"hidden\"};\n  position: relative;\n  resize: vertical;\n\n  &:focus + span {\n    opacity: 0;\n\n    -webkit-transition: all 0.2s ease-in-out;\n    -moz-transition: all 0.2s ease-in-out;\n    -o-transition: all 0.2s ease-in-out;\n    transition: all 0.2s ease-in-out;\n  }\n`\n","(function() {\n\t// The random number is a js implementation of the Xorshift PRNG\n\tvar randseed = new Array(4); // Xorshift: [x, y, z, w] 32 bit values\n\n\tfunction seedrand(seed) {\n\t\tfor (var i = 0; i < randseed.length; i++) {\n\t\t\trandseed[i] = 0;\n\t\t}\n\t\tfor (var i = 0; i < seed.length; i++) {\n\t\t\trandseed[i%4] = ((randseed[i%4] << 5) - randseed[i%4]) + seed.charCodeAt(i);\n\t\t}\n\t}\n\n\tfunction rand() {\n\t\t// based on Java's String.hashCode(), expanded to 4 32bit values\n\t\tvar t = randseed[0] ^ (randseed[0] << 11);\n\n\t\trandseed[0] = randseed[1];\n\t\trandseed[1] = randseed[2];\n\t\trandseed[2] = randseed[3];\n\t\trandseed[3] = (randseed[3] ^ (randseed[3] >> 19) ^ t ^ (t >> 8));\n\n\t\treturn (randseed[3]>>>0) / ((1 << 31)>>>0);\n\t}\n\n\tfunction createColor() {\n\t\t//saturation is the whole color spectrum\n\t\tvar h = Math.floor(rand() * 360);\n\t\t//saturation goes from 40 to 100, it avoids greyish colors\n\t\tvar s = ((rand() * 60) + 40) + '%';\n\t\t//lightness can be anything from 0 to 100, but probabilities are a bell curve around 50%\n\t\tvar l = ((rand()+rand()+rand()+rand()) * 25) + '%';\n\n\t\tvar color = 'hsl(' + h + ',' + s + ',' + l + ')';\n\t\treturn color;\n\t}\n\n\tfunction createImageData(size) {\n\t\tvar width = size; // Only support square icons for now\n\t\tvar height = size;\n\n\t\tvar dataWidth = Math.ceil(width / 2);\n\t\tvar mirrorWidth = width - dataWidth;\n\n\t\tvar data = [];\n\t\tfor(var y = 0; y < height; y++) {\n\t\t\tvar row = [];\n\t\t\tfor(var x = 0; x < dataWidth; x++) {\n\t\t\t\t// this makes foreground and background color to have a 43% (1/2.3) probability\n\t\t\t\t// spot color has 13% chance\n\t\t\t\trow[x] = Math.floor(rand()*2.3);\n\t\t\t}\n\t\t\tvar r = row.slice(0, mirrorWidth);\n\t\t\tr.reverse();\n\t\t\trow = row.concat(r);\n\n\t\t\tfor(var i = 0; i < row.length; i++) {\n\t\t\t\tdata.push(row[i]);\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tfunction buildOpts(opts) {\n\t\tvar newOpts = {};\n\n\t\tnewOpts.seed = opts.seed || Math.floor((Math.random()*Math.pow(10,16))).toString(16);\n\n\t\tseedrand(newOpts.seed);\n\n\t\tnewOpts.size = opts.size || 8;\n\t\tnewOpts.scale = opts.scale || 4;\n\t\tnewOpts.color = opts.color || createColor();\n\t\tnewOpts.bgcolor = opts.bgcolor || createColor();\n\t\tnewOpts.spotcolor = opts.spotcolor || createColor();\n\n\t\treturn newOpts;\n\t}\n\n\tfunction renderIcon(opts, canvas) {\n\t\topts = buildOpts(opts || {});\n\t\tvar imageData = createImageData(opts.size);\n\t\tvar width = Math.sqrt(imageData.length);\n\n\t\tcanvas.width = canvas.height = opts.size * opts.scale;\n\n\t\tvar cc = canvas.getContext('2d');\n\t\tcc.fillStyle = opts.bgcolor;\n\t\tcc.fillRect(0, 0, canvas.width, canvas.height);\n\t\tcc.fillStyle = opts.color;\n\n\t\tfor(var i = 0; i < imageData.length; i++) {\n\n\t\t\t// if data is 0, leave the background\n\t\t\tif(imageData[i]) {\n\t\t\t\tvar row = Math.floor(i / width);\n\t\t\t\tvar col = i % width;\n\n\t\t\t\t// if data is 2, choose spot color, if 1 choose foreground\n\t\t\t\tcc.fillStyle = (imageData[i] == 1) ? opts.color : opts.spotcolor;\n\n\t\t\t\tcc.fillRect(col * opts.scale, row * opts.scale, opts.scale, opts.scale);\n\t\t\t}\n\t\t}\n\t\treturn canvas;\n\t}\n\n\tfunction createIcon(opts) {\n\t\tvar canvas = document.createElement('canvas');\n\n\t\trenderIcon(opts, canvas);\n\n\t\treturn canvas;\n\t}\n\n\tvar api = {\n\t\tcreate: createIcon,\n\t\trender: renderIcon\n\t};\n\n\tif (typeof module !== \"undefined\") {\n\t\tmodule.exports = api;\n\t}\n\tif (typeof window !== \"undefined\") {\n\t\t window.blockies = api;\n\t}\n\n})();\n"],"sourceRoot":""}