(this["webpackJsonp@project/react-app"]=this["webpackJsonp@project/react-app"]||[]).push([[0],{1014:function(e,n){},1016:function(e,n){},1018:function(e,n){},1056:function(e,n){},1058:function(e,n){},106:function(e,n,t){"use strict";(function(e){var a=t(13),r=t.n(a),i=t(28),o=t(215),c=t(105),u=t(214),s=t(928),l={encryptWithAES:function(e,n){return s.AES.encrypt(e,n).toString()},decryptWithAES:function(e,n){return s.AES.decrypt(e,n).toString(s.enc.Utf8)},encryptWithECIES:function(){var e=Object(i.a)(r.a.mark((function e(n,t){var a,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.a.publicKey.compress(t),e.next=3,this.encryptWithPublicKey(n,a);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),decryptWithECIES:function(){var e=Object(i.a)(r.a.mark((function e(n,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.decryptWithPrivateKey(n,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),encryptWithPublicKey:function(){var n=Object(i.a)(r.a.mark((function n(t,a){var i,o,s,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=Uint8Array.from(new e(a,"hex")),o=Object(u.publicKeyConvert)(i,!1),s=new e(o),l=new e(s,"hex"),n.abrupt("return",Object(c.encrypt)(l,e(t)).then((function(n){var t={iv:n.iv.toString("hex"),ephemPublicKey:n.ephemPublicKey.toString("hex"),ciphertext:n.ciphertext.toString("hex"),mac:n.mac.toString("hex")},a=Uint8Array.from(new e(t.ephemPublicKey,"hex")),r=Object(u.publicKeyConvert)(a,!0),i=new e(r).toString("hex");return e.concat([new e(t.iv,"hex"),new e(i,"hex"),new e(t.mac,"hex"),new e(t.ciphertext,"hex")]).toString("hex")})));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),decryptWithPrivateKey:function(){var n=Object(i.a)(r.a.mark((function n(t,a){var i,o,s,l,p,d,f,y;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=new e(i=t,"hex"),i={iv:o.toString("hex",0,16),ephemPublicKey:o.toString("hex",16,49),mac:o.toString("hex",49,81),ciphertext:o.toString("hex",81,o.length)},s=Uint8Array.from(new e(i.ephemPublicKey,"hex")),l=Object(u.publicKeyConvert)(s,!1),p=new e(l),d=p.toString("hex"),i.ephemPublicKey=d,f=a.substring(2),y={iv:new e(i.iv,"hex"),ephemPublicKey:new e(i.ephemPublicKey,"hex"),ciphertext:new e(i.ciphertext,"hex"),mac:new e(i.mac,"hex")},n.abrupt("return",Object(c.decrypt)(new e(f,"hex"),y).then((function(e){return e.toString()})));case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),encryptionDecryptionPublicToPrivateTest:function(){var e=Object(i.a)(r.a.mark((function e(n){var t,a,i,c,u,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,console.log("[ENCRYPTION / DECRYPTION TEST STARTED] - "+t),a=o.a.publicKeyByPrivateKey(n),i=o.a.publicKey.compress(a),"PartialStringAS",e.next=7,this.encryptWithPublicKey("PartialStringAS",i);case 7:return c=e.sent,console.log("Encryped Message With compressed public key:"+c),u=(new Date).getTime()-t.getTime(),console.log("[ENCRYPTION / DECRYPTION ENCRYPTION DONE] - "+u/1e3+" secs"),e.next=13,this.decryptWithPrivateKey(c,n);case 13:s=e.sent,console.log("[ENCRYPTION / DECRYPTION DECRYPTED MESSAGE] - '"+s+"'"),l=(new Date).getTime()-t.getTime()-u,console.log("[ENCRYPTION / DECRYPTION DECRYPTION DONE] - "+l/1e3+" secs");case 17:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),outputMsgPayload:function(){var e=Object(i.a)(r.a.mark((function e(n,t,a,i,o,c){var u,s,l,p,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[AES ENCRYTED FORMAT ("+new Date+")"),console.log("---------------------"),console.log("secret --\x3e "),e.next=5,this.encryptWithECIES(n,c);case 5:return u=e.sent,s=this.encryptWithAES(t,n),l=this.encryptWithAES(a,n),p=this.encryptWithAES(i,n),d=this.encryptWithAES(o,n),console.log(u),console.log("asub --\x3e "),console.log(s),console.log("amsg --\x3e "),console.log(l),console.log("acta --\x3e "),console.log(p),console.log("aimg --\x3e "),console.log(d),console.log("decrypted secret --\x3e "),e.t0=console,e.next=23,this.decryptWithECIES(u,c);case 23:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),console.log("decrypted asub --\x3e "),console.log(this.decryptWithAES(s,n)),console.log("decrypted amsg --\x3e "),console.log(this.decryptWithAES(l,n)),console.log("decrypted acta --\x3e "),console.log(this.decryptWithAES(p,n)),console.log("decrypted aimg --\x3e "),console.log(this.decryptWithAES(d,n));case 33:case"end":return e.stop()}}),e,this)})));return function(n,t,a,r,i,o){return e.apply(this,arguments)}}(),makeid:function(e){for(var n="["+(new Date).toISOString()+"] ",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=t.length,r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*a));return n}};n.a=l}).call(this,t(1).Buffer)},1065:function(e,n){},1067:function(e,n){},1076:function(e,n){},1078:function(e,n){},1256:function(e,n){},1441:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(310),o=t.n(i),c=t(584),u=t(1445),s=(t(595),t(4)),l=t(16),p=t(25),d=t(87),f=t(564),y=t(565);t(137).config();var b=new d.a({supportedChainIds:[3]}),m=new y.a({urls:{3:"https://ropsten.infura.io/v3/084ddf3da9e240c5b5dd9264f37c0526"},defaultChainId:3,pollingInterval:12e3}),h=new f.a({dAppId:"cfefa032-9afd-4833-bfb4-2b0cb7ec3413",networks:[1,100]});t(137).config();var g=t(56),v=t.n(g),x=t(102),w=t(13),E=t.n(w),O=t(28),j=t(5),T={erc20:t(569),ownable:t(570),epnscore:t(571)},S=(t(102),{getUserInfo:function(){var e=Object(O.a)(E.a.mark((function e(n,t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){t.users(n).then((function(n){console.log(n),e(n)})).catch((function(e){console.log(e),a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),getChannelInfo:function(){var e=Object(O.a)(E.a.mark((function e(n,t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){t.channels(n).then((function(n){console.log(n),e(n)})).catch((function(e){console.log(e),a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),getChannelAddEvent:function(){var e=Object(O.a)(E.a.mark((function e(n,t,a,r){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){var o;r.queryFilter("AddChannel",t,a).then((function(t){t.forEach((function(e){e.args[0]==n&&(o=e)})),console.log("Full Response: "),console.log(t),console.log("Filtered Response: "),console.log(o),e(o)})).catch((function(e){console.log(e),i(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t,a,r){return e.apply(this,arguments)}}(),getJsonFileFromIPFSHash:function(){var e=Object(O.a)(E.a.mark((function e(n){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){fetch("https://ipfs.io/ipfs/"+n).then((function(e){return e.json()})).then((function(n){console.log(n),e(n)})).catch((function(e){console.error(e),t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getChannelJsonFromUserAddress:function(){var e=Object(O.a)(E.a.mark((function e(n,t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){S.getUserInfo(n,t).then((function(e){return S.getChannelInfo(n,t)})).then((function(e){return S.getChannelAddEvent(n,e.channelStartBlock.toNumber(),e.channelStartBlock.toNumber(),t)})).then((function(e){return S.getJsonFileFromIPFSHash(e.args[1])})).then((function(n){return e(n)})).catch((function(e){return a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),getPublicKey:function(){var e=Object(O.a)(E.a.mark((function e(n,t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var r;t.queryFilter("PublicKeyRegistered").then((function(t){t.forEach((function(e){e.args[0]==n&&(r=e)})),console.log("Full Response: "),console.log(t),console.log("Filtered Response: "),console.log(r),0==r.length?a():e(r.args[1])})).catch((function(e){console.log(e),a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()}),C=S,k=t(311),M=t(106);function P(){var e=Object(s.a)(["\n  border: 0;\n  outline: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  border-radius: 20px;\n  font-size: 14px;\n  background: ",";\n  border-radius: 8px;\n  padding: 16px;\n  font-size: 16px;\n  font-weight: 400;\n  flex: 1;\n  margin: 10px 20px;\n"]);return P=function(){return e},e}function A(){var e=Object(s.a)(["\n  width: 150px;\n"]);return A=function(){return e},e}function F(){var e=Object(s.a)(["\n\n"]);return F=function(){return e},e}function I(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return I=function(){return e},e}function N(){var e=Object(s.a)(["\n  margin: 20px 20px 10px 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return N=function(){return e},e}function D(){var e=Object(s.a)(["\n  border-bottom: 1px solid #674c9f;\n  font-size: 1=8px;\n"]);return D=function(){return e},e}function W(){var e=Object(s.a)(["\n  outline: 0;\n  border: 0;\n  border-bottom: 1px solid #35c5f3;\n  margin: 10px;\n  font-size: 18px;\n  min-height: 80px;\n  color: #111;\n  flex: 1;\n"]);return W=function(){return e},e}function z(){var e=Object(s.a)(["\n  border-bottom: 1px solid #e20880;\n  font-size: 24px;\n"]);return z=function(){return e},e}function K(){var e=Object(s.a)(["\n  border: 0px;\n  outline: 0px;\n  border-bottom: 1px solid #ddd;\n  margin: 25px 10px;\n  padding: 5px;\n  flex: 1;\n"]);return K=function(){return e},e}function R(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return R=function(){return e},e}function _(){var e=Object(s.a)(["\n  display: flex;\n    justify-content: space-around;\n"]);return _=function(){return e},e}function Y(){var e=Object(s.a)(["\n  padding-bottom: 20px;\n  font-size: 14px;\n  color: #000;\n"]);return Y=function(){return e},e}function B(){var e=Object(s.a)(["\n  color: #674c9f;\n  font-size: 30px;\n  font-weight: 300;\n  margin-top: 0px;\n  margin-bottom: 30px;\n"]);return B=function(){return e},e}function U(){var e=Object(s.a)(["\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n"]);return U=function(){return e},e}function J(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return J=function(){return e},e}function L(){var e=Object(s.a)(["\n  flex: 1;\n  display: flex;\n  width: '100%';\n"]);return L=function(){return e},e}var H=t(102);t(411)();var G=j.b.div(L()),q=j.b.div(J()),V=j.b.div(U()),Z=j.b.h1(B()),Q=j.b.label(Y()),X=Object(j.b)(Q)(_()),$=j.b.div(R()),ee=j.b.input(K()),ne=(Object(j.b)(ee)(z()),j.b.textarea(W())),te=(Object(j.b)(ee)(D()),j.b.div(N()),j.b.div(I())),ae=j.b.span(F()),re=j.b.span(A()),ie=j.b.button(P(),(function(e){return e.theme||"#674c9f"})),oe=function(e){var n=e.epnscore,a=Object(p.c)(),i=(a.active,a.error,a.account),o=a.library,c=(a.chainId,r.a.useState(!1)),u=Object(l.a)(c,2),s=u[0],d=u[1],f=r.a.useState(""),y=Object(l.a)(f,2),b=y[0],m=y[1],h=r.a.useState(""),g=Object(l.a)(h,2),x=(g[0],g[1],r.a.useState("")),w=Object(l.a)(x,2),j=w[0],S=w[1],k=r.a.useState(""),P=Object(l.a)(k,2),A=P[0],F=P[1],I=r.a.useState(""),N=Object(l.a)(I,2),D=N[0],W=N[1],z=r.a.useState(""),K=Object(l.a)(z,2),R=K[0],_=K[1],Y=r.a.useState(""),B=Object(l.a)(Y,2),U=B[0],J=B[1];r.a.useEffect((function(){}));var L=function(){var e=Object(O.a)(E.a.mark((function e(){var a,r,c,u,s,l,p,f,y,m,h,g,v,x,w;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),a=o.getSigner(i),r=new H.Contract(n,T.epnscore,a),c=A,u=D,"2"!==j&&2!=parseInt(j)){e.next=21;break}return m=M.a.makeid(14),c="You have a secret message!",u="Open the app to see your secret message!",e.next=11,C.getPublicKey(b,r);case 11:return h=e.sent,g=h.toString().substring(2),console.log("This is public Key: "+g),e.next=16,M.a.encryptWithECIES(m,g);case 16:s=e.sent,l=M.a.encryptWithAES(A,m),p=M.a.encryptWithAES(D,m),f=M.a.encryptWithAES(R,m),y=M.a.encryptWithAES(U,m);case 21:return v=JSON.stringify({notification:{title:c,body:u},data:{type:j,secret:s,asub:l,amsg:p,acta:f,aimg:y}}),x=t(560).at("https://ipfs.infura.io:5001"),console.log("sending payload"),e.next=26,x.add(v);case 26:w=e.sent,console.log("IPFS cid:",w),r.sendMessage(b,j,w,1).then((function(e){console.log(e),console.log("Check: "+i)}));case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(G,null,r.a.createElement(q,null,r.a.createElement(V,null,r.a.createElement(Z,null,"Send Message!"),r.a.createElement(Q,null,"EPNS supports three types of messages (for now!). ",r.a.createElement("b",null,"Groups"),", ",r.a.createElement("b",null,"Secrets")," and ",r.a.createElement("b",null,"Targetted"),"."),r.a.createElement(Q,null,"Group messages go to all people subscribed in the group. Secrets are encrypted and go to a specific subscriber (no one else can view it, thanks crypto!), Targetted are non-encrypted secrets mostly sent from the EPNS group to channel owners.")),r.a.createElement($,null,r.a.createElement(te,null,r.a.createElement(re,null,"Message Type"),r.a.createElement(ee,{placeholder:" (1 for Normal, 2 for Secret)",value:j,onChange:function(e){S(e.target.value)}})),r.a.createElement(te,null,r.a.createElement(re,null,"Recipient"),r.a.createElement(ee,{placeholder:"Channel Address for msg type 1, recipient for 2",value:b,onChange:function(e){m(e.target.value)}})),r.a.createElement(te,null,r.a.createElement(re,null,"Subject"),r.a.createElement(ee,{placeholder:"The subject of the topic",value:A,onChange:function(e){F(e.target.value)}})),r.a.createElement(te,null,r.a.createElement(re,null,"Message"),r.a.createElement(ne,{placeholder:"The message to deliver",maxlength:"500",value:D,onChange:function(e){W(e.target.value)}})),r.a.createElement(te,null,r.a.createElement(re,null,"Call to Action"),r.a.createElement(ee,{placeholder:"Call to action url if any",maxlength:"200",value:R,onChange:function(e){_(e.target.value)}})),r.a.createElement(te,null,r.a.createElement(re,null,"Image url"),r.a.createElement(ee,{placeholder:"Image url if any",maxlength:"200",value:U,onChange:function(e){J(e.target.value)}}))),r.a.createElement(X,null,r.a.createElement(ie,{theme:"#674c9f",disabled:s,onClick:L},s&&r.a.createElement(v.a,{type:"Oval",color:"#FFF",height:16,width:16}),!s&&r.a.createElement(ae,null,"Group Message")),r.a.createElement(ie,{theme:"#e20880",disabled:s,onClick:L},s&&r.a.createElement(v.a,{type:"Oval",color:"#FFF",height:16,width:16}),!s&&r.a.createElement(ae,null,"Secret Message")))))},ce=(t(1438),t(577)),ue=t.n(ce);function se(){var e=Object(s.a)(["\n  border: 0;\n  outline: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  border-radius: 20px;\n  font-size: 14px;\n  background: ",";\n  margin: 30px 0px 0px 0px;\n  border-radius: 8px;\n  padding: 16px;\n  font-size: 16px;\n  font-weight: 400;\n"]);return se=function(){return e},e}function le(){var e=Object(s.a)(["\n\n"]);return le=function(){return e},e}function pe(){var e=Object(s.a)(["\n  margin: 20px 20px 10px 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return pe=function(){return e},e}function de(){var e=Object(s.a)(["\n  border-bottom: 1px solid #674c9f;\n  font-size: 1=8px;\n"]);return de=function(){return e},e}function fe(){var e=Object(s.a)(["\n  outline: 0;\n  border: 0;\n  border-bottom: 1px solid #35c5f3;\n  margin: 10px;\n  font-size: 18px;\n  min-height: 80px;\n  color: #111;\n"]);return fe=function(){return e},e}function ye(){var e=Object(s.a)(["\n  border-bottom: 1px solid #e20880;\n  font-size: 24px;\n"]);return ye=function(){return e},e}function be(){var e=Object(s.a)(["\n  border: 0px;\n  outline: 0px;\n  border-bottom: 1px solid #ddd;\n  margin: 25px 10px;\n  padding: 5px;\n"]);return be=function(){return e},e}function me(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return me=function(){return e},e}function he(){var e=Object(s.a)(["\n\n"]);return he=function(){return e},e}function ge(){var e=Object(s.a)(["\n  padding-bottom: 20px;\n  font-size: 14px;\n  color: #000;\n"]);return ge=function(){return e},e}function ve(){var e=Object(s.a)(["\n  color: #674c9f;\n  font-size: 30px;\n  font-weight: 300;\n  margin-top: 0px;\n  margin-bottom: 30px;\n"]);return ve=function(){return e},e}function xe(){var e=Object(s.a)(["\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n"]);return xe=function(){return e},e}function we(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return we=function(){return e},e}function Ee(){var e=Object(s.a)(["\n  flex: 1;\n  display: flex;\n  width: '100%';\n"]);return Ee=function(){return e},e}var Oe=t(102);t(411)();var je=j.b.div(Ee()),Te=j.b.div(we()),Se=j.b.div(xe()),Ce=j.b.h1(ve()),ke=j.b.label(ge()),Me=(Object(j.b)(ke)(he()),j.b.div(me())),Pe=j.b.input(be()),Ae=Object(j.b)(Pe)(ye()),Fe=j.b.textarea(fe()),Ie=Object(j.b)(Pe)(de()),Ne=j.b.div(pe()),De=j.b.span(le()),We=j.b.button(se(),(function(e){return e.theme||"#674c9f"})),ze=function(e){var n=e.epnscore,a=e.dai,i=Object(p.c)(),o=(i.active,i.error,i.account),c=i.library,u=(i.chainId,r.a.useState(!1)),s=Object(l.a)(u,2),d=s[0],f=s[1],y=r.a.useState(!1),b=Object(l.a)(y,2),m=b[0],h=b[1],g=r.a.useState(void 0),x=Object(l.a)(g,2),w=x[0],j=x[1],S=r.a.useState(""),C=Object(l.a)(S,2),M=C[0],P=C[1],A=r.a.useState(""),F=Object(l.a)(A,2),I=F[0],N=F[1],D=r.a.useState(""),W=Object(l.a)(D,2),z=W[0],K=W[1];r.a.useEffect((function(){}));var R=function(){var e=Object(O.a)(E.a.mark((function e(){var r,i,u,s,l,p,d,y;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),console.log(w),console.log(M),console.log(I),console.log(z),r=JSON.stringify({name:M,info:I,url:z,icon:w}),i=t(560).at("https://ipfs.infura.io:5001"),console.log("sending payload"),e.next=10,i.add(r);case 10:return u=e.sent,console.log("IPFS cid:",u),s=c.getSigner(o),l=new Oe.Contract(a,T.erc20,s),p=l.approve(n,Object(k.bigNumberify)("50000000000000000000000001")),e.next=17,p;case 17:return d=e.sent,console.log(d),console.log("waiting for tx to finish"),e.next=22,c.waitForTransaction(d.hash);case 22:y=new Oe.Contract(n,T.epnscore,s),y.createChannelWithFees(u).then((function(e){console.log(e),console.log("Check: "+o)}));case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(je,null,r.a.createElement(Te,null,r.a.createElement(Se,null,r.a.createElement(Ce,null,"Create your Channel!"),m&&!d&&r.a.createElement(ke,null,"Image Verified! Just fill in your other information and hit ",r.a.createElement("b",null,"Beam me up")," to create your channel... literal goosebumps!!!"),!m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,null,r.a.createElement("b",null,"Ethereum Push Notification Service")," (EPNS) makes it extremely easy to open and maintain a genuine channel of communication with your users."),r.a.createElement(ke,null,"The only step for ",r.a.createElement("b",null,"You")," or your ",r.a.createElement("b",null,"dApp")," or even your ",r.a.createElement("b",null,"Smart Contract")," is opening up the channel."),r.a.createElement(ke,null,"Rest of the heavy lifting of securely connecting users, wallets, device tokens, listening to and ensuring sent events, forming and delivering payload to each mobile or destop devices and informing them and you about it is done automagically by EPNS."))),!d&&m&&r.a.createElement(Me,null,r.a.createElement(Ae,{placeholder:"Your Channel Name",maxlength:"40",value:M,onChange:function(e){P(e.target.value)}}),r.a.createElement(Fe,{placeholder:"Your Channel's Short Description",maxlength:"200",value:I,onChange:function(e){N(e.target.value)}}),r.a.createElement(Ie,{placeholder:"Your website",maxlength:"200",value:z,onChange:function(e){K(e.target.value)}})),r.a.createElement(r.a.Fragment,null,!m&&r.a.createElement(Ne,null,r.a.createElement(ke,null,"Drop in your channel ",r.a.createElement("b",null,"(dApp or Website) official logo")," here and submit first."),r.a.createElement(ue.a,{onChangeStatus:function(e,n){var t=e.meta,a=e.file;console.log(n,t,a)},onSubmit:function(e,n){h(!0),console.log(e.map((function(e){return e.meta}))),n.forEach((function(e){var n=e.file,t=new FileReader;t.readAsDataURL(n),console.log(e.file),t.onloadend=function(e){console.log(t.result),j(t.result)}})),console.log("andle Submit")},onDrop:function(e){},maxFiles:1,multiple:!1,accept:"image/jpeg,image/png"}))),m&&r.a.createElement(We,{theme:d?"#674c9f":"#e20880",disabled:d,onClick:R},d&&r.a.createElement(v.a,{type:"Oval",color:"#FFF",height:16,width:16}),!d&&r.a.createElement(De,null,"Beam me up!"))))};function Ke(){var e=Object(s.a)(["\n  font-size: 32px;\n  color: #DDD;\n  display: flex;\n  font-weight: 200;\n  align-content: center;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n"]);return Ke=function(){return e},e}var Re=j.b.div(Ke()),_e=function(){return r.a.useEffect((function(){})),r.a.createElement(Re,null,"Coming in Version 0.2!")};function Ye(){var e=Object(s.a)(["\n  font-size: 32px;\n  color: #DDD;\n  display: flex;\n  font-weight: 200;\n  align-content: center;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n"]);return Ye=function(){return e},e}var Be=j.b.div(Ye()),Ue=function(){return r.a.useEffect((function(){})),r.a.createElement(Be,null,"Coming in Version 0.2!")};function Je(){var e=Object(s.a)(["\n  flex: 1;\n  display: flex;\n\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\n  border-radius: 20px;\n  border: 1px solid rgb(225,225,225);\n\n  margin: 15px;\n  padding: 20px;\n  overflow: hidden;\n"]);return Je=function(){return e},e}function Le(){var e=Object(s.a)(["\n    transform: scale(1.1) translate(0px, -20px);\n  "]);return Le=function(){return e},e}function He(){var e=Object(s.a)(["\n  font-size: 16px;\n  font-weight: 300;\n  opacity: ",";\n  transition: transform .2s ease-out;\n  background: -webkit-linear-gradient(#db268a, #34c6f3);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  z-index: 2;\n  ",";\n\n"]);return He=function(){return e},e}function Ge(){var e=Object(s.a)(["\n      transform: scale(3.5) translate(-40px, 5px);\n      opacity: 0.2;\n      z-index: 1;\n    "]);return Ge=function(){return e},e}function qe(){var e=Object(s.a)(["\n    width: 20%;\n    margin-bottom: 10px;\n    transition: transform .2s ease-out;\n    ",";\n"]);return qe=function(){return e},e}function Ve(){var e=Object(s.a)(["\n  margin: 0px 20px;\n  flex-direction: column;\n  align-items: center;\n  display: flex;\n"]);return Ve=function(){return e},e}function Ze(){var e=Object(s.a)(["\n    transform: scale(1.5) translate(-10px, 0px);\n  "]);return Ze=function(){return e},e}function Qe(){var e=Object(s.a)(["\n  font-size: 16px;\n  font-weight: 200;\n  opacity: ",";\n\n  transition: transform .2s ease-out;\n  ",";\n"]);return Qe=function(){return e},e}function Xe(){var e=Object(s.a)(["\n    transform: scale(3.5) translate(-20px, 0px);\n    opacity: 0.4;\n  "]);return Xe=function(){return e},e}function $e(){var e=Object(s.a)(["\n  height: 30%;\n  margin-right: 15px;\n  filter: ",";\n  opacity: ",";\n\n  transition: transform .2s ease-out;\n  ",";\n"]);return $e=function(){return e},e}function en(){var e=Object(s.a)(["\n  flex: 1 1 25%;\n  height: 120px;\n  min-width: 240px;\n  background: #fff;\n\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\n  border-radius: 15px;\n  border: 1px solid rgb(225,225,225);\n\n  border-bottom: 10px solid rgb(180,180,180);\n  margin: 20px;\n  overflow: hidden;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  border-bottom: 10px solid ",";\n\n  &:hover {\n    opacity: 0.9;\n    cursor: pointer;\n    pointer: hand;\n  }\n  &:active {\n    opacity: 0.75;\n    cursor: pointer;\n    pointer: hand;\n  }\n"]);return en=function(){return e},e}function nn(){var e=Object(s.a)(["\n  flex: 0;\n  display: flex;\n  flex-direction: row;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n"]);return nn=function(){return e},e}function tn(){var e=Object(s.a)(["\n  flex: 1;\n  display: flex;\n  min-height: 80vh;\n  flex-direction: column;\n"]);return tn=function(){return e},e}var an=t(102);var rn=j.b.div(tn()),on=j.b.div(nn()),cn=j.b.div(en(),(function(e){return e.active?e.border:"rgb(180,180,180)"})),un=j.b.img($e(),(function(e){return e.active?"brightness(1)":"brightness(0)"}),(function(e){return e.active?"1":"0.25"}),(function(e){return e.active&&Object(j.a)(Xe())})),sn=j.b.label(Qe(),(function(e){return e.active?"1":"0.75"}),(function(e){return e.active&&Object(j.a)(Ze())})),ln=j.b.div(Ve()),pn=j.b.img(qe(),(function(e){return e.active&&Object(j.a)(Ge())})),dn=j.b.label(He(),(function(e){return e.active?"1":"0.75"}),(function(e){return e.active&&Object(j.a)(Le())})),fn=j.b.div(Je()),yn=function(e){e.setBadgeCount;var n=e.bellPressed,t=e.epnscore,a=e.dai,i=Object(p.c)(),o=(i.active,i.error,i.account),c=i.library,u=(i.chainId,r.a.useState(0)),s=Object(l.a)(u,2),d=s[0],f=s[1],y=r.a.useState(!1),b=Object(l.a)(y,2),m=b[0],h=b[1],g=r.a.useState(!1),x=Object(l.a)(g,2),w=x[0],j=x[1],S=r.a.useState([]),k=Object(l.a)(S,2),M=k[0],P=k[1];r.a.useEffect((function(){j(!1),h(!1),A(0),P([]),I()}),[o]),r.a.useEffect((function(){f(0)}),[n]);var A=function(e){f(e)},F=function(){var e=Object(O.a)(E.a.mark((function e(){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new an.Contract(t,T.epnscore,c),n=an.utils.id("AddChannel(address,string)"),a={address:t,topics:[n]},c.on(a,(function(e){I(),console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(O.a)(E.a.mark((function e(){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new an.Contract(t,T.epnscore,c),C.getChannelJsonFromUserAddress(o,n).then((function(e){console.log(e),P(e),j(!0),h(!0)})).catch((function(e){j(!1),h(!0)})),F();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(rn,null,r.a.createElement(on,null,r.a.createElement(cn,{index:0,active:0==d?1:0,border:"#e20880",onClick:function(){A(0)}},r.a.createElement(un,{src:"./svg/feedbox.svg",active:0==d?1:0}),r.a.createElement(sn,{active:0==d?1:0},"Feedbox")),r.a.createElement(cn,{index:1,active:1==d?1:0,border:"#35c5f3",onClick:function(){A(1)}},r.a.createElement(un,{src:"./svg/channel.svg",active:1==d?1:0}),r.a.createElement(sn,{active:1==d?1:0},"Channels")),r.a.createElement(cn,{index:2,active:2==d?1:0,border:"#674c9f",disabled:!m,onClick:function(){m&&A(2)}},!m&&r.a.createElement(v.a,{type:"Oval",color:"#674c9f",height:32,width:32}),w&&m&&r.a.createElement(ln,null,r.a.createElement(pn,{src:"".concat(M.icon),active:2==d?1:0}),r.a.createElement(dn,{active:2==d?1:0},M.name)),!w&&m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(un,{src:"./svg/channeladmin.svg",active:2==d?1:0}),r.a.createElement(sn,{active:2==d?1:0},"Create Your Channel")))),r.a.createElement(fn,null,0==d&&r.a.createElement(_e,null),1==d&&r.a.createElement(Ue,null),2==d&&!w&&m&&r.a.createElement(ze,{epnscore:t,dai:a}),2==d&&w&&m&&r.a.createElement(oe,{epnscore:t})))},bn=t(209),mn=t(210),hn=t(586),gn=t(585),vn=t(578),xn=t.n(vn),wn=function(e){Object(hn.a)(t,e);var n=Object(gn.a)(t);function t(e){return Object(bn.a)(this,t),n.call(this,e)}return Object(mn.a)(t,[{key:"getOpts",value:function(){return{seed:this.props.opts.seed||"foo",color:this.props.opts.color||"#dfe",bgcolor:this.props.opts.bgcolor||"#a71",size:this.props.opts.size||15,scale:this.props.opts.scale||3,spotcolor:this.props.opts.spotcolor||"#000"}}},{key:"componentDidMount",value:function(){this.draw()}},{key:"componentDidUpdate",value:function(e){this.props.seed!==e.seed&&this.draw()}},{key:"draw",value:function(){xn.a.render({seed:this.props.opts.seed,size:this.props.opts.size,scale:this.props.opts.scale},this.canvas)}},{key:"render",value:function(){var e=this;return r.a.createElement("canvas",{ref:function(n){return e.canvas=n}})}}]),t}(r.a.Component);function En(){var e=Object(s.a)(["\n  margin: 0px 10px;\n  padding: 8px 15px;\n  height: 16px;\n  display: flex;\n  align-items: baseline;\n  justify-content: center;\n  font-weight: bold;\n  font-size: 14px;\n  color: #fff;\n  border-radius: 15px;\n  background: rgb(226,8,128);\n  background: linear-gradient(107deg, rgba(226,8,128,1) 30%, rgba(103,76,159,1) 70%, rgba(53,197,243,1) 100%);\n  &:hover {\n    opacity: 0.9;\n    cursor: pointer;\n    pointer: hand;\n  }\n  &:active {\n    opacity: 0.75;\n    cursor: pointer;\n    pointer: hand;\n  }\n"]);return En=function(){return e},e}function On(){var e=Object(s.a)(["\n"]);return On=function(){return e},e}function jn(){var e=Object(s.a)(["\n  position: relative;\n  width: 50px;\n  height: 50px;\n  border-radius: 100%;\n  overflow: hidden;\n  transform: scale(0.85);\n  outline-width: 2px;\n  outline-color: rgba(225,225,225,1);\n"]);return jn=function(){return e},e}function Tn(){var e=Object(s.a)(["\n  margin: 0;\n  padding: 0;\n  background: none;\n  border: 0;\n  outline: 0;\n  justify-content: flex-start;\n  flex: 1,\n  flex-direction: row;\n  align-items: center;\n  display: flex;\n"]);return Tn=function(){return e},e}var Sn=j.b.button(Tn()),Cn=j.b.div(jn()),kn=j.b.div(On()),Mn=j.b.span(En()),Pn=function(){var e=Object(p.c)(),n=(e.active,e.error),t=e.account,a=e.library,i=(e.chainId,r.a.useState("")),o=Object(l.a)(i,2),c=o[0],u=o[1],s=r.a.useState(""),d=Object(l.a)(s,2),f=d[0],y=d[1],b=r.a.useState(!1),m=Object(l.a)(b,2),h=m[0],g=m[1];return r.a.useEffect((function(){t&&""!=t&&c!==t&&(y(""),g(!1),a.lookupAddress(t).then((function(e){y(e),g(!0),u(t)})).catch((function(){g(!0),u(t)})))}),[t]),r.a.createElement(r.a.Fragment,null,t&&""!==t&&!n&&r.a.createElement(Sn,null,r.a.createElement(Cn,null,r.a.createElement(kn,null,r.a.createElement(wn,{seed:t.toLowerCase(),opts:{seed:t.toLowerCase(),size:7,scale:7}}))),r.a.createElement(Mn,null,!h&&r.a.createElement(v.a,{type:"Oval",color:"#FFF",height:16,width:16}),h&&f&&r.a.createElement(r.a.Fragment,null,f),h&&!f&&r.a.createElement(r.a.Fragment,null,t.substring(0,6),".....",t.substring(t.length-6)))))},An=t(579);function Fn(){var e=Object(s.a)(["\n  position: absolute;\n  font-size: 10px;\n  color: #fff;\n  padding: 2px 4px;\n  border-radius: 100%;\n  background: rgba(208.0, 44.0, 30.0, 1.0);\n  top: 0px;\n  left: 5px;\n  font-weight: bold;\n"]);return Fn=function(){return e},e}function In(){var e=Object(s.a)(["\n  left: 0,\n"]);return In=function(){return e},e}function Nn(){var e=Object(s.a)(["\n    animation: "," 1s ease-out;\n  "]);return Nn=function(){return e},e}function Dn(){var e=Object(s.a)(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n\n  transition: transform .2s ease-out;\n  ",";\n\n\n"]);return Dn=function(){return e},e}function Wn(){var e=Object(s.a)(["\n  0% {\n    -webkit-transform: scale3d(1, 1, 1);\n    -ms-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1);\n  }\n\n  10%, 20% {\n    -webkit-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\n    -ms-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\n    transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\n  }\n\n  30%, 50%, 70%, 90% {\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\n  }\n\n  40%, 60%, 80% {\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\n  }\n\n  100% {\n    -webkit-transform: scale3d(1, 1, 1);\n    -ms-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1);\n  }\n"]);return Wn=function(){return e},e}function zn(){var e=Object(s.a)(["\n  border: 0;\n  outline: 0;\n  background: transparent;\n  border: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 10px;\n  position: relative;\n  height: ","px;\n  width: ","px;\n  &:hover {\n    opacity: 0.9;\n    cursor: pointer;\n    pointer: hand;\n  }\n  &:active {\n    opacity: 0.75;\n    cursor: pointer;\n    pointer: hand;\n  }\n"]);return zn=function(){return e},e}var Kn=j.b.button(zn(),(function(e){return e.height||40}),(function(e){return e.width||40})),Rn=Object(j.c)(Wn()),_n=j.b.img(Dn(),(function(e){return e.height||40}),(function(e){return e.width||40}),(function(e){return e.ringme&&Object(j.a)(Nn(),Rn)})),Yn=Object(j.b)(_n)(In()),Bn=j.b.span(Fn()),Un=function(e){var n=e.badgeCount,t=e.bellPressedCB,a=e.width,i=e.height,o=r.a.useState(0),c=Object(l.a)(o,2),u=c[0],s=c[1],p=r.a.useState(!1),d=Object(l.a)(p,2),f=d[0],y=d[1];r.a.useEffect((function(){s(n),u>0&&b()}),[n]);var b=function(){y(!0),setTimeout((function(){y(!1)}),500)};return r.a.createElement(Kn,{onClick:function(){t&&t()},width:a,height:i},r.a.createElement(_n,{ring:f,src:"./bell.png",className:"tadaaa",ringme:f,width:a,height:i}),r.a.createElement(Yn,{src:"./bellball.png",width:a,height:i}),r.a.createElement(Yn,{src:"./ring.png",width:a,height:i}),0!=u&&r.a.createElement(An.AnimateOnChange,{animationIn:"fadeIn",animationOut:"fadeOut",durationOut:200},r.a.createElement(Bn,null,u)))};function Jn(){var e=Object(s.a)(["\n    background: #DC143C;\n  "]);return Jn=function(){return e},e}function Ln(){var e=Object(s.a)(["\n    background: #FFAE42;\n  "]);return Ln=function(){return e},e}function Hn(){var e=Object(s.a)(["\n    background: #77DD77;\n  "]);return Hn=function(){return e},e}function Gn(){var e=Object(s.a)(["\n  height: 10px;\n  width: 10px;\n  border-radius: 100%;\n  flex-shrink: 0;\n\n  ",";\n\n  ",";\n\n  ",";\n"]);return Gn=function(){return e},e}function qn(){var e=Object(s.a)(["\n  background: #674c9f;\n"]);return qn=function(){return e},e}function Vn(){var e=Object(s.a)(["\n  background: #e20880;\n"]);return Vn=function(){return e},e}function Zn(){var e=Object(s.a)(["\n  border: 0;\n  outline: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 8px 15px;\n  margin: 10px;\n  color: #fff;\n  border-radius: 20px;\n  font-size: 14px;\n"]);return Zn=function(){return e},e}function Qn(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Qn=function(){return e},e}function Xn(){var e=Object(s.a)(["\n\n"]);return Xn=function(){return e},e}function $n(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return $n=function(){return e},e}function et(){var e=Object(s.a)(["\n  height: 45px;\n"]);return et=function(){return e},e}function nt(){var e=Object(s.a)(["\n  display: flex;\n  flex: 1;\n  justfy-content: flex-start;\n"]);return nt=function(){return e},e}function tt(){var e=Object(s.a)(["\n  height: 100%;\n  padding: 10px 15px;\n  background: rgb(255,255,255);\n  background: linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 21%);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n"]);return tt=function(){return e},e}var at=j.b.div(tt()),rt=j.b.div(nt()),it=j.b.img(et()),ot=j.b.div($n()),ct=(j.b.button(Xn()),j.b.div(Qn())),ut=j.b.span(Zn()),st=Object(j.b)(ut)(Vn()),lt=Object(j.b)(ut)(qn()),pt=j.b.span(Gn(),(function(e){return"active"===e.phase&&Object(j.a)(Hn())}),(function(e){return"waiting"===e.phase&&Object(j.a)(Ln())}),(function(e){return"error"===e.phase&&Object(j.a)(Jn())})),dt=function(e){var n=e.badgeCount,t=e.bellPressedCB,a=Object(p.c)(),i=a.active,o=a.error,c=a.account;return a.chainId,new Array(4),r.a.useEffect((function(){}),[c]),r.a.createElement(at,null,r.a.createElement(rt,null,i&&!o&&r.a.createElement(Pn,null),!i&&r.a.createElement(it,{src:"epns.png"})),r.a.createElement(ot,null,i&&!o&&r.a.createElement(Un,{badgeCount:n,bellPressedCB:t,width:40,height:40})),r.a.createElement(ct,null,!!o&&r.a.createElement(st,null,function(e){return e instanceof d.b?"Web3 not enabled, install MetaMask on desktop or visit from a dApp browser on mobile":e instanceof p.a?"Unsupported Network, please connect to Ropsten":e instanceof d.c?"Please authorize this website to access the dApp":(console.error(e),"An unknown error occurred. Check the console for more details")}(o)),!i&&!o&&r.a.createElement(lt,null,"Please connect to a Web3 Network"),r.a.createElement(pt,{phase:i?"active":o?"error":"waiting"})))},ft=t(137);function yt(){var e=Object(s.a)(["\n  font-size: 12px;\n  margin: 5px;\n"]);return yt=function(){return e},e}function bt(){var e=Object(s.a)(["\n  height: 60px;\n  padding: 10px;\n"]);return bt=function(){return e},e}function mt(){var e=Object(s.a)(["\n  flex: 1 1 0;\n  min-width: 200px;\n  background: #fff;\n  outline: 0;\n  max-width: 200px;\n\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\n  border-radius: 15px;\n  border: 1px solid rgb(225,225,225);\n\n  margin: 20px;\n  overflow: hidden;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  &:hover {\n    opacity: 0.9;\n    cursor: pointer;\n    pointer: hand;\n    border: 1px solid ","\n  }\n  &:active {\n    opacity: 0.75;\n    cursor: pointer;\n    pointer: hand;\n    border: 1px solid ","\n  }\n"]);return mt=function(){return e},e}function ht(){var e=Object(s.a)(["\n  flex-wrap: wrap;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return ht=function(){return e},e}function gt(){var e=Object(s.a)(["\n  width: 15vw;\n  align-self: center;\n  display: flex;\n  margin: 20px;\n  min-width: 200px;\n"]);return gt=function(){return e},e}function vt(){var e=Object(s.a)(["\n  display: flex;\n  flex: 1,\n  align-self: center;\n  flex-direction: column;\n"]);return vt=function(){return e},e}function xt(){var e=Object(s.a)(["\n  display: flex;\n  flex: 1;\n  align-self: center;\n  width: 100%;\n  max-width: 940px;\n"]);return xt=function(){return e},e}function wt(){var e=Object(s.a)(["\n  flex-wrap: wrap;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 80px 20px 20px 20px;\n  flex: 1;\n"]);return wt=function(){return e},e}function Et(){var e=Object(s.a)(["\n  height: 55px;\n  left: 0;\n  right: 0;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  z-index: 999;\n"]);return Et=function(){return e},e}ft.config();var Ot={Injected:b,Network:m,Portis:h};function jt(e,n){return new x.ethers.providers.Web3Provider(e)}var Tt=function(){return r.a.createElement(p.b,{getLibrary:jt},r.a.createElement(St,null))};function St(){var e=Object(p.c)(),n=e.connector,t=e.library,i=e.chainId,o=e.account,c=e.activate,u=e.deactivate,s=e.active,d=e.error,f=r.a.useState(0),y=Object(l.a)(f,2),g=y[0],x=y[1],w=r.a.useState(0),E=Object(l.a)(w,2),O=E[0],j=E[1],T=r.a.useState(),S=Object(l.a)(T,2),C=S[0],k=S[1];r.a.useEffect((function(){C&&C===n&&k(void 0)}),[C,n]);var M=function(){var e=Object(p.c)(),n=e.activate,t=e.active,r=Object(a.useState)(!1),i=Object(l.a)(r,2),o=i[0],c=i[1];return Object(a.useEffect)((function(){b.isAuthorized().then((function(e){e?n(b,void 0,!0).catch((function(){c(!0)})):c(!0)}))}),[]),Object(a.useEffect)((function(){!o&&t&&c(!0)}),[o,t]),o}();return function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(p.c)(),t=n.active,r=n.error,i=n.activate;Object(a.useEffect)((function(){var n=window.ethereum;if(n&&n.on&&!t&&!r&&!e){var a=function(){console.log("Handling 'connect' event"),i(b)},o=function(e){console.log("Handling 'chainChanged' event with payload",e),i(b)},c=function(e){console.log("Handling 'accountsChanged' event with payload",e),e.length>0&&i(b)},u=function(e){console.log("Handling 'networkChanged' event with payload",e),i(b)};return n.on("connect",a),n.on("chainChanged",o),n.on("accountsChanged",c),n.on("networkChanged",u),function(){n.removeListener&&(n.removeListener("connect",a),n.removeListener("chainChanged",o),n.removeListener("accountsChanged",c),n.removeListener("networkChanged",u))}}}),[t,r,e,i])}(!M||!!C),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct,null,r.a.createElement(dt,{badgeCount:g,bellPressedCB:function(){j(O+1)}})),r.a.createElement(kt,null,s&&!d&&r.a.createElement(Mt,null,r.a.createElement(yn,{setBadgeCount:x,bellPressed:O,epnscore:"0x42d10cdd9cdc4ae284e4bec54e204dbdc44adf9a",dai:"0xf80A32A835F79D7787E8a8ee5721D0fEaFd78108"})),!s&&r.a.createElement(Pt,null,r.a.createElement(At,{src:"./epnsbell.png"}),r.a.createElement(Ft,null,Object.keys(Ot).map((function(e){var t=Ot[e],a=t===C,i=!M||!!C||t===n||!!d,o="Injected"===e?"./metamask.png":"Portis"===e?"./portis.png":"./ninja.png";return r.a.createElement(It,{disabled:i,key:e,onClick:function(){k(t),c(Ot[e])},border:"Injected"===e?"#e20880":"Portis"===e?"#35c5f3":"#674c9f"},r.a.createElement(Nt,{src:o}),r.a.createElement(Dt,null,a&&r.a.createElement(v.a,{type:"Oval",color:"#35c5f3",height:20,width:20}),!a&&r.a.createElement(r.a.Fragment,null,"Injected"===e?"Connect with MetaMask":"Portis"===e?"Connect with Portis":"Login as Ninja")))})))),s&&r.a.createElement("div",{style:{display:"grid",gridGap:"1rem",gridTemplateColumns:"fit-content",maxWidth:"20rem",margin:"auto",marginTop:"1200px"}},(s||d)&&r.a.createElement("button",{style:{height:"3rem",marginTop:"2rem",borderRadius:"1rem",borderColor:"red",cursor:"pointer"},onClick:function(){u()}},"Deactivate"),!(!t||!o)&&r.a.createElement("button",{style:{height:"3rem",borderRadius:"1rem",cursor:"pointer"},onClick:function(){t.getSigner(o).signMessage("\ud83d\udc4b").then((function(e){window.alert("Success!\n\n".concat(e))})).catch((function(e){window.alert("Failure!"+(e&&e.message?"\n\n".concat(e.message):""))}))}},"Sign Message"),!(n!==m||!i)&&r.a.createElement("button",{style:{height:"3rem",borderRadius:"1rem",cursor:"pointer"},onClick:function(){n.changeChainId(1===i?3:1)}},"Switch Networks"),n===h&&r.a.createElement(r.a.Fragment,null,void 0!==i&&r.a.createElement("button",{style:{height:"3rem",borderRadius:"1rem",cursor:"pointer"},onClick:function(){n.changeNetwork(1===i?100:1)}},"Switch Networks"),r.a.createElement("button",{style:{height:"3rem",borderRadius:"1rem",cursor:"pointer"},onClick:function(){n.close()}},"Kill Portis Session")))))}var Ct=j.b.div(Et()),kt=j.b.div(wt()),Mt=j.b.div(xt()),Pt=j.b.div(vt()),At=j.b.img(gt()),Ft=j.b.div(ht()),It=j.b.button(mt(),(function(e){return e.border}),(function(e){return e.border})),Nt=j.b.img(bt()),Dt=j.b.span(yt());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));ft.config();var Wt=new c.a({uri:"https://api.thegraph.com/subgraphs/name/paulrberg/create-eth-app"});o.a.render(r.a.createElement(u.a,{client:Wt},r.a.createElement(Tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},283:function(e,n){},527:function(e,n){},569:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},570:function(e){e.exports=JSON.parse('[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},571:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_epnsServerAddress","type":"address"},{"internalType":"address","name":"_lendingPoolProviderAddress","type":"address"},{"internalType":"address","name":"_daiAddress","type":"address"},{"internalType":"address","name":"_aDaiAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"channel","type":"address"},{"indexed":false,"internalType":"string","name":"ipfshash","type":"string"}],"name":"AddChannel","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"donator","type":"address"},{"indexed":false,"internalType":"uint256","name":"amt","type":"uint256"}],"name":"Donation","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"bytes","name":"publickey","type":"bytes"}],"name":"PublicKeyRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"channel","type":"address"},{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint16","name":"msgType","type":"uint16"},{"indexed":false,"internalType":"string","name":"ipfshash","type":"string"},{"indexed":false,"internalType":"bool","name":"usePush","type":"bool"}],"name":"SendMessage","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"channel","type":"address"},{"indexed":false,"internalType":"address","name":"user","type":"address"}],"name":"Subscribe","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"channel","type":"address"},{"indexed":false,"internalType":"address","name":"user","type":"address"}],"name":"Unsubscribe","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"channel","type":"address"},{"indexed":false,"internalType":"string","name":"ipfshash","type":"string"}],"name":"UpdateChannel","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdrawal","type":"event"},{"stateMutability":"nonpayable","type":"fallback"},{"inputs":[],"name":"aDaiAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"channels","outputs":[{"internalType":"enum EPNSCore.ChannelType","name":"channelType","type":"uint8"},{"internalType":"uint256","name":"poolContribution","type":"uint256"},{"internalType":"bool","name":"deactivated","type":"bool"},{"internalType":"uint256","name":"memberCount","type":"uint256"},{"internalType":"uint256","name":"channelHistoricalZ","type":"uint256"},{"internalType":"uint256","name":"channelFairShareCount","type":"uint256"},{"internalType":"uint256","name":"channelLastUpdate","type":"uint256"},{"internalType":"uint256","name":"channelStartBlock","type":"uint256"},{"internalType":"uint256","name":"channelWeight","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"channelsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"daiAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"epnsServerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"groupFairShareCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"groupHistoricalZ","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"groupLastUpdate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"groupNormalizedWeight","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lendingPoolProviderAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"mapAddressChannels","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ownerDaiFunds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"poolFunds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"users","outputs":[{"internalType":"uint256","name":"userStartBlock","type":"uint256"},{"internalType":"bool","name":"userActivated","type":"bool"},{"internalType":"bool","name":"publicKeyRegistered","type":"bool"},{"internalType":"bool","name":"channellized","type":"bool"},{"internalType":"uint256","name":"subscribedCount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"usersCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"},{"inputs":[{"internalType":"bytes","name":"_publicKey","type":"bytes"}],"name":"broadcastUserPublicKey","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_ipfshash","type":"string"},{"internalType":"bytes","name":"_publickey","type":"bytes"}],"name":"createChannelWithFessAndPublicKey","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_ipfshash","type":"string"}],"name":"createChannelWithFees","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"deactivateChannel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"address","name":"_user","type":"address"},{"internalType":"bytes","name":"_publicKey","type":"bytes"}],"name":"subscribeWithPublicKeyDelegated","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"address","name":"_user","type":"address"}],"name":"subscribeDelegated","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"bytes","name":"_publicKey","type":"bytes"}],"name":"subscriberWithPublicKey","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"}],"name":"subsribe","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"}],"name":"unsubscribe","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimFairShare","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_recipient","type":"address"},{"internalType":"uint16","name":"_msgType","type":"uint16"},{"internalType":"string","name":"_ipfshash","type":"string"},{"internalType":"bool","name":"_usePush","type":"bool"}],"name":"sendMessage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"address","name":"_recipient","type":"address"},{"internalType":"uint16","name":"_msgType","type":"uint16"},{"internalType":"string","name":"_ipfshash","type":"string"},{"internalType":"bool","name":"_usePush","type":"bool"}],"name":"sendMessageOverrideChannel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawDaiFunds","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawEthFunds","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"donate","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"uint256","name":"_block","type":"uint256"}],"name":"getChannelFSRatio","outputs":[{"internalType":"uint256","name":"ratio","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"address","name":"_user","type":"address"},{"internalType":"uint256","name":"_block","type":"uint256"}],"name":"getSubscriberFSRatio","outputs":[{"internalType":"uint256","name":"ratio","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"address","name":"_user","type":"address"},{"internalType":"uint256","name":"_block","type":"uint256"}],"name":"calcSingleChannelEarnRatio","outputs":[{"internalType":"uint256","name":"ratio","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"},{"internalType":"uint256","name":"_block","type":"uint256"}],"name":"calcAllChannelsRatio","outputs":[{"internalType":"uint256","name":"ratio","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"_publicKey","type":"bytes"}],"name":"getWalletFromPublicKey","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"}]')},578:function(e,n,t){!function(){var n=new Array(4);function t(){var e=n[0]^n[0]<<11;return n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=n[3]^n[3]>>19^e^e>>8,(n[3]>>>0)/(1<<31>>>0)}function a(){return"hsl("+Math.floor(360*t())+","+(60*t()+40+"%")+","+(25*(t()+t()+t()+t())+"%")+")"}function r(e){var t={};return t.seed=e.seed||Math.floor(Math.random()*Math.pow(10,16)).toString(16),function(e){for(var t=0;t<n.length;t++)n[t]=0;for(t=0;t<e.length;t++)n[t%4]=(n[t%4]<<5)-n[t%4]+e.charCodeAt(t)}(t.seed),t.size=e.size||8,t.scale=e.scale||4,t.color=e.color||a(),t.bgcolor=e.bgcolor||a(),t.spotcolor=e.spotcolor||a(),t}function i(e,n){var a=function(e){for(var n=e,a=e,r=Math.ceil(n/2),i=n-r,o=[],c=0;c<a;c++){for(var u=[],s=0;s<r;s++)u[s]=Math.floor(2.3*t());var l=u.slice(0,i);l.reverse(),u=u.concat(l);for(var p=0;p<u.length;p++)o.push(u[p])}return o}((e=r(e||{})).size),i=Math.sqrt(a.length);n.width=n.height=e.size*e.scale;var o=n.getContext("2d");o.fillStyle=e.bgcolor,o.fillRect(0,0,n.width,n.height),o.fillStyle=e.color;for(var c=0;c<a.length;c++)if(a[c]){var u=Math.floor(c/i),s=c%i;o.fillStyle=1==a[c]?e.color:e.spotcolor,o.fillRect(s*e.scale,u*e.scale,e.scale,e.scale)}return n}var o={create:function(e){var n=document.createElement("canvas");return i(e,n),n},render:i};e.exports=o,"undefined"!==typeof window&&(window.blockies=o)}()},590:function(e,n,t){e.exports=t(1441)},595:function(e,n,t){},602:function(e,n){},604:function(e,n){},621:function(e,n){},623:function(e,n){},641:function(e,n){},643:function(e,n){},874:function(e,n){},875:function(e,n){},966:function(e,n){},968:function(e,n){},975:function(e,n){},976:function(e,n){}},[[590,1,2]]]);
//# sourceMappingURL=main.bf30085f.chunk.js.map