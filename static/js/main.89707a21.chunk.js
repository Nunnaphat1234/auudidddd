(this["webpackJsonp@project/react-app"]=this["webpackJsonp@project/react-app"]||[]).push([[0],{1022:function(e,n){},1024:function(e,n){},1026:function(e,n){},1064:function(e,n){},1066:function(e,n){},1073:function(e,n){},1075:function(e,n){},108:function(e,n,t){"use strict";(function(e){var a=t(2),r=t.n(a),o=t(9),i=t(223),c=t(106),s=t(222),u=t(936),l={encryptWithAES:function(e,n){return u.AES.encrypt(e,n).toString()},decryptWithAES:function(e,n){return u.AES.decrypt(e,n).toString(u.enc.Utf8)},encryptWithECIES:function(){var e=Object(o.a)(r.a.mark((function e(n,t){var a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.a.publicKey.compress(t),e.next=3,this.encryptWithPublicKey(n,a);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),decryptWithECIES:function(){var e=Object(o.a)(r.a.mark((function e(n,t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.decryptWithPrivateKey(n,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),encryptWithPublicKey:function(){var n=Object(o.a)(r.a.mark((function n(t,a){var o,i,u,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=Uint8Array.from(new e(a,"hex")),i=Object(s.publicKeyConvert)(o,!1),u=new e(i),l=new e(u,"hex"),n.abrupt("return",Object(c.encrypt)(l,e(t)).then((function(n){var t={iv:n.iv.toString("hex"),ephemPublicKey:n.ephemPublicKey.toString("hex"),ciphertext:n.ciphertext.toString("hex"),mac:n.mac.toString("hex")},a=Uint8Array.from(new e(t.ephemPublicKey,"hex")),r=Object(s.publicKeyConvert)(a,!0),o=new e(r).toString("hex");return e.concat([new e(t.iv,"hex"),new e(o,"hex"),new e(t.mac,"hex"),new e(t.ciphertext,"hex")]).toString("hex")})));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),decryptWithPrivateKey:function(){var n=Object(o.a)(r.a.mark((function n(t,a){var o,i,u,l,p,f,d,b;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=new e(o=t,"hex"),o={iv:i.toString("hex",0,16),ephemPublicKey:i.toString("hex",16,49),mac:i.toString("hex",49,81),ciphertext:i.toString("hex",81,i.length)},u=Uint8Array.from(new e(o.ephemPublicKey,"hex")),l=Object(s.publicKeyConvert)(u,!1),p=new e(l),f=p.toString("hex"),o.ephemPublicKey=f,d=a.substring(2),b={iv:new e(o.iv,"hex"),ephemPublicKey:new e(o.ephemPublicKey,"hex"),ciphertext:new e(o.ciphertext,"hex"),mac:new e(o.mac,"hex")},n.abrupt("return",Object(c.decrypt)(new e(d,"hex"),b).then((function(e){return e.toString()})));case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),encryptionDecryptionPublicToPrivateTest:function(){var e=Object(o.a)(r.a.mark((function e(n){var t,a,o,c,s,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,console.log("[ENCRYPTION / DECRYPTION TEST STARTED] - "+t),a=i.a.publicKeyByPrivateKey(n),o=i.a.publicKey.compress(a),"PartialStringAS",e.next=7,this.encryptWithPublicKey("PartialStringAS",o);case 7:return c=e.sent,console.log("Encryped Message With compressed public key:"+c),s=(new Date).getTime()-t.getTime(),console.log("[ENCRYPTION / DECRYPTION ENCRYPTION DONE] - "+s/1e3+" secs"),e.next=13,this.decryptWithPrivateKey(c,n);case 13:u=e.sent,console.log("[ENCRYPTION / DECRYPTION DECRYPTED MESSAGE] - '"+u+"'"),l=(new Date).getTime()-t.getTime()-s,console.log("[ENCRYPTION / DECRYPTION DECRYPTION DONE] - "+l/1e3+" secs");case 17:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),outputMsgPayload:function(){var e=Object(o.a)(r.a.mark((function e(n,t,a,o,i,c){var s,u,l,p,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[AES ENCRYTED FORMAT ("+new Date+")"),console.log("---------------------"),console.log("secret --\x3e "),e.next=5,this.encryptWithECIES(n,c);case 5:return s=e.sent,u=this.encryptWithAES(t,n),l=this.encryptWithAES(a,n),p=this.encryptWithAES(o,n),f=this.encryptWithAES(i,n),console.log(s),console.log("asub --\x3e "),console.log(u),console.log("amsg --\x3e "),console.log(l),console.log("acta --\x3e "),console.log(p),console.log("aimg --\x3e "),console.log(f),console.log("decrypted secret --\x3e "),e.t0=console,e.next=23,this.decryptWithECIES(s,c);case 23:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),console.log("decrypted asub --\x3e "),console.log(this.decryptWithAES(u,n)),console.log("decrypted amsg --\x3e "),console.log(this.decryptWithAES(l,n)),console.log("decrypted acta --\x3e "),console.log(this.decryptWithAES(p,n)),console.log("decrypted aimg --\x3e "),console.log(this.decryptWithAES(f,n));case 33:case"end":return e.stop()}}),e,this)})));return function(n,t,a,r,o,i){return e.apply(this,arguments)}}(),makeid:function(e){for(var n="["+(new Date).toISOString()+"] ",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=t.length,r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*a));return n}};n.a=l}).call(this,t(1).Buffer)},1084:function(e,n){},1086:function(e,n){},1264:function(e,n){},1449:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(318),i=t.n(o),c=t(591),s=t(1453),u=(t(603),t(4)),l=t(12),p=t(107),f=t(45),d=t.n(f),b=t(5),h=t(23),m=t(89),y=t(572),g=t(573);t(141).config();var v=new m.a({supportedChainIds:[3]}),x=new g.a({urls:{3:"https://ropsten.infura.io/v3/084ddf3da9e240c5b5dd9264f37c0526"},defaultChainId:3,pollingInterval:12e3}),w=new y.a({dAppId:"cfefa032-9afd-4833-bfb4-2b0cb7ec3413",networks:[1,100]});t(141).config();var O=t(57),j=t(2),C=t.n(j),E=t(9),k=t(143),A=t(221),S=t(577),T=t(578),M=t(579),P={ceaErc20:"0xc1C0472c0C80bCcDC7F5D01A376Bd97a734B8815",epnscore:"0x42d10cdd9cdc4ae284e4bec54e204dbdc44adf9a",dai:"0xf80A32A835F79D7787E8a8ee5721D0fEaFd78108"},F={erc20:S,ownable:T,epnscore:M},R=t(140),N={getUserInfo:function(){var e=Object(E.a)(C.a.mark((function e(n,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){t.users(n).then((function(n){console.log("getUserInfo() --\x3e %o",n),e(n)})).catch((function(e){console.log("!!!Error, getUserInfo() --\x3e %o",e),a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),getChannelAddressFromID:function(){var e=Object(E.a)(C.a.mark((function e(n,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){t.mapAddressChannels(n).then((function(n){console.log("getChannelAddressFromID() --\x3e %o",n.toString()),e(n.toString())})).catch((function(e){console.log("!!!Error, getChannelAddressFromID() --\x3e %o",e),a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),getChannelInfo:function(){var e=Object(E.a)(C.a.mark((function e(n,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){t.channels(n).then((function(t){var a=Object(A.a)({},t);a.addr=n,console.log("getChannelInfo() --\x3e %o",a),e(a)})).catch((function(e){console.log("!!!Error, getChannelInfo() --\x3e %o",e),a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),getChannelAddEvent:function(){var e=Object(E.a)(C.a.mark((function e(n,t,a,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){r.queryFilter("AddChannel",t,a).then((function(t){var a;t.forEach((function(e){e.args[0]==n&&(a=e)})),console.log("getChannelAddEvent() --\x3e %o",a),e(a)})).catch((function(e){console.log("!!!Error, getChannelAddEvent() --\x3e %o",e),o(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t,a,r){return e.apply(this,arguments)}}(),getJsonFileFromIPFSHash:function(){var e=Object(E.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){fetch("https://ipfs.io/ipfs/"+n).then((function(e){return e.json()})).then((function(n){console.log("getJsonFileFromIPFSHash() --\x3e %o",n),e(n)})).catch((function(e){console.log("!!!Error, getJsonFileFromIPFSHash() --\x3e %o",e),t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getChannelJsonFromChannelAddress:function(){var e=Object(E.a)(C.a.mark((function e(n,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){N.getChannelInfo(n,t).then((function(e){return N.getChannelAddEvent(n,e.channelStartBlock.toNumber(),e.channelStartBlock.toNumber(),t)})).then((function(e){return N.getJsonFileFromIPFSHash(e.args[1])})).then((function(n){console.log("getChannelJsonFromChannelAddress() --\x3e %o",n),e(n)})).catch((function(e){console.log("!!!Error, getChannelJsonFromChannelAddress() --\x3e %o",e),a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),getChannelJsonFromUserAddress:function(){var e=Object(E.a)(C.a.mark((function e(n,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){N.getUserInfo(n,t).then((function(e){return N.getChannelJsonFromChannelAddress(n,t)})).then((function(n){console.log("getChannelJsonFromUserAddress() --\x3e %o",n),e(n)})).catch((function(e){console.log("!!!Error, getChannelJsonFromUserAddress() --\x3e %o",e),a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),getTotalNumberOfChannels:function(){var e=Object(E.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){n.channelsCount().then((function(n){console.log("getTotalNumberOfChannels() --\x3e %o",n.toNumber()),e(n.toNumber())})).catch((function(e){console.log("!!!Error, getTotalNumberOfChannels() --\x3e %o",e),t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getChannelsMetaLatestToOldest:function(){var e=Object(E.a)(C.a.mark((function e(n,t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){N.getTotalNumberOfChannels(a).then(function(){var r=Object(E.a)(C.a.mark((function r(o){var i,c,s,u,l,p;return C.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(i=[],(n>(c=o)||-1==n)&&(n=c-1),-1==t&&(t=c),s=[],0,u=t-1;u>=0;u--)l=n-u,s.push(l);return p=s.map(function(){var e=Object(E.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getChannelAddressFromID(n,a).then((function(e){return N.getChannelInfo(e,a)})).then((function(e){i=[e].concat(Object(k.a)(i))})).catch((function(e){return console.log("Error in channel: %d | skipping...",n)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),r.next=10,Promise.all(p);case 10:console.log("getChannelsMetaLatestToOldest(Index: %d, Number: %d) --\x3e %o",n,t,i),e(i);case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()).catch((function(e){console.log("!!!Error, getChannelsMetaLatestToOldest() --\x3e %o",e),r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t,a){return e.apply(this,arguments)}}(),getTotalNumberOfUsers:function(){var e=Object(E.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){n.usersCount().then((function(n){console.log("getTotalNumberOfUsers() --\x3e %o",n.toNumber()),e(n.toNumber())})).catch((function(e){console.log("!!!Error, getTotalNumberOfUsers() --\x3e %o",e),t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),getPublicKey:function(){var e=Object(E.a)(C.a.mark((function e(n,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){var r;t.queryFilter("PublicKeyRegistered").then((function(t){t.forEach((function(e){e.args[0]==n&&(r=e)})),console.log("Full Response: "),console.log(t),console.log("Filtered Response: "),console.log(r),0==r.length?a():e(r.args[1])})).catch((function(e){console.log(e),a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),getTotalSubscribedChannels:function(){var e=Object(E.a)(C.a.mark((function e(n,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){t.users[n].subscribedCount().then((function(n){console.log("getTotalSubscribedChannels() --\x3e %o",n.toNumber()),e(n.toNumber())})).catch((function(e){console.log("!!!Error, getTotalSubscribedChannels() --\x3e %o",e),a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),formatBigNumberToMetric:function(e){var n=e.toNumber();return N.metricFormatter(n,2)},metricFormatter:function(e,n){var t,a=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}];for(t=a.length-1;t>0&&!(e>=a[t].value);t--);return(e/a[t].value).toFixed(n).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+a[t].symbol}},I=N,D=t(108);function U(){var e=Object(u.a)(["\n  border: 0;\n  outline: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  border-radius: 20px;\n  font-size: 14px;\n  background: ",";\n  border-radius: 8px;\n  padding: 16px;\n  font-size: 16px;\n  font-weight: 400;\n  flex: 1;\n  margin: 10px 20px;\n"]);return U=function(){return e},e}function W(){var e=Object(u.a)(["\n  width: 150px;\n"]);return W=function(){return e},e}function z(){var e=Object(u.a)(["\n\n"]);return z=function(){return e},e}function _(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return _=function(){return e},e}function J(){var e=Object(u.a)(["\n  margin: 20px 20px 10px 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return J=function(){return e},e}function K(){var e=Object(u.a)(["\n  border-bottom: 1px solid #674c9f;\n  font-size: 1=8px;\n"]);return K=function(){return e},e}function L(){var e=Object(u.a)(["\n  outline: 0;\n  border: 0;\n  border-bottom: 1px solid #35c5f3;\n  margin: 10px;\n  font-size: 18px;\n  min-height: 80px;\n  color: #111;\n  flex: 1;\n"]);return L=function(){return e},e}function B(){var e=Object(u.a)(["\n  border-bottom: 1px solid #e20880;\n  font-size: 24px;\n"]);return B=function(){return e},e}function H(){var e=Object(u.a)(["\n  border: 0px;\n  outline: 0px;\n  border-bottom: 1px solid #ddd;\n  margin: 25px 10px;\n  padding: 5px;\n  flex: 1;\n"]);return H=function(){return e},e}function Y(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Y=function(){return e},e}function V(){var e=Object(u.a)(["\n  display: flex;\n    justify-content: space-around;\n"]);return V=function(){return e},e}function G(){var e=Object(u.a)(["\n  padding-bottom: 20px;\n  font-size: 14px;\n  color: #000;\n"]);return G=function(){return e},e}function q(){var e=Object(u.a)(["\n  color: #674c9f;\n  font-size: 30px;\n  font-weight: 300;\n  margin-top: 0px;\n  margin-bottom: 30px;\n"]);return q=function(){return e},e}function $(){var e=Object(u.a)(["\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n"]);return $=function(){return e},e}function Z(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return Z=function(){return e},e}function Q(){var e=Object(u.a)(["\n  flex: 1;\n  display: flex;\n  padding: 20px;\n  width: '100%';\n"]);return Q=function(){return e},e}var X=t(57);t(419)();var ee=b.b.div(Q()),ne=b.b.div(Z()),te=b.b.div($()),ae=b.b.h1(q()),re=b.b.label(G()),oe=Object(b.b)(re)(V()),ie=b.b.div(Y()),ce=b.b.input(H()),se=(Object(b.b)(ce)(B()),b.b.textarea(L())),ue=(Object(b.b)(ce)(K()),b.b.div(J()),b.b.div(_())),le=b.b.span(z()),pe=b.b.span(W()),fe=b.b.button(U(),(function(e){return e.theme||"#674c9f"})),de=function(e){var n=e.epnscore,a=Object(h.c)(),o=(a.active,a.error,a.account),i=a.library,c=(a.chainId,r.a.useState(!1)),s=Object(l.a)(c,2),u=s[0],p=s[1],f=r.a.useState(""),b=Object(l.a)(f,2),m=b[0],y=b[1],g=r.a.useState(""),v=Object(l.a)(g,2),x=(v[0],v[1],r.a.useState("")),w=Object(l.a)(x,2),O=w[0],j=w[1],k=r.a.useState(""),A=Object(l.a)(k,2),S=A[0],T=A[1],M=r.a.useState(""),P=Object(l.a)(M,2),R=P[0],N=P[1],U=r.a.useState(""),W=Object(l.a)(U,2),z=W[0],_=W[1],J=r.a.useState(""),K=Object(l.a)(J,2),L=K[0],B=K[1];r.a.useEffect((function(){}));var H=function(){var e=Object(E.a)(C.a.mark((function e(){var a,r,c,s,u,l,f,d,b,h,y,g,v,x,w;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),a=i.getSigner(o),r=new X.Contract(n,F.epnscore,a),c=S,s=R,"2"!==O&&2!=parseInt(O)){e.next=21;break}return h=D.a.makeid(14),c="You have a secret message!",s="Open the app to see your secret message!",e.next=11,I.getPublicKey(m,r);case 11:return y=e.sent,g=y.toString().substring(2),console.log("This is public Key: "+g),e.next=16,D.a.encryptWithECIES(h,g);case 16:u=e.sent,l=D.a.encryptWithAES(S,h),f=D.a.encryptWithAES(R,h),d=D.a.encryptWithAES(z,h),b=D.a.encryptWithAES(L,h);case 21:return v=JSON.stringify({notification:{title:c,body:s},data:{type:O,secret:u,asub:l,amsg:f,acta:d,aimg:b}}),x=t(568).at("https://ipfs.infura.io:5001"),console.log("sending payload"),e.next=26,x.add(v);case 26:w=e.sent,console.log("IPFS cid:",w),r.sendMessage(m,O,w,1).then((function(e){console.log(e),console.log("Check: "+o)}));case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(ee,null,r.a.createElement(ne,null,r.a.createElement(te,null,r.a.createElement(ae,null,"Send Message!"),r.a.createElement(re,null,"EPNS supports three types of messages (for now!). ",r.a.createElement("b",null,"Groups"),", ",r.a.createElement("b",null,"Secrets")," and ",r.a.createElement("b",null,"Targetted"),"."),r.a.createElement(re,null,"Group messages go to all people subscribed in the group. Secrets are encrypted and go to a specific subscriber (no one else can view it, thanks crypto!), Targetted are non-encrypted secrets mostly sent from the EPNS group to channel owners.")),r.a.createElement(ie,null,r.a.createElement(ue,null,r.a.createElement(pe,null,"Message Type"),r.a.createElement(ce,{placeholder:" (1 for Normal, 2 for Secret)",value:O,onChange:function(e){j(e.target.value)}})),r.a.createElement(ue,null,r.a.createElement(pe,null,"Recipient"),r.a.createElement(ce,{placeholder:"Channel Address for msg type 1, recipient for 2",value:m,onChange:function(e){y(e.target.value)}})),r.a.createElement(ue,null,r.a.createElement(pe,null,"Subject"),r.a.createElement(ce,{placeholder:"The subject of the topic",value:S,onChange:function(e){T(e.target.value)}})),r.a.createElement(ue,null,r.a.createElement(pe,null,"Message"),r.a.createElement(se,{placeholder:"The message to deliver",maxlength:"500",value:R,onChange:function(e){N(e.target.value)}})),r.a.createElement(ue,null,r.a.createElement(pe,null,"Call to Action"),r.a.createElement(ce,{placeholder:"Call to action url if any",maxlength:"200",value:z,onChange:function(e){_(e.target.value)}})),r.a.createElement(ue,null,r.a.createElement(pe,null,"Image url"),r.a.createElement(ce,{placeholder:"Image url if any",maxlength:"200",value:L,onChange:function(e){B(e.target.value)}}))),r.a.createElement(oe,null,r.a.createElement(fe,{theme:"#674c9f",disabled:u,onClick:H},u&&r.a.createElement(d.a,{type:"Oval",color:"#FFF",height:16,width:16}),!u&&r.a.createElement(le,null,"Group Message")),r.a.createElement(fe,{theme:"#e20880",disabled:u,onClick:H},u&&r.a.createElement(d.a,{type:"Oval",color:"#FFF",height:16,width:16}),!u&&r.a.createElement(le,null,"Secret Message")))))},be=(t(1446),t(585)),he=t.n(be);function me(){var e=Object(u.a)(["\n  border: 0;\n  outline: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n  border-radius: 20px;\n  font-size: 14px;\n  background: ",";\n  margin: 30px 0px 0px 0px;\n  border-radius: 8px;\n  padding: 16px;\n  font-size: 16px;\n  font-weight: 400;\n"]);return me=function(){return e},e}function ye(){var e=Object(u.a)(["\n\n"]);return ye=function(){return e},e}function ge(){var e=Object(u.a)(["\n  margin: 20px 20px 10px 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return ge=function(){return e},e}function ve(){var e=Object(u.a)(["\n  border-bottom: 1px solid #674c9f;\n  font-size: 1=8px;\n"]);return ve=function(){return e},e}function xe(){var e=Object(u.a)(["\n  outline: 0;\n  border: 0;\n  border-bottom: 1px solid #35c5f3;\n  margin: 10px;\n  font-size: 18px;\n  min-height: 80px;\n  color: #111;\n"]);return xe=function(){return e},e}function we(){var e=Object(u.a)(["\n  border-bottom: 1px solid #e20880;\n  font-size: 24px;\n"]);return we=function(){return e},e}function Oe(){var e=Object(u.a)(["\n  border: 0px;\n  outline: 0px;\n  border-bottom: 1px solid #ddd;\n  margin: 25px 10px;\n  padding: 5px;\n"]);return Oe=function(){return e},e}function je(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return je=function(){return e},e}function Ce(){var e=Object(u.a)(["\n\n"]);return Ce=function(){return e},e}function Ee(){var e=Object(u.a)(["\n  padding-bottom: 20px;\n  font-size: 14px;\n  color: #000;\n"]);return Ee=function(){return e},e}function ke(){var e=Object(u.a)(["\n  color: #674c9f;\n  font-size: 30px;\n  font-weight: 300;\n  margin-top: 0px;\n  margin-bottom: 30px;\n"]);return ke=function(){return e},e}function Ae(){var e=Object(u.a)(["\n  margin-top: 10px;\n  display: flex;\n  flex-direction: column;\n"]);return Ae=function(){return e},e}function Se(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return Se=function(){return e},e}function Te(){var e=Object(u.a)(["\n  flex: 1;\n  display: flex;\n  padding: 20px;\n  width: '100%';\n"]);return Te=function(){return e},e}var Me=t(57);t(419)();var Pe=b.b.div(Te()),Fe=b.b.div(Se()),Re=b.b.div(Ae()),Ne=b.b.h1(ke()),Ie=b.b.label(Ee()),De=(Object(b.b)(Ie)(Ce()),b.b.div(je())),Ue=b.b.input(Oe()),We=Object(b.b)(Ue)(we()),ze=b.b.textarea(xe()),_e=Object(b.b)(Ue)(ve()),Je=b.b.div(ge()),Ke=b.b.span(ye()),Le=b.b.button(me(),(function(e){return e.theme||"#674c9f"})),Be=function(){var e=Object(h.c)(),n=(e.active,e.error,e.account),a=e.library,o=(e.chainId,r.a.useState(!1)),i=Object(l.a)(o,2),c=i[0],s=i[1],u=r.a.useState(!1),p=Object(l.a)(u,2),f=p[0],b=p[1],m=r.a.useState(void 0),y=Object(l.a)(m,2),g=y[0],v=y[1],x=r.a.useState(""),w=Object(l.a)(x,2),O=w[0],j=w[1],k=r.a.useState(""),A=Object(l.a)(k,2),S=A[0],T=A[1],M=r.a.useState(""),N=Object(l.a)(M,2),I=N[0],D=N[1];r.a.useEffect((function(){}));var U=function(){var e=Object(E.a)(C.a.mark((function e(){var r,o,i,c,u,l,p,f;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),console.log(g),console.log(O),console.log(S),console.log(I),r=JSON.stringify({name:O,info:S,url:I,icon:g}),o=t(568).at("https://ipfs.infura.io:5001"),console.log("sending payload"),e.next=10,o.add(r);case 10:return i=e.sent,console.log("IPFS cid:",i),c=a.getSigner(n),u=new Me.Contract(P.dai,F.erc20,c),l=u.approve(P.epnscore,Object(R.bigNumberify)("500000000000000000000001")),e.next=17,l;case 17:return p=e.sent,console.log(p),console.log("waiting for tx to finish"),e.next=22,a.waitForTransaction(p.hash);case 22:f=new Me.Contract(P.epnscore,F.epnscore,c),f.createChannelWithFees(i).then((function(e){console.log(e),console.log("Check: "+n)}));case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Pe,null,r.a.createElement(Fe,null,r.a.createElement(Re,null,r.a.createElement(Ne,null,"Create your Channel!"),f&&!c&&r.a.createElement(Ie,null,"Image Verified! Just fill in your other information and hit ",r.a.createElement("b",null,"Beam me up")," to create your channel... literal goosebumps!!!"),!f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,null,r.a.createElement("b",null,"Ethereum Push Notification Service")," (EPNS) makes it extremely easy to open and maintain a genuine channel of communication with your users."),r.a.createElement(Ie,null,"The only step for ",r.a.createElement("b",null,"You")," or your ",r.a.createElement("b",null,"dApp")," or even your ",r.a.createElement("b",null,"Smart Contract")," is opening up the channel."),r.a.createElement(Ie,null,"Rest of the heavy lifting of securely connecting users, wallets, device tokens, listening to and ensuring sent events, forming and delivering payload to each mobile or destop devices and informing them and you about it is done automagically by EPNS."))),!c&&f&&r.a.createElement(De,null,r.a.createElement(We,{placeholder:"Your Channel Name",maxlength:"40",value:O,onChange:function(e){j(e.target.value)}}),r.a.createElement(ze,{placeholder:"Your Channel's Short Description",maxlength:"200",value:S,onChange:function(e){T(e.target.value)}}),r.a.createElement(_e,{placeholder:"Your website",maxlength:"200",value:I,onChange:function(e){D(e.target.value)}})),r.a.createElement(r.a.Fragment,null,!f&&r.a.createElement(Je,null,r.a.createElement(Ie,null,"Drop in your channel ",r.a.createElement("b",null,"(dApp or Website) official logo")," here and submit first."),r.a.createElement(he.a,{onChangeStatus:function(e,n){var t=e.meta,a=e.file;console.log(n,t,a)},onSubmit:function(e,n){b(!0),console.log(e.map((function(e){return e.meta}))),n.forEach((function(e){var n=e.file,t=new FileReader;t.readAsDataURL(n),console.log(e.file),t.onloadend=function(e){console.log(t.result),v(t.result)}})),console.log("andle Submit")},onDrop:function(e){},maxFiles:1,multiple:!1,accept:"image/jpeg,image/png"}))),f&&r.a.createElement(Le,{theme:c?"#674c9f":"#e20880",disabled:c,onClick:U},c&&r.a.createElement(d.a,{type:"Oval",color:"#FFF",height:16,width:16}),!c&&r.a.createElement(Ke,null,"Beam me up!"))))};function He(){var e=Object(u.a)(["\n  padding: 20px;\n  font-size: 16px;\n  color: #DDD;\n  display: flex;\n  font-weight: 200;\n  align-content: center;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  min-height: 40vh;\n"]);return He=function(){return e},e}var Ye=b.b.div(He()),Ve=function(){return r.a.useEffect((function(){})),r.a.createElement(Ye,null,"Coming in Version 0.2!")},Ge=t(218);function qe(){var e=Object(u.a)(["\n    background: #674c9f;\n  "]);return qe=function(){return e},e}function $e(){var e=Object(u.a)(["\n    background: #35c5f3;\n  "]);return $e=function(){return e},e}function Ze(){var e=Object(u.a)(["\n    background: #e20880;\n  "]);return Ze=function(){return e},e}function Qe(){var e=Object(u.a)(["\n  border: 0;\n  outline: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 8px 15px;\n  margin: 10px;\n  color: #fff;\n  border-radius: 20px;\n  font-size: 14px;\n  font-weight: 400;\n\n  ",";\n\n  ",";\n\n  ",";\n"]);return Qe=function(){return e},e}function Xe(){var e=Object(u.a)(["\n\n"]);return Xe=function(){return e},e}var en=b.b.div(Xe()),nn=b.b.span(Qe(),(function(e){return"primary"===e.theme&&Object(b.a)(Ze())}),(function(e){return"secondary"===e.phase&&Object(b.a)($e())}),(function(e){return"third"===e.phase&&Object(b.a)(qe())})),tn=function(e){var n=e.title,t=e.theme;return r.a.useEffect((function(){}),[n,t]),r.a.createElement(en,null,r.a.createElement(Ge.AnimateOnChange,{animationIn:"fadeIn",animationOut:"fadeOut",durationOut:200},r.a.createElement(nn,{theme:t},n)))},an="375px",rn="425px",on="768px",cn="1024px",sn="1440px",un="2560px",ln={mobileS:"(max-width: ".concat("320px",")"),mobileM:"(max-width: ".concat(an,")"),mobileL:"(max-width: ".concat(rn,")"),tablet:"(max-width: ".concat(on,")"),laptop:"(max-width: ".concat(cn,")"),laptopL:"(max-width: ".concat(sn,")"),desktop:"(max-width: ".concat(un,")"),desktopL:"(max-width: ".concat(un,")")},pn=t(109),fn=t.n(pn),dn=t(593),bn=t(327),hn=t(88),mn="AddChannelAny",yn="AddChannelSelf",gn="UpdateChannelAny",vn="UpdateChannelSelf",xn="SubscriberAnyChannel",wn="SubscriberSelfChannel",On="UnsubscriberAnyChannel",jn="UnsubscriberSelfChannel",Cn=function e(){var n=this;Object(hn.a)(this,e),this.state={channelsCount:-1,channelsMeta:{},channelsJson:{},callbacks:[],account:null,epnsReadProvider:null},this.init=function(e,t){n.state.account=e,n.resetChannelsListeners(),n.state.epnsReadProvider=t,n.initChannelsListenersAsync(),n.getChannelsCountAsync()},this.resetChannelsListeners=function(){n.state.epnsReadProvider&&(n.state.epnsReadProvider.removeAllListeners("AddChannel"),n.state.epnsReadProvider.removeAllListeners("UpdateChannel"),n.state.epnsReadProvider.removeAllListeners("Subscribe"),n.state.epnsReadProvider.removeAllListeners("Unsubscribe"))},this.initChannelsListenersAsync=Object(E.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.listenForAddChannelAnyAsync();case 2:return e.next=4,n.listenForAddChannelSelfAsync();case 4:return e.next=6,n.listenForUpdateChannelAnyAsync();case 6:return e.next=8,n.listenForUpdateChannelSelfAsync();case 8:return e.next=10,n.listenForSubscribeAnyAsync();case 10:return e.next=12,n.listenForSubscribeSelfAsync();case 12:return e.next=14,n.listenForUnsubscribeAnyAsync();case 14:return e.next=16,n.listenForUnsubscribeSelfAsync();case 16:case"end":return e.stop()}}),e)}))),this.listenForAddChannelAnyAsync=Object(E.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.epnsReadProvider,a=t.filters.AddChannel(null,null),t.on(a,function(){var e=Object(E.a)(C.a.mark((function e(t,a){var r,o,i,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.incrementChannelsCountAsync(1);case 2:for(r=0,o=Object.entries(n.state.callbacks[mn]);r<o.length;r++)i=Object(l.a)(o[r],2),i[0],(c=i[1])&&c(t,a);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),this.listenForAddChannelSelfAsync=Object(E.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.epnsReadProvider,a=t.filters.AddChannel(n.state.account,null),t.on(a,function(){var e=Object(E.a)(C.a.mark((function e(t,a){var r,o,i,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=0,o=Object.entries(n.state.callbacks[yn]);r<o.length;r++)i=Object(l.a)(o[r],2),i[0],(c=i[1])&&c(t,a);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),this.listenForUpdateChannelAnyAsync=Object(E.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.epnsReadProvider,a=t.filters.UpdateChannel(null,null),t.on(a,function(){var e=Object(E.a)(C.a.mark((function e(t,a){var r,o,i,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=0,o=Object.entries(n.state.callbacks[gn]);r<o.length;r++)i=Object(l.a)(o[r],2),i[0],(c=i[1])&&c(t,a);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),this.listenForUpdateChannelSelfAsync=Object(E.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.epnsReadProvider,a=t.filters.UpdateChannel(n.state.account,null),t.on(a,function(){var e=Object(E.a)(C.a.mark((function e(t,a){var r,o,i,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=0,o=Object.entries(n.state.callbacks[vn]);r<o.length;r++)i=Object(l.a)(o[r],2),i[0],(c=i[1])&&c(t,a);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),this.listenForSubscribeAnyAsync=Object(E.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.epnsReadProvider,a=t.filters.Subscribe(null,null),t.on(a,function(){var e=Object(E.a)(C.a.mark((function e(t,a){var r,o,i,c,s,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n.state.channelsMeta[t]&&(r=n.state.channelsMeta[t],o=n.state.channelsMeta[r].memberCount.toNumber(),Object(bn.a)("count"),o+=1,n.state.channelsMeta[r].memberCount=o.bigNumberify()),i=0,c=Object.entries(n.state.callbacks[xn]);i<c.length;i++)s=Object(l.a)(c[i],2),s[0],(u=s[1])&&u(t,a);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),this.listenForSubscribeSelfAsync=Object(E.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.epnsReadProvider,a=t.filters.Subscribe(n.state.account,null),t.on(a,function(){var e=Object(E.a)(C.a.mark((function e(t,a){var r,o,i,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=0,o=Object.entries(n.state.callbacks[wn]);r<o.length;r++)i=Object(l.a)(o[r],2),i[0],(c=i[1])&&c(t,a);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),this.listenForUnsubscribeAnyAsync=Object(E.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.epnsReadProvider,a=t.filters.Unsubscribe(null,null),t.on(a,function(){var e=Object(E.a)(C.a.mark((function e(t,a){var r,o,i,c,s,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n.state.channelsMeta[t]&&(r=n.state.channelsMeta[t],o=n.state.channelsMeta[r].memberCount.toNumber(),Object(bn.a)("count"),o-=1,n.state.channelsMeta[r].memberCount=o.bigNumberify()),i=0,c=Object.entries(n.state.callbacks[On]);i<c.length;i++)s=Object(l.a)(c[i],2),s[0],(u=s[1])&&u(t,a);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),this.listenForUnsubscribeSelfAsync=Object(E.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.epnsReadProvider,a=t.filters.Unsubscribe(n.state.account,null),t.on(a,function(){var e=Object(E.a)(C.a.mark((function e(t,a){var r,o,i,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=0,o=Object.entries(n.state.callbacks[jn]);r<o.length;r++)i=Object(l.a)(o[r],2),i[0],(c=i[1])&&c(t,a);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),this.addCallbacks=function(e,t,a){n.state.callbacks[e]||(n.state.callbacks[e]={}),n.state.callbacks[e][t]||(n.state.callbacks[e][t]=a)},this.removeCallbacks=function(e,t){n.state.callbacks[e][t]&&(n.state.callbacks[e][t]=null)},this.getChannelsCountAsync=Object(E.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1==n.state.channelsCount?I.getTotalNumberOfChannels(n.state.epnsReadProvider).then((function(e){n.state.channelsCount=e,t(n.state.channelsCount)})).catch((function(e){return a(e)})):t(n.state.channelsCount);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),this.incrementChannelsCountAsync=function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){n.getChannelsCountAsync().then((function(a){return e(n.state.channelsCount=a+t)})).catch((function(e){return a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.getChannelsMetaAsync=function(){var e=Object(E.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(C.a.mark((function e(r,o){var i,c,s,u,l,p,f;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getChannelsCountAsync();case 2:for(i=e.sent,-1==t&&(t=i-1),-1==a&&(a=i),c=[],s=[],u=0,l=0;l<a;l++)p=t-l,s[u]=p,u+=1;return f=s.map(function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getChannelMetaAsync(t).then((function(e){var n=Object(A.a)({},e);n.id=t,c=[n].concat(Object(k.a)(c))})).catch((function(e){return console.log("!!!Error (but skipping), getChannelMetaAsync() --\x3e %o",e)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=12,Promise.all(f);case 12:c.sort((function(e,n){return e.id<n.id?-1:e.id>n.id?1:0})),console.log("getChannelsMetaAsync(From %d to %d) --\x3e %o",t-a+1,t,c),r(c);case 15:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.getChannelMetaAsync=function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(C.a.mark((function e(a,r){var o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.channelsMeta[t]){e.next=5;break}console.log("getChannelMetaAsync() [CACHED] --\x3e %o",n.state.channelsMeta[t]),a(n.state.channelsMeta[t]),e.next=7;break;case 5:return e.next=7,I.getChannelAddressFromID(t,n.state.epnsReadProvider).then(function(){var e=Object(E.a)(C.a.mark((function e(r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r,e.next=3,n.getChannelMetaViaAddressAsync(o).then((function(e){n.state.channelsMeta[t]=e,n.state.channelsMeta[o]=t,console.log("getChannelMetaAsync() [Address: %s] --\x3e %o",o,e),a(e)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log("!!!Error, getChannelMetaAsync() --\x3e %o",e),r(e)}));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.getChannelMetaViaAddressAsync=function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(C.a.mark((function e(a,r){var o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.channelsMeta[t]){e.next=6;break}o=n.state.channelsMeta[t],console.log("getChannelMetaViaAddressAsync() [CACHED] --\x3e %o",n.state.channelsMeta[o]),a(n.state.channelsMeta[o]),e.next=8;break;case 6:return e.next=8,I.getChannelInfo(t,n.state.epnsReadProvider).then((function(e){console.log("getChannelMetaViaAddressAsync() [Address: %s] --\x3e %o",t,e),a(e)})).catch((function(e){console.log("!!!Error, getChannelMetaViaAddressAsync() --\x3e %o",e),r(e)}));case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.getChannelJsonAsync=function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(C.a.mark((function e(a,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.channelsJson[t]){e.next=5;break}console.log("getChannelJsonAsync() [CACHED] --\x3e %o",n.state.channelsJson[t]),a(n.state.channelsJson[t]),e.next=7;break;case 5:return e.next=7,I.getChannelJsonFromChannelAddress(t,n.state.epnsReadProvider).then((function(e){n.state.channelsJson[t]=e,console.log("getChannelJsonAsync() [Address: %s] --\x3e %o",t,e),a(e)})).catch((function(e){console.log("!!!Error, getChannelJsonAsync() --\x3e %o",e),r(e)}));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};Cn.instance=Cn.instance||new Cn;var En={SUBSCRIBED:"Subscribed",UNSUBSCRIBED:"Unsubscribed",PUBLIC_KEY_BROADCASTED:"PublicKeyBroadcasted",CREATED_CHANNEL:"CreatedChannel",DEACTIVATE_CHANNEL:"DeactivateChannel"},kn=function e(){var n=this;Object(hn.a)(this,e),this.state={usersCount:-1,subscribedCount:-1,userMeta:{},callbacks:[],account:null,epnsReadProvider:null},this.init=function(e,t){n.state.account=e,n.resetUsersListeners(),n.state.epnsReadProvider=t,n.initUsersListenersAsync(),n.getChannelsCountAsync()},this.resetUsersListeners=function(){n.state.epnsReadProvider&&(n.state.epnsReadProvider.removeAllListeners("Subscribe"),n.state.epnsReadProvider.removeAllListeners("Unsubscribe"),n.state.epnsReadProvider.removeAllListeners("PublicKeyRegistered"),n.state.epnsReadProvider.removeAllListeners("AddChannel"),n.state.epnsReadProvider.removeAllListeners("DeactivateChannel"))},this.initUsersListenersAsync=Object(E.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.listenForSubscribedAsync();case 2:case"end":return e.stop()}}),e)}))),this.listenForSubscribedAsync=Object(E.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.state.epnsReadProvider,a=t.filters.Subscribe(null,n.state.account),t.on(a,function(){var e=Object(E.a)(C.a.mark((function e(t,a){var r,o,i,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=0,o=Object.entries(n.state.callbacks[En.SUBSCRIBER_SELF_CHANNEL]);r<o.length;r++)i=Object(l.a)(o[r],2),i[0],(c=i[1])&&c(t,a);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)}))),this.addCallbacks=function(e,t,a){n.state.callbacks[e]||(n.state.callbacks[e]={}),n.state.callbacks[e][t]||(n.state.callbacks[e][t]=a)},this.removeCallbacks=function(e,t){n.state.callbacks[e][t]&&(n.state.callbacks[e][t]=null)},this.getUsersCountAsync=Object(E.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1==n.state.channelsCount?I.getTotalNumberOfUsers(n.state.epnsReadProvider).then((function(e){n.state.usersCount=e,t(n.state.usersCount)})).catch((function(e){return a(e)})):t(n.state.usersCount);case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),this.incrementUsersCountAsync=function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){n.getUsersCountAsync().then((function(a){return e(n.state.usersCount=a+t)})).catch((function(e){return a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.getChannelsMetaAsync=function(){var e=Object(E.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(C.a.mark((function e(r,o){var i,c,s,u,l,p,f;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getChannelsCountAsync();case 2:for(i=e.sent,-1==t&&(t=i-1),-1==a&&(a=i),c=[],s=[],u=0,l=a-1;l>=0;l--)p=t-l,s[u]=p,u+=1;return f=s.map(function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getChannelMetaAsync(t).then((function(e){c=[e].concat(Object(k.a)(c))})).catch((function(e){return console.log("!!!Error (but skipping), getChannelMetaAsync() --\x3e %o",e)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),e.next=12,Promise.all(f);case 12:console.log("getChannelsMetaAsync(From %d to %d) --\x3e %o",t-a+1,t,c),r(c);case 14:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),this.getChannelMetaAsync=function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(C.a.mark((function e(a,r){var o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.channelsMeta[t]){e.next=5;break}console.log("getChannelMetaAsync() [CACHED] --\x3e %o",n.state.channelsMeta[t]),a(n.state.channelsMeta[t]),e.next=7;break;case 5:return e.next=7,I.getChannelAddressFromID(t,n.state.epnsReadProvider).then(function(){var e=Object(E.a)(C.a.mark((function e(r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r,e.next=3,n.getChannelMetaViaAddressAsync(o).then((function(e){n.state.channelsMeta[t]=e,n.state.channelsMeta[o]=t,console.log("getChannelMetaAsync() [Address: %s] --\x3e %o",o,e),a(e)}));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log("!!!Error, getChannelMetaAsync() --\x3e %o",e),r(e)}));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.getChannelMetaViaAddressAsync=function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(C.a.mark((function e(a,r){var o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.channelsMeta[t]){e.next=6;break}o=n.state.channelsMeta[t],console.log("getChannelMetaViaAddressAsync() [CACHED] --\x3e %o",n.state.channelsMeta[o]),a(n.state.channelsMeta[o]),e.next=8;break;case 6:return e.next=8,I.getChannelInfo(t,n.state.epnsReadProvider).then((function(e){console.log("getChannelMetaViaAddressAsync() [Address: %s] --\x3e %o",t,e),a(e)})).catch((function(e){console.log("!!!Error, getChannelMetaViaAddressAsync() --\x3e %o",e),r(e)}));case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.getChannelJsonAsync=function(){var e=Object(E.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(E.a)(C.a.mark((function e(a,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.channelsJson[t]){e.next=5;break}console.log("getChannelJsonAsync() [CACHED] --\x3e %o",n.state.channelsJson[t]),a(n.state.channelsJson[t]),e.next=7;break;case 5:return e.next=7,I.getChannelJsonFromChannelAddress(t,n.state.epnsReadProvider).then((function(e){n.state.channelsJson[t]=e,console.log("getChannelJsonAsync() [Address: %s] --\x3e %o",t,e),a(e)})).catch((function(e){console.log("!!!Error, getChannelJsonAsync() --\x3e %o",e),r(e)}));case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};function An(){var e=Object(u.a)(["\n  margin: 5px;\n  flex-grow: 1;\n  max-width: 120px;\n"]);return An=function(){return e},e}function Sn(){var e=Object(u.a)(["\n  display: none;\n  flex-basis: 100%;\n  height: 0;\n\n  @media "," {\n    display: block;\n  }\n"]);return Sn=function(){return e},e}function Tn(){var e=Object(u.a)(["\n\n"]);return Tn=function(){return e},e}function Mn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return Mn=function(){return e},e}function Pn(){var e=Object(u.a)(["\n  margin: 0px 5px;\n  color: #fff;\n  font-weight: 600;\n  background: #35c4f3;\n  padding: 2px 8px;\n  border-radius: 10px;\n  font-size: 11px;\n"]);return Pn=function(){return e},e}function Fn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  font-size: 13px;\n"]);return Fn=function(){return e},e}function Rn(){var e=Object(u.a)(["\n  flex: 1;\n"]);return Rn=function(){return e},e}function Nn(){var e=Object(u.a)(["\n  flex: 1;\n  display: flex;\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.9);\n  font-weight: 400;\n  flex-direction: column;\n"]);return Nn=function(){return e},e}function In(){var e=Object(u.a)(["\n  text-decoration: none;\n  font-weight: 600;\n  color: #e20880;\n  font-size: 20px;\n  &:hover {\n    text-decoration: underline;\n    cursor: pointer;\n    pointer: hand;\n  }\n"]);return In=function(){return e},e}function Dn(){var e=Object(u.a)(["\n  margin-bottom: 5px;\n"]);return Dn=function(){return e},e}function Un(){var e=Object(u.a)(["\n  flex: 1;\n  margin: 5px 10px;\n  min-width: 120px;\n  flex-grow: 4;\n  flex-direction: column;\n  display: flex;\n"]);return Un=function(){return e},e}function Wn(){var e=Object(u.a)(["\n  object-fit: contain;\n  width: 100%;\n  border-radius: 20px;\n  overflow: hidden;\n"]);return Wn=function(){return e},e}function zn(){var e=Object(u.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  border-radius: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return zn=function(){return e},e}function _n(){var e=Object(u.a)(["\n  padding-top: 100%;\n  position: relative;\n"]);return _n=function(){return e},e}function Jn(){var e=Object(u.a)(["\n  max-width: 80px;\n  min-width: 32px;\n  flex: 1;\n  margin: 5px;\n  padding: 10px;\n  border: 2px solid #fafafa;\n  overflow: hidden;\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-self: flex-start;\n"]);return Jn=function(){return e},e}function Kn(){var e=Object(u.a)(["\n  overflow: hidden;\n  width: ",";\n  height: ","px;\n  border-radius: ","px;\n  margin-bottom: ","px;\n  margin-right: ","px;\n"]);return Kn=function(){return e},e}function Ln(){var e=Object(u.a)(["\n  flex: 1;\n  display: flex;\n  flex-wrap: wrap;\n\n  background: #fff;\n  border-radius: 10px;\n  border: 1px solid rgb(237, 237, 237);\n\n  margin: 15px 0px;\n  justify-content: center;\n  padding: 10px;\n"]);return Ln=function(){return e},e}kn.instance=kn.instance||new kn;var Bn=b.b.div(Ln()),Hn=b.b.div(Kn(),(function(e){return e.atW+"%"||!1}),(function(e){return e.atH}),(function(e){return e.borderRadius||10}),(function(e){return e.marginBottom||5}),(function(e){return e.marginRight||0})),Yn=b.b.div(Jn()),Vn=b.b.div(_n()),Gn=b.b.div(zn()),qn=b.b.img(Wn()),$n=b.b.div(Un()),Zn=b.b.div(Dn()),Qn=b.b.a(In()),Xn=b.b.div(Nn()),et=b.b.label(Rn()),nt=b.b.div(Fn()),tt=b.b.label(Pn()),at=b.b.div(Mn()),rt=Object(b.b)(tt)(Tn()),ot=b.b.div(Sn(),ln.tablet),it=b.b.div(An()),ct=function(e){var n=e.channelObject,t=(e.epnsReadProvider,e.epnsWriteProvide,Object(h.c)()),a=t.account,o=(t.library,r.a.useState({})),i=Object(l.a)(o,2),c=i[0],s=i[1],u=r.a.useState(!0),p=Object(l.a)(u,2),f=p[0],d=p[1];r.a.useEffect((function(){b()}),[a,n]);var b=function(){var e=Object(E.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn.instance.getChannelJsonAsync(n.addr);case 2:t=e.sent,s(t),d(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Bn,{key:n.addr},r.a.createElement(Yn,null,r.a.createElement(Vn,null,r.a.createElement(Gn,null,f&&r.a.createElement(fn.a,{color:"#eee",width:"100%",height:"100%"}),!f&&r.a.createElement(qn,{src:"".concat(c.icon)})))),r.a.createElement($n,null,r.a.createElement(Zn,null,f&&r.a.createElement(fn.a,{color:"#eee",width:"50%",height:24}),!f&&r.a.createElement(Qn,{href:c.url,target:"_blank",rel:"nofollow"},c.name)),r.a.createElement(Xn,null,f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Hn,{atH:5,atW:100},r.a.createElement(fn.a,{color:"#eee",width:"100%",height:5})),r.a.createElement(Hn,{atH:5,atW:100},r.a.createElement(fn.a,{color:"#eee",width:"100%",height:5})),r.a.createElement(Hn,{atH:5,atW:100},r.a.createElement(fn.a,{color:"#eee",width:"40%",height:5}))),!f&&r.a.createElement(et,null,c.info)),r.a.createElement(nt,null,f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Hn,{atH:10,atW:30,marginBottom:"0"},r.a.createElement(fn.a,null))),!f&&r.a.createElement(at,null,r.a.createElement(dn.a,{size:20,color:"#35c5f3"}),r.a.createElement(rt,null,I.formatBigNumberToMetric(n.memberCount))))),r.a.createElement(ot,null),r.a.createElement(it,null))};function st(){var e=Object(u.a)(["\n  display: block;\n  align-self: stretch;\n  padding: 10px 20px;\n  overflow-y: scroll;\n  background: #fafafa;\n"]);return st=function(){return e},e}function ut(){var e=Object(u.a)(["\n  padding: 20px;\n"]);return ut=function(){return e},e}function lt(){var e=Object(u.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n\n  font-weight: 200;\n  align-content: center;\n  align-items: center;\n  justify-content: center;\n\n  max-height: 80vh;\n"]);return lt=function(){return e},e}var pt=b.b.div(lt()),ft=b.b.div(ut()),dt=b.b.div(st()),bt=function(e){var n=e.epnsReadProvider,t=e.epnsWriteProvide,a=Object(h.c)(),o=a.account,i=(a.library,r.a.useState(!0)),c=Object(l.a)(i,2),s=c[0],u=c[1],p=r.a.useState([]),f=Object(l.a)(p,2),b=f[0],m=f[1];r.a.useEffect((function(){y()}),[o]);var y=function(){var e=Object(E.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cn.instance.getChannelsMetaAsync(-1,-1);case 2:n=e.sent,m(n),u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(pt,null,s&&r.a.createElement(ft,null,r.a.createElement(d.a,{type:"Oval",color:"#35c5f3",height:40,width:40})),!s&&0==b.length&&r.a.createElement(ft,null,r.a.createElement(tn,{title:"That's weird, No Channels in EPNS... world is ending... right?",theme:"primary"})),!s&&0!=b.length&&r.a.createElement(dt,{id:"scrollstyle-secondary"},Object.keys(b).map((function(e){return r.a.createElement(ct,{key:b[e].addr,channelObject:b[e],epnsReadProvider:n,epnsWriteProvide:t})}))))};function ht(){var e=Object(u.a)(["\n  flex: 1;\n  display: flex;\n\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\n  border-radius: 20px;\n  border: 1px solid rgb(225,225,225);\n\n  margin: 15px;\n  overflow: hidden;\n"]);return ht=function(){return e},e}function mt(){var e=Object(u.a)(["\n    transform: scale(1.1) translate(0px, -20px);\n  "]);return mt=function(){return e},e}function yt(){var e=Object(u.a)(["\n  font-size: 16px;\n  font-weight: 300;\n  opacity: ",";\n  transition: transform .2s ease-out;\n  background: -webkit-linear-gradient(#db268a, #34c6f3);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  z-index: 2;\n  ",";\n\n"]);return yt=function(){return e},e}function gt(){var e=Object(u.a)(["\n      transform: scale(3.5) translate(-40px, 5px);\n      opacity: 0.2;\n      z-index: 1;\n    "]);return gt=function(){return e},e}function vt(){var e=Object(u.a)(["\n    width: 20%;\n    margin-bottom: 10px;\n    transition: transform .2s ease-out;\n    ",";\n"]);return vt=function(){return e},e}function xt(){var e=Object(u.a)(["\n  margin: 0px 20px;\n  flex-direction: column;\n  align-items: center;\n  display: flex;\n"]);return xt=function(){return e},e}function wt(){var e=Object(u.a)(["\n    transform: scale(1.5) translate(-10px, 0px);\n  "]);return wt=function(){return e},e}function Ot(){var e=Object(u.a)(["\n  font-size: 16px;\n  font-weight: 200;\n  opacity: ",";\n\n  transition: transform .2s ease-out;\n  ",";\n"]);return Ot=function(){return e},e}function jt(){var e=Object(u.a)(["\n    transform: scale(3.5) translate(-20px, 0px);\n    opacity: 0.4;\n  "]);return jt=function(){return e},e}function Ct(){var e=Object(u.a)(["\n  height: 30%;\n  margin-right: 15px;\n  filter: ",";\n  opacity: ",";\n\n  transition: transform .2s ease-out;\n  ",";\n"]);return Ct=function(){return e},e}function Et(){var e=Object(u.a)(["\n  flex: 1 1 25%;\n  height: 120px;\n  min-width: 240px;\n  background: #fff;\n\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\n  border-radius: 15px;\n  border: 1px solid rgb(225,225,225);\n\n  border-bottom: 10px solid rgb(180,180,180);\n  margin: 20px;\n  overflow: hidden;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  border-bottom: 10px solid ",";\n\n  &:hover {\n    opacity: 0.9;\n    cursor: pointer;\n    pointer: hand;\n  }\n  &:active {\n    opacity: 0.75;\n    cursor: pointer;\n    pointer: hand;\n  }\n"]);return Et=function(){return e},e}function kt(){var e=Object(u.a)(["\n  flex: 0;\n  display: flex;\n  flex-direction: row;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n"]);return kt=function(){return e},e}function At(){var e=Object(u.a)(["\n  flex: 1;\n  display: block;\n  flex-direction: column;\n  min-height: calc(100vh - 100px);\n"]);return At=function(){return e},e}var St=b.b.div(At()),Tt=b.b.div(kt()),Mt=b.b.div(Et(),(function(e){return e.active?e.border:"rgb(180,180,180)"})),Pt=b.b.img(Ct(),(function(e){return e.active?"brightness(1)":"brightness(0)"}),(function(e){return e.active?"1":"0.25"}),(function(e){return e.active&&Object(b.a)(jt())})),Ft=b.b.label(Ot(),(function(e){return e.active?"1":"0.75"}),(function(e){return e.active&&Object(b.a)(wt())})),Rt=b.b.div(xt()),Nt=b.b.img(vt(),(function(e){return e.active&&Object(b.a)(gt())})),It=b.b.label(yt(),(function(e){return e.active?"1":"0.75"}),(function(e){return e.active&&Object(b.a)(mt())})),Dt=b.b.div(ht()),Ut=function(e){e.setBadgeCount;var n=e.bellPressed;p.a.pageview("/home");var t=Object(h.c)(),a=(t.active,t.error,t.account),o=t.library,i=(t.chainId,r.a.useState(null)),c=Object(l.a)(i,2),s=c[0],u=c[1],f=r.a.useState(null),b=Object(l.a)(f,2),m=b[0],y=b[1],g=r.a.useState(0),v=Object(l.a)(g,2),x=v[0],w=v[1],j=r.a.useState(!1),k=Object(l.a)(j,2),A=k[0],S=k[1],T=r.a.useState(!1),M=Object(l.a)(T,2),R=M[0],N=M[1],D=r.a.useState([]),U=Object(l.a)(D,2),W=U[0],z=U[1];r.a.useEffect((function(){var e=new O.ethers.Contract(P.epnscore,F.epnscore,o);if(u(e),o&&a){var n=o.getSigner(a),t=new O.ethers.Contract(P.epnscore,F.epnscore,n);y(t)}}),[a]),r.a.useEffect((function(){N(!1),S(!1),_(0),z([]),null!=s&&(Cn.instance.init(a,s),K())}),[s]),r.a.useEffect((function(){w(0)}),[n]);var _=function(e){w(e)},J=function(){var e=Object(E.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Cn.instance.addCallbacks(yn,"CreateChannelButton",(function(){K()}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(E.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I.getChannelJsonFromUserAddress(a,s).then((function(e){console.log(e),z(e),N(!0),S(!0)})).catch((function(e){N(!1),S(!0)})),J();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(St,null,r.a.createElement(Tt,null,r.a.createElement(Mt,{index:0,active:0==x?1:0,border:"#e20880",onClick:function(){_(0)}},r.a.createElement(Pt,{src:"./svg/feedbox.svg",active:0==x?1:0}),r.a.createElement(Ft,{active:0==x?1:0},"Feedbox")),r.a.createElement(Mt,{index:1,active:1==x?1:0,border:"#35c5f3",onClick:function(){_(1)}},r.a.createElement(Pt,{src:"./svg/channel.svg",active:1==x?1:0}),r.a.createElement(Ft,{active:1==x?1:0},"Channels")),r.a.createElement(Mt,{index:2,active:2==x?1:0,border:"#674c9f",disabled:!A,onClick:function(){A&&_(2)}},!A&&r.a.createElement(d.a,{type:"Oval",color:"#674c9f",height:32,width:32}),R&&A&&r.a.createElement(Rt,null,r.a.createElement(Nt,{src:"".concat(W.icon),active:2==x?1:0}),r.a.createElement(It,{active:2==x?1:0},W.name)),!R&&A&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pt,{src:"./svg/channeladmin.svg",active:2==x?1:0}),r.a.createElement(Ft,{active:2==x?1:0},"Create Your Channel")))),r.a.createElement(Dt,null,0==x&&r.a.createElement(Ve,null),1==x&&r.a.createElement(bt,{epnsReadProvider:s,epnsWriteProvide:m}),2==x&&!R&&A&&r.a.createElement(Be,null),2==x&&R&&A&&r.a.createElement(de,null)))},Wt=t(216),zt=t(594),_t=t(592),Jt=t(586),Kt=t.n(Jt),Lt=function(e){Object(zt.a)(t,e);var n=Object(_t.a)(t);function t(e){return Object(hn.a)(this,t),n.call(this,e)}return Object(Wt.a)(t,[{key:"getOpts",value:function(){return{seed:this.props.opts.seed||"foo",color:this.props.opts.color||"#dfe",bgcolor:this.props.opts.bgcolor||"#a71",size:this.props.opts.size||15,scale:this.props.opts.scale||3,spotcolor:this.props.opts.spotcolor||"#000"}}},{key:"componentDidMount",value:function(){this.draw()}},{key:"componentDidUpdate",value:function(e){this.props.seed!==e.seed&&this.draw()}},{key:"draw",value:function(){Kt.a.render({seed:this.props.opts.seed,size:this.props.opts.size,scale:this.props.opts.scale},this.canvas)}},{key:"render",value:function(){var e=this;return r.a.createElement("canvas",{ref:function(n){return e.canvas=n}})}}]),t}(r.a.Component);function Bt(){var e=Object(u.a)(["\n  margin: 0px 10px;\n  padding: 8px 15px;\n  height: 16px;\n  display: flex;\n  align-items: baseline;\n  justify-content: center;\n  font-weight: bold;\n  font-size: 14px;\n  color: #fff;\n  border-radius: 15px;\n  background: rgb(226,8,128);\n  background: linear-gradient(107deg, rgba(226,8,128,1) 30%, rgba(103,76,159,1) 70%, rgba(53,197,243,1) 100%);\n  &:hover {\n    opacity: 0.9;\n    cursor: pointer;\n    pointer: hand;\n  }\n  &:active {\n    opacity: 0.75;\n    cursor: pointer;\n    pointer: hand;\n  }\n"]);return Bt=function(){return e},e}function Ht(){var e=Object(u.a)(["\n"]);return Ht=function(){return e},e}function Yt(){var e=Object(u.a)(["\n  position: relative;\n  width: 50px;\n  height: 50px;\n  border-radius: 100%;\n  overflow: hidden;\n  transform: scale(0.85);\n  outline-width: 2px;\n  outline-color: rgba(225,225,225,1);\n"]);return Yt=function(){return e},e}function Vt(){var e=Object(u.a)(["\n  margin: 0;\n  padding: 0;\n  background: none;\n  border: 0;\n  outline: 0;\n  justify-content: flex-start;\n  flex: 1,\n  flex-direction: row;\n  align-items: center;\n  display: flex;\n"]);return Vt=function(){return e},e}var Gt=b.b.button(Vt()),qt=b.b.div(Yt()),$t=b.b.div(Ht()),Zt=b.b.span(Bt()),Qt=function(){var e=Object(h.c)(),n=(e.active,e.error),t=e.account,a=e.library,o=(e.chainId,r.a.useState("")),i=Object(l.a)(o,2),c=i[0],s=i[1],u=r.a.useState(""),p=Object(l.a)(u,2),f=p[0],b=p[1],m=r.a.useState(!1),y=Object(l.a)(m,2),g=y[0],v=y[1];return r.a.useEffect((function(){t&&""!=t&&c!==t&&(b(""),v(!1),a.lookupAddress(t).then((function(e){b(e),v(!0),s(t)})).catch((function(){v(!0),s(t)})))}),[t]),r.a.createElement(r.a.Fragment,null,t&&""!==t&&!n&&r.a.createElement(Gt,null,r.a.createElement(qt,null,r.a.createElement($t,null,r.a.createElement(Lt,{seed:t.toLowerCase(),opts:{seed:t.toLowerCase(),size:7,scale:7}}))),r.a.createElement(Zt,null,!g&&r.a.createElement(d.a,{type:"Oval",color:"#FFF",height:16,width:16}),g&&f&&r.a.createElement(r.a.Fragment,null,f),g&&!f&&r.a.createElement(r.a.Fragment,null,t.substring(0,6),".....",t.substring(t.length-6)))))};function Xt(){var e=Object(u.a)(["\n  position: absolute;\n  font-size: 10px;\n  color: #fff;\n  padding: 2px 4px;\n  border-radius: 100%;\n  background: rgba(208.0, 44.0, 30.0, 1.0);\n  top: 0px;\n  left: 5px;\n  font-weight: bold;\n"]);return Xt=function(){return e},e}function ea(){var e=Object(u.a)(["\n  left: 0,\n"]);return ea=function(){return e},e}function na(){var e=Object(u.a)(["\n    animation: "," 1s ease-out;\n  "]);return na=function(){return e},e}function ta(){var e=Object(u.a)(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n\n  transition: transform .2s ease-out;\n  ",";\n\n\n"]);return ta=function(){return e},e}function aa(){var e=Object(u.a)(["\n  0% {\n    -webkit-transform: scale3d(1, 1, 1);\n    -ms-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1);\n  }\n\n  10%, 20% {\n    -webkit-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\n    -ms-transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\n    transform: scale3d(.98, .98, .98) rotate3d(0, 0, 1, -5deg);\n  }\n\n  30%, 50%, 70%, 90% {\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 10, 5deg);\n  }\n\n  40%, 60%, 80% {\n    -webkit-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\n    -ms-transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\n    transform: scale3d(1.08, 1.08, 1.08) rotate3d(0, 0, 1, -5deg);\n  }\n\n  100% {\n    -webkit-transform: scale3d(1, 1, 1);\n    -ms-transform: scale3d(1, 1, 1);\n    transform: scale3d(1, 1, 1);\n  }\n"]);return aa=function(){return e},e}function ra(){var e=Object(u.a)(["\n  border: 0;\n  outline: 0;\n  background: transparent;\n  border: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 10px;\n  position: relative;\n  height: ","px;\n  width: ","px;\n  &:hover {\n    opacity: 0.9;\n    cursor: pointer;\n    pointer: hand;\n  }\n  &:active {\n    opacity: 0.75;\n    cursor: pointer;\n    pointer: hand;\n  }\n"]);return ra=function(){return e},e}var oa=b.b.button(ra(),(function(e){return e.height||40}),(function(e){return e.width||40})),ia=Object(b.c)(aa()),ca=b.b.img(ta(),(function(e){return e.height||40}),(function(e){return e.width||40}),(function(e){return e.ringme&&Object(b.a)(na(),ia)})),sa=Object(b.b)(ca)(ea()),ua=b.b.span(Xt()),la=function(e){var n=e.badgeCount,t=e.bellPressedCB,a=e.width,o=e.height,i=r.a.useState(0),c=Object(l.a)(i,2),s=c[0],u=c[1],p=r.a.useState(!1),f=Object(l.a)(p,2),d=f[0],b=f[1];r.a.useEffect((function(){u(n),s>0&&h()}),[n]);var h=function(){b(!0),setTimeout((function(){b(!1)}),500)};return r.a.createElement(oa,{onClick:function(){t&&t()},width:a,height:o},r.a.createElement(ca,{ring:d,src:"./bell.png",className:"tadaaa",ringme:d,width:a,height:o}),r.a.createElement(sa,{src:"./bellball.png",width:a,height:o}),r.a.createElement(sa,{src:"./ring.png",width:a,height:o}),0!=s&&r.a.createElement(Ge.AnimateOnChange,{animationIn:"fadeIn",animationOut:"fadeOut",durationOut:200},r.a.createElement(ua,null,s)))};function pa(){var e=Object(u.a)(["\n    background: #DC143C;\n  "]);return pa=function(){return e},e}function fa(){var e=Object(u.a)(["\n    background: #FFAE42;\n  "]);return fa=function(){return e},e}function da(){var e=Object(u.a)(["\n    background: #77DD77;\n  "]);return da=function(){return e},e}function ba(){var e=Object(u.a)(["\n  height: 10px;\n  width: 10px;\n  border-radius: 100%;\n  flex-shrink: 0;\n\n  ",";\n\n  ",";\n\n  ",";\n"]);return ba=function(){return e},e}function ha(){var e=Object(u.a)(["\n  background: #674c9f;\n"]);return ha=function(){return e},e}function ma(){var e=Object(u.a)(["\n  background: #e20880;\n"]);return ma=function(){return e},e}function ya(){var e=Object(u.a)(["\n  border: 0;\n  outline: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 8px 15px;\n  margin: 10px;\n  color: #fff;\n  border-radius: 20px;\n  font-size: 14px;\n"]);return ya=function(){return e},e}function ga(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return ga=function(){return e},e}function va(){var e=Object(u.a)(["\n\n"]);return va=function(){return e},e}function xa(){var e=Object(u.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return xa=function(){return e},e}function wa(){var e=Object(u.a)(["\n  height: 45px;\n"]);return wa=function(){return e},e}function Oa(){var e=Object(u.a)(["\n  display: flex;\n  flex: 1;\n  justfy-content: flex-start;\n"]);return Oa=function(){return e},e}function ja(){var e=Object(u.a)(["\n  height: 100%;\n  padding: 10px 15px;\n  background: rgb(255,255,255);\n  background: linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 21%);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n"]);return ja=function(){return e},e}var Ca=b.b.div(ja()),Ea=b.b.div(Oa()),ka=b.b.img(wa()),Aa=b.b.div(xa()),Sa=(b.b.button(va()),b.b.div(ga())),Ta=b.b.span(ya()),Ma=Object(b.b)(Ta)(ma()),Pa=Object(b.b)(Ta)(ha()),Fa=b.b.span(ba(),(function(e){return"active"===e.phase&&Object(b.a)(da())}),(function(e){return"waiting"===e.phase&&Object(b.a)(fa())}),(function(e){return"error"===e.phase&&Object(b.a)(pa())})),Ra=function(e){var n=e.badgeCount,t=e.bellPressedCB,a=Object(h.c)(),o=a.active,i=a.error,c=a.account;return a.chainId,new Array(4),r.a.useEffect((function(){}),[c]),r.a.createElement(Ca,null,r.a.createElement(Ea,null,o&&!i&&r.a.createElement(Qt,null),!o&&r.a.createElement(ka,{src:"epns.png"})),r.a.createElement(Aa,null,o&&!i&&r.a.createElement(la,{badgeCount:n,bellPressedCB:t,width:40,height:40})),r.a.createElement(Sa,null,!!i&&r.a.createElement(Ma,null,function(e){return e instanceof m.b?"Web3 not enabled, install MetaMask on desktop or visit from a dApp browser on mobile":e instanceof h.a?"Unsupported Network, please connect to Ropsten":e instanceof m.c?"Please authorize this website to access the dApp":(console.error(e),"An unknown error occurred. Check the console for more details")}(i)),!o&&!i&&r.a.createElement(Pa,null,"Please connect to a Web3 Network"),r.a.createElement(Fa,{phase:o?"active":i?"error":"waiting"})))},Na=t(141);function Ia(){var e=Object(u.a)(["\n  font-size: 12px;\n  margin: 5px;\n"]);return Ia=function(){return e},e}function Da(){var e=Object(u.a)(["\n  height: 60px;\n  padding: 10px;\n"]);return Da=function(){return e},e}function Ua(){var e=Object(u.a)(["\n  flex: 1 1 0;\n  min-width: 200px;\n  background: #fff;\n  outline: 0;\n  max-width: 200px;\n\n  box-shadow: 0px 15px 20px -5px rgba(0, 0, 0, 0.1);\n  border-radius: 15px;\n  border: 1px solid rgb(225,225,225);\n\n  margin: 20px;\n  overflow: hidden;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  &:hover {\n    opacity: 0.9;\n    cursor: pointer;\n    pointer: hand;\n    border: 1px solid ","\n  }\n  &:active {\n    opacity: 0.75;\n    cursor: pointer;\n    pointer: hand;\n    border: 1px solid ","\n  }\n"]);return Ua=function(){return e},e}function Wa(){var e=Object(u.a)(["\n  flex-wrap: wrap;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Wa=function(){return e},e}function za(){var e=Object(u.a)(["\n  width: 15vw;\n  align-self: center;\n  display: flex;\n  margin: 20px;\n  min-width: 200px;\n"]);return za=function(){return e},e}function _a(){var e=Object(u.a)(["\n  display: flex;\n  flex: 1,\n  align-self: center;\n  flex-direction: column;\n"]);return _a=function(){return e},e}function Ja(){var e=Object(u.a)(["\n  display: flex;\n  flex: 1;\n  align-self: center;\n  width: 100%;\n  max-width: 940px;\n"]);return Ja=function(){return e},e}function Ka(){var e=Object(u.a)(["\n  flex-wrap: wrap;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 80px 20px 20px 20px;\n  flex: 1;\n"]);return Ka=function(){return e},e}function La(){var e=Object(u.a)(["\n  height: 55px;\n  left: 0;\n  right: 0;\n  width: 100%;\n  position: fixed;\n  top: 0;\n  z-index: 999;\n"]);return La=function(){return e},e}Na.config();var Ba={Injected:v,Network:x,Portis:w};function Ha(e,n){return new O.ethers.providers.Web3Provider(e)}var Ya=function(){return r.a.createElement(h.b,{getLibrary:Ha},r.a.createElement(Va,null))};function Va(){var e=Object(h.c)(),n=e.connector,t=e.library,o=e.chainId,i=e.account,c=e.activate,s=e.deactivate,u=e.active,f=e.error,b=r.a.useState(0),m=Object(l.a)(b,2),y=m[0],g=m[1],O=r.a.useState(0),j=Object(l.a)(O,2),C=j[0],E=j[1];p.a.initialize("UA-165415629-1"),p.a.pageview("/login");var k=r.a.useState(),A=Object(l.a)(k,2),S=A[0],T=A[1];r.a.useEffect((function(){S&&S===n&&T(void 0)}),[S,n]);var M=function(){var e=Object(h.c)(),n=e.activate,t=e.active,r=Object(a.useState)(!1),o=Object(l.a)(r,2),i=o[0],c=o[1];return Object(a.useEffect)((function(){v.isAuthorized().then((function(e){e?n(v,void 0,!0).catch((function(){c(!0)})):c(!0)}))}),[]),Object(a.useEffect)((function(){!i&&t&&c(!0)}),[i,t]),i}();return function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Object(h.c)(),t=n.active,r=n.error,o=n.activate;Object(a.useEffect)((function(){var n=window.ethereum;if(n&&n.on&&!t&&!r&&!e){var a=function(){console.log("Handling 'connect' event"),o(v)},i=function(e){console.log("Handling 'chainChanged' event with payload",e),o(v)},c=function(e){console.log("Handling 'accountsChanged' event with payload",e),e.length>0&&o(v)},s=function(e){console.log("Handling 'networkChanged' event with payload",e),o(v)};return n.on("connect",a),n.on("chainChanged",i),n.on("accountsChanged",c),n.on("networkChanged",s),function(){n.removeListener&&(n.removeListener("connect",a),n.removeListener("chainChanged",i),n.removeListener("accountsChanged",c),n.removeListener("networkChanged",s))}}}),[t,r,e,o])}(!M||!!S),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ga,null,r.a.createElement(Ra,{badgeCount:y,bellPressedCB:function(){E(C+1)}})),r.a.createElement(qa,null,u&&!f&&r.a.createElement($a,null,r.a.createElement(Ut,{setBadgeCount:g,bellPressed:C})),!u&&r.a.createElement(Za,null,r.a.createElement(Qa,{src:"./epnsbell.png"}),r.a.createElement(Xa,null,Object.keys(Ba).map((function(e){var t=Ba[e],a=t===S,o=!M||!!S||t===n||!!f,i="Injected"===e?"./metamask.png":"Portis"===e?"./portis.png":"./ninja.png";return r.a.createElement(er,{disabled:o,key:e,onClick:function(){T(t),c(Ba[e])},border:"Injected"===e?"#e20880":"Portis"===e?"#35c5f3":"#674c9f"},r.a.createElement(nr,{src:i}),r.a.createElement(tr,null,a&&r.a.createElement(d.a,{type:"Oval",color:"#35c5f3",height:20,width:20}),!a&&r.a.createElement(r.a.Fragment,null,"Injected"===e?"Connect with MetaMask":"Portis"===e?"Connect with Portis":"Login as Ninja")))})))),u&&r.a.createElement("div",{style:{display:"grid",gridGap:"1rem",gridTemplateColumns:"fit-content",maxWidth:"20rem",margin:"auto",marginTop:"1200px"}},(u||f)&&r.a.createElement("button",{style:{height:"3rem",marginTop:"2rem",borderRadius:"1rem",borderColor:"red",cursor:"pointer"},onClick:function(){s()}},"Deactivate"),!(!t||!i)&&r.a.createElement("button",{style:{height:"3rem",borderRadius:"1rem",cursor:"pointer"},onClick:function(){t.getSigner(i).signMessage("\ud83d\udc4b").then((function(e){window.alert("Success!\n\n".concat(e))})).catch((function(e){window.alert("Failure!"+(e&&e.message?"\n\n".concat(e.message):""))}))}},"Sign Message"),!(n!==x||!o)&&r.a.createElement("button",{style:{height:"3rem",borderRadius:"1rem",cursor:"pointer"},onClick:function(){n.changeChainId(1===o?3:1)}},"Switch Networks"),n===w&&r.a.createElement(r.a.Fragment,null,void 0!==o&&r.a.createElement("button",{style:{height:"3rem",borderRadius:"1rem",cursor:"pointer"},onClick:function(){n.changeNetwork(1===o?100:1)}},"Switch Networks"),r.a.createElement("button",{style:{height:"3rem",borderRadius:"1rem",cursor:"pointer"},onClick:function(){n.close()}},"Kill Portis Session")))))}var Ga=b.b.div(La()),qa=b.b.div(Ka()),$a=b.b.div(Ja()),Za=b.b.div(_a()),Qa=b.b.img(za()),Xa=b.b.div(Wa()),er=b.b.button(Ua(),(function(e){return e.border}),(function(e){return e.border})),nr=b.b.img(Da()),tr=b.b.span(Ia());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Na.config();var ar=new c.a({uri:"https://api.thegraph.com/subgraphs/name/paulrberg/create-eth-app"});i.a.render(r.a.createElement(s.a,{client:ar},r.a.createElement(Ya,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},291:function(e,n){},535:function(e,n){},577:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"value","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"from","type":"address"},{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"to","type":"address"},{"name":"value","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"}]')},578:function(e){e.exports=JSON.parse('[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[],"name":"renounceOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},579:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_epnsServerAddress","type":"address"},{"internalType":"address","name":"_lendingPoolProviderAddress","type":"address"},{"internalType":"address","name":"_daiAddress","type":"address"},{"internalType":"address","name":"_aDaiAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"channel","type":"address"},{"indexed":false,"internalType":"string","name":"ipfshash","type":"string"}],"name":"AddChannel","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"donator","type":"address"},{"indexed":false,"internalType":"uint256","name":"amt","type":"uint256"}],"name":"Donation","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"bytes","name":"publickey","type":"bytes"}],"name":"PublicKeyRegistered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"channel","type":"address"},{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint16","name":"msgType","type":"uint16"},{"indexed":false,"internalType":"string","name":"ipfshash","type":"string"},{"indexed":false,"internalType":"bool","name":"usePush","type":"bool"}],"name":"SendMessage","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"channel","type":"address"},{"indexed":false,"internalType":"address","name":"user","type":"address"}],"name":"Subscribe","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"channel","type":"address"},{"indexed":false,"internalType":"address","name":"user","type":"address"}],"name":"Unsubscribe","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"channel","type":"address"},{"indexed":false,"internalType":"string","name":"ipfshash","type":"string"}],"name":"UpdateChannel","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdrawal","type":"event"},{"stateMutability":"nonpayable","type":"fallback"},{"inputs":[],"name":"aDaiAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"channels","outputs":[{"internalType":"enum EPNSCore.ChannelType","name":"channelType","type":"uint8"},{"internalType":"uint256","name":"poolContribution","type":"uint256"},{"internalType":"bool","name":"deactivated","type":"bool"},{"internalType":"uint256","name":"memberCount","type":"uint256"},{"internalType":"uint256","name":"channelHistoricalZ","type":"uint256"},{"internalType":"uint256","name":"channelFairShareCount","type":"uint256"},{"internalType":"uint256","name":"channelLastUpdate","type":"uint256"},{"internalType":"uint256","name":"channelStartBlock","type":"uint256"},{"internalType":"uint256","name":"channelWeight","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"channelsCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"daiAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"epnsServerAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"groupFairShareCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"groupHistoricalZ","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"groupLastUpdate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"groupNormalizedWeight","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lendingPoolProviderAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"mapAddressChannels","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ownerDaiFunds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"poolFunds","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"users","outputs":[{"internalType":"uint256","name":"userStartBlock","type":"uint256"},{"internalType":"bool","name":"userActivated","type":"bool"},{"internalType":"bool","name":"publicKeyRegistered","type":"bool"},{"internalType":"bool","name":"channellized","type":"bool"},{"internalType":"uint256","name":"subscribedCount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"usersCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"stateMutability":"payable","type":"receive"},{"inputs":[{"internalType":"bytes","name":"_publicKey","type":"bytes"}],"name":"broadcastUserPublicKey","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_ipfshash","type":"string"},{"internalType":"bytes","name":"_publickey","type":"bytes"}],"name":"createChannelWithFessAndPublicKey","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_ipfshash","type":"string"}],"name":"createChannelWithFees","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"deactivateChannel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"address","name":"_user","type":"address"},{"internalType":"bytes","name":"_publicKey","type":"bytes"}],"name":"subscribeWithPublicKeyDelegated","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"address","name":"_user","type":"address"}],"name":"subscribeDelegated","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"bytes","name":"_publicKey","type":"bytes"}],"name":"subscriberWithPublicKey","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"}],"name":"subsribe","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"}],"name":"unsubscribe","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"claimFairShare","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_recipient","type":"address"},{"internalType":"uint16","name":"_msgType","type":"uint16"},{"internalType":"string","name":"_ipfshash","type":"string"},{"internalType":"bool","name":"_usePush","type":"bool"}],"name":"sendMessage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"address","name":"_recipient","type":"address"},{"internalType":"uint16","name":"_msgType","type":"uint16"},{"internalType":"string","name":"_ipfshash","type":"string"},{"internalType":"bool","name":"_usePush","type":"bool"}],"name":"sendMessageOverrideChannel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawDaiFunds","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawEthFunds","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"donate","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"uint256","name":"_block","type":"uint256"}],"name":"getChannelFSRatio","outputs":[{"internalType":"uint256","name":"ratio","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"address","name":"_user","type":"address"},{"internalType":"uint256","name":"_block","type":"uint256"}],"name":"getSubscriberFSRatio","outputs":[{"internalType":"uint256","name":"ratio","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_channel","type":"address"},{"internalType":"address","name":"_user","type":"address"},{"internalType":"uint256","name":"_block","type":"uint256"}],"name":"calcSingleChannelEarnRatio","outputs":[{"internalType":"uint256","name":"ratio","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_user","type":"address"},{"internalType":"uint256","name":"_block","type":"uint256"}],"name":"calcAllChannelsRatio","outputs":[{"internalType":"uint256","name":"ratio","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"_publicKey","type":"bytes"}],"name":"getWalletFromPublicKey","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"}]')},586:function(e,n,t){!function(){var n=new Array(4);function t(){var e=n[0]^n[0]<<11;return n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=n[3]^n[3]>>19^e^e>>8,(n[3]>>>0)/(1<<31>>>0)}function a(){return"hsl("+Math.floor(360*t())+","+(60*t()+40+"%")+","+(25*(t()+t()+t()+t())+"%")+")"}function r(e){var t={};return t.seed=e.seed||Math.floor(Math.random()*Math.pow(10,16)).toString(16),function(e){for(var t=0;t<n.length;t++)n[t]=0;for(t=0;t<e.length;t++)n[t%4]=(n[t%4]<<5)-n[t%4]+e.charCodeAt(t)}(t.seed),t.size=e.size||8,t.scale=e.scale||4,t.color=e.color||a(),t.bgcolor=e.bgcolor||a(),t.spotcolor=e.spotcolor||a(),t}function o(e,n){var a=function(e){for(var n=e,a=e,r=Math.ceil(n/2),o=n-r,i=[],c=0;c<a;c++){for(var s=[],u=0;u<r;u++)s[u]=Math.floor(2.3*t());var l=s.slice(0,o);l.reverse(),s=s.concat(l);for(var p=0;p<s.length;p++)i.push(s[p])}return i}((e=r(e||{})).size),o=Math.sqrt(a.length);n.width=n.height=e.size*e.scale;var i=n.getContext("2d");i.fillStyle=e.bgcolor,i.fillRect(0,0,n.width,n.height),i.fillStyle=e.color;for(var c=0;c<a.length;c++)if(a[c]){var s=Math.floor(c/o),u=c%o;i.fillStyle=1==a[c]?e.color:e.spotcolor,i.fillRect(u*e.scale,s*e.scale,e.scale,e.scale)}return n}var i={create:function(e){var n=document.createElement("canvas");return o(e,n),n},render:o};e.exports=i,"undefined"!==typeof window&&(window.blockies=i)}()},598:function(e,n,t){e.exports=t(1449)},603:function(e,n,t){},631:function(e,n){},633:function(e,n){},650:function(e,n){},652:function(e,n){},670:function(e,n){},672:function(e,n){},882:function(e,n){},883:function(e,n){},974:function(e,n){},976:function(e,n){},983:function(e,n){},984:function(e,n){}},[[598,1,2]]]);
//# sourceMappingURL=main.89707a21.chunk.js.map